<!DOCTYPE html>
<html manifest="mycache.appmanifest">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />



<style type="text/css">
html { -webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-user-select: none; -ms-touch-action: none;}
.A5container {float:left;padding:0px;}
.A5CWLayout {padding: 4px; float: left; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;}
.A5GridHideErrorCol .A5GridErrorCol {display:none; }
.A5GridRowErrorIcon {display:none;}
.A5GridHasRowError .A5GridRowErrorIcon {display:inline-block;}
.A5GridRowViewMode {display:block;}
.A5GridRowEditMode {display:none;}
.A5GridRowInEditMode .A5GridRowViewMode {display:none;}
.A5GridRowInEditMode .A5GridRowEditMode {display:block;}
.A5GridRowDirty {display:none;}
.A5GridRowClean {display:inline;}
.A5GridRowIsDirty .A5GridRowDirty {display:inline;}
.A5GridRowIsDirty .A5GridRowClean {display:none;}
.errorText {color:red;font-size:8pt;}
.errorTextHighlight {font-weight:bold;font-size:8pt;}
.errorTip {color:red;background:#fffafa url('a5images/boxsize8x8fillUp5FDiagonalWhite3A232552C2392C239.png');border:1px solid #f88;margin-top:2px;padding:2px;font-size:8pt;}
.errorInput {color:red;border:1px solid red;margin:1px;}
.errorInputHighlight {color:red;border:2px solid red;margin:0px;}
.A5SelectedButton {opacity:.5;filter:alpha(opacity=50);}
.A5InvisibleLock {background: rgba(0,0,0,0); }



.A5ContainerAlignCenter {padding: 4px; margin-left:auto;margin-right:auto;text-align: center;}
.A5ContainerAlignLeft {padding: 4px; margin-right:auto;text-align: left;} 
.A5ContainerAlignRight {padding: 4px; margin-left:auto;text-align: right;}

.A5ContainerAlignCenter > .A5CWLayout, .A5ContainerAlignLeft > .A5CWLayout, .A5ContainerAlignRight > .A5CWLayout, .A5ContainerAlignCenter > .A5container, .A5ContainerAlignLeft > .A5container, .A5ContainerAlignRight > .A5container  {display: inline-block; float: none;}




.A5AccordionTitleOn, .A5AccordionTitleOff, .A5AccordionTitleDisabled {display: block;border: 1px solid #999;padding: 2px;text-decoration: none;cursor: pointer;margin-bottom: 2px; padding: 2px}
.A5AccordionPane {border: 1px solid #999;border-top: none;margin-bottom: 2px;margin-top: -2px;}
.A5TabTopOn, .A5TabTopOff, .A5TabTopDisabled {display: block;float: left;border: 1px solid #999;border-bottom: none;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabTopOn {margin-bottom: -1px;padding-bottom: 3px;}
.A5TabBottomOn, .A5TabBottomOff, .A5TabBottomDisabled {display: block;float: left;border: 1px solid #999;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabBottomOn {border-top: none;padding-top: 3px;}
.A5TabLeftOn, .A5TabLeftOff, .A5TabLeftDisabled {display: block;border: 1px solid #999;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabLeftOn {margin-right: -1px;padding-right: 3px;border-right: none;}
.A5TabRightOn, .A5TabRightOff, .A5TabRightDisabled {display: block;border: 1px solid #999;border-left: none;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabRightOn {margin-left: -1px;padding-left: 3px;}
.A5TabTopPane, .A5TabBottomPane, .A5TabLeftPane, .A5TabRightPane {border: 1px solid #999; padding: 2px;}


.A5TabBand {border: 1px solid #999; padding: 0px;}
.A5TabBandTabOn, .A5TabBandTabOff, .A5TabBandTabDisabled {position: relative;display: block;border: 1px solid #999;border-bottom: none;margin-right: 2px;margin-top: 2px;padding: 2px;text-decoration: none;cursor: pointer;white-space: nowrap;}
.A5TabBandTabOn {margin-bottom: -1px;padding-bottom: 3px;}
.A5TabBandSeparator {border: none;border-top: 1px solid #999;height: 3px;padding: 0px;font: 0pt arial;}
.A5TabBandLeftScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-left: none;border-bottom: none;}
.A5TabBandRightScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-right: none;border-bottom: none;}
.A5TabBandTabDisabled, .A5TabTopDisabled, .A5TabLeftDisabled, .A5TabRightDisabled, .A5TabBottomDisabled, .A5AccordionTitleDisabled {opacity: .5; filter: alpha(opacity: 50)}
.A5Window {-moz-border-radius: 3px; -webkit-border-radius: 3px;}
.A5WindowLock{border: 1px solid #000;background: #222;opacity: .25;filter: alpha(opacity: 25);}

.A5AccordionTitleOn:hover, .A5AccordionTitleOff:hover, .A5TabBandTabOff:hover, .A5TabTopOff:hover, .A5TabLeftOff:hover, .A5TabRightOff:hover, .A5TabBottomOff:hover{text-decoration: underline;}

.A5MenuItem {text-decoration:none;}
.A5DialogRSSeparator {border-top: 1px dotted #ccc; line-height:5px; margin-top: 5px;}
.A5DialogRSFooter {margin-top: 10px;}





</style>

<link rel="stylesheet" type="text/css" href="css/Alpha/style.css ">
<link rel="stylesheet" type="text/css" href="css/_sharedStyles/style.css?298">

<style type="text/css">
.DLG1_EDITOR_AN_KEYPAD .keypad {
  text-align: center; }
.DLG1_EDITOR_AN_KEYPAD .keypad > div {
  display: inline-block;
  position: relative; }
.DLG1_EDITOR_AN_KEYPAD .keypadValue {
  margin: 2px;
  margin-bottom: 4px;
  padding: 0px 12px;
  text-align: right;
  font-size: 26px;
  font-weight: bold;
  letter-spacing: 2px;
  line-height: 60px;
  white-space: nowrap;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 2px;
  overflow: hidden;
  position: absolute;
  left: 0px;
  right: 0px; }
.DLG1_EDITOR_AN_KEYPAD .keypadValue > div {
  display: inline-block; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys {
  margin-top: 68px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys div {
  white-space: nowrap;
  padding-bottom: 4px;
  text-align: center; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeysCol {
  float: right;
  padding-left: 2px;
  padding-right: 2px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeysCol button {
  margin-bottom: 6px !important; }
.DLG1_EDITOR_AN_KEYPAD .keypadUpper button {
  text-transform: uppercase !important; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button {
  margin: 2px;
  width: 60px;
  height: 60px;
  line-height: 60px;
  text-align: center;
  padding: 0px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 3px;
  font-weight: bold;
  font-size: 18px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button .icon {
  fill: #fff;
  stroke: #fff; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button.clearKey {
  background: #e81111; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button.dblWidth {
  width: 128px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button.dblHeight {
  height: 128px; }
.DLG1_EDITOR_AN_KEYPAD .multiKey {
  font-size: 14px; }
.DLG1_EDITOR_AN_KEYPAD .multiKeyMenu > div {
  white-space: nowrap; }
.DLG1_EDITOR_AN_KEYPAD .multiKeyMenu > div > div {
  display: inline-block;
  text-align: center;
  min-width: 40px;
  line-height: 60px;
  padding: 0px 10px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button.spaceKey {
  width: 470px;
  margin-left: 6px; }
.DLG1_EDITOR_AN_KEYPAD .keypadKeys button.spaceKeyWide {
  width: 608px;
  margin-left: 6px; }
@keyframes cursor {
  0% {
    border-left-color: #000; }
  50% {
    border-left-color: transparent; }
  100% {
    border-left-color: #000; } }
.DLG1_EDITOR_AN_KEYPAD .displayChar {
  display: inline-block;
  line-height: 32px;
  padding: 4px;
  border-left: 2px solid transparent; }
.DLG1_EDITOR_AN_KEYPAD .cursor {
  border-left: 2px solid black;
  animation-name: cursor;
  animation-duration: 1s;
  animation-iteration-count: infinite; }
.DLG1_EDITOR_NUM_KEYPAD .keypad {
  text-align: center; }
.DLG1_EDITOR_NUM_KEYPAD .keypad > div {
  display: inline-block;
  position: relative; }
.DLG1_EDITOR_NUM_KEYPAD .keypadValue {
  margin: 2px;
  margin-bottom: 4px;
  padding: 0px 12px;
  text-align: right;
  font-size: 26px;
  font-weight: bold;
  letter-spacing: 2px;
  line-height: 60px;
  white-space: nowrap;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 2px;
  overflow: hidden;
  position: absolute;
  left: 0px;
  right: 0px; }
.DLG1_EDITOR_NUM_KEYPAD .keypadValue > div {
  display: inline-block; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys {
  margin-top: 68px; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys div {
  white-space: nowrap;
  padding-bottom: 4px;
  text-align: center; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeysCol {
  float: right;
  padding-left: 2px;
  padding-right: 2px; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeysCol button {
  margin-bottom: 6px !important; }
.DLG1_EDITOR_NUM_KEYPAD .keypadUpper button {
  text-transform: uppercase !important; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys button {
  margin: 2px;
  padding: 0px;
  width: 60px;
  height: 60px;
  line-height: 60px;
  text-align: center;
  padding: 0px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 3px;
  font-weight: bold;
  font-size: 18px;
  vertical-align: top; }
.DLG1_EDITOR_NUM_KEYPAD .keyMissing {
  opacity: .25; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys button .icon {
  fill: #fff;
  stroke: #fff; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys button.clearKey {
  background: #e81111; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys button.dblWidth {
  width: 128px; }
.DLG1_EDITOR_NUM_KEYPAD .keypadKeys button.dblHeight {
  height: 128px; }
.DLG1_EDITOR_NUM_KEYPAD .multiKey {
  font-size: 14px; }
.DLG1_EDITOR_NUM_KEYPAD .multiKeyMenu > div {
  white-space: nowrap; }
.DLG1_EDITOR_NUM_KEYPAD .multiKeyMenu > div > div {
  display: inline-block;
  text-align: center;
  min-width: 40px;
  line-height: 60px;
  padding: 0px 10px; }
._DLG1_GENERATORSLIST_dirtyRow {
  position: relative; }
._DLG1_GENERATORSLIST_dirtyRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid orange;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENERATORSLIST_newRow {
  position: relative; }
._DLG1_GENERATORSLIST_newRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid blue;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENERATORSLIST_hasError {
  position: relative; }
._DLG1_GENERATORSLIST_hasError:after {
  content: "";
  position: absolute;
  bottom: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid red;
  border-bottom-width: 0px;
  border-left-width: 0px;
  border-top-color: transparent; }
._DLG1_GENERATORSLIST_deletedRow {
  position: relative; }
._DLG1_GENERATORSLIST_deletedRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENERATORSLIST_dirtyRowInherited {
  position: relative; }
._DLG1_GENERATORSLIST_dirtyRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid orange;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENERATORSLIST_deletedRowInherited {
  position: relative; }
._DLG1_GENERATORSLIST_deletedRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENERATORSLIST_newRowInherited {
  position: relative; }
._DLG1_GENERATORSLIST_newRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid blue;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENERATORSLIST_hasErrorInherited {
  position: relative; }
._DLG1_GENERATORSLIST_hasErrorInherited:after {
  content: "";
  position: absolute;
  bottom: 0px;
  right: 0px;
  border: 10px solid red;
  border-bottom-width: 0px;
  border-left-width: 0px;
  border-top-color: transparent;
  opacity: .3; }
.parentDeleted {
  position: relative; }
.parentIsDeleted .parentDeleted:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENADMINLIST_dirtyRow {
  position: relative; }
._DLG1_GENADMINLIST_dirtyRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid orange;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENADMINLIST_newRow {
  position: relative; }
._DLG1_GENADMINLIST_newRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid blue;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENADMINLIST_hasError {
  position: relative; }
._DLG1_GENADMINLIST_hasError:after {
  content: "";
  position: absolute;
  bottom: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid red;
  border-bottom-width: 0px;
  border-left-width: 0px;
  border-top-color: transparent; }
._DLG1_GENADMINLIST_deletedRow {
  position: relative; }
._DLG1_GENADMINLIST_deletedRow:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  opacity: 1;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent; }
._DLG1_GENADMINLIST_dirtyRowInherited {
  position: relative; }
._DLG1_GENADMINLIST_dirtyRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid orange;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENADMINLIST_deletedRowInherited {
  position: relative; }
._DLG1_GENADMINLIST_deletedRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENADMINLIST_newRowInherited {
  position: relative; }
._DLG1_GENADMINLIST_newRowInherited:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid blue;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
._DLG1_GENADMINLIST_hasErrorInherited {
  position: relative; }
._DLG1_GENADMINLIST_hasErrorInherited:after {
  content: "";
  position: absolute;
  bottom: 0px;
  right: 0px;
  border: 10px solid red;
  border-bottom-width: 0px;
  border-left-width: 0px;
  border-top-color: transparent;
  opacity: .3; }
.parentDeleted {
  position: relative; }
.parentIsDeleted .parentDeleted:before {
  content: "";
  position: absolute;
  top: 0px;
  right: 0px;
  border: 10px solid purple;
  border-top-width: 0px;
  border-left-width: 0px;
  border-bottom-color: transparent;
  opacity: .3; }
.EDITOR_SIGNATURE_SIGNATUREINKActivePage {
  background: #fff;
  border: 1px solid #28a4ff; }
</style>
<style>
</style>


<script type="text/javascript" src="javascript/a5.js"></script>
<script type="text/javascript" src="javascript/a5_url.js"></script>
<script type="text/javascript" src="css/Alpha/style.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
<script>
	if(typeof jQuery != 'undefined') jQuery.noConflict();
</script>
<script type="text/javascript" src="_phoneGapSettings.js"></script>

<title></title>
</head>
<body class="page">
<iframe style="display:none;" id="DLG1.__IFRAME1"></iframe>
<input type="hidden" value="" id="DLG1.PARAMETERBUCKET"/>
<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="DLG1._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="DLG1._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="DLG1._GETFILE"/><input type="hidden" id="DLG1.V.R1.GENERATORSLIST" name="V.R1.GENERATORSLIST" />
<input type="hidden" id="DLG1.V.R1.BUSCAT" name="V.R1.BUSCAT" />
<input type="hidden" id="DLG1.V.R1.GENADMINLIST" name="V.R1.GENADMINLIST" />
<input id="DLG1.V.R1.EDITOR_DATE_S_MONTH" name="V.R1.EDITOR_DATE_S_MONTH" type="hidden"/>
<input id="DLG1.V.R1.EDITOR_DATE_S_DAY" name="V.R1.EDITOR_DATE_S_DAY" type="hidden"/>
<input id="DLG1.V.R1.EDITOR_DATE_S_YEAR" name="V.R1.EDITOR_DATE_S_YEAR" type="hidden"/>
<input type="hidden" id="DLG1.V.R1.EDITOR_SIGNATURE_SIGNATUREINK" name="V.R1.EDITOR_SIGNATURE_SIGNATUREINK" />
<input type="hidden" id="DLG1.V.R1.EDITOR_AN_KEYPAD" name="V.R1.EDITOR_AN_KEYPAD" />
<input type="hidden" id="DLG1.V.R1.EDITOR_NUM_KEYPAD" name="V.R1.EDITOR_NUM_KEYPAD" />

<script type="text/javascript" language="javascript">


/*
Copyright (c) 2001, 2017 Alpha Software Corporation
All Rights Reserved.
This JavaScript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,
Alpha Five Application Server, Alpha Anywhere Application Server,
Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically
not licensed for use on a server that does not have installed on it a
licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.
Portions:
(c) Copyright 2010- 2017 Software Garden, Inc.
All Rights Reserved.
*/
A5.ink={_:{pageLines:{'signature':{defaults:{size:120,margin:20,x:{show:true,color:'#000',width:5,ratio:.75,margin:30},baseLine:{show:true,color:'#000',width:1},background:'',text:{show:false,data:'',size:60,margin:5,color:'#000',fontFamily:'Arial'}},navigate:function(d,r,s){return d;},draw:function(r,s,c){var svg='';var hm=Math.round(s.margin*r.scale);var vm=Math.round(((r.height-s.size-$if(s.text.show,s.text.size+s.text.margin,0))*r.scale)/2);var rh=Math.round((s.size*r.scale));var rw=Math.round((r.width*r.scale)-(hm*2));var xl=(r.x*r.scale)+hm;var xr=xl+rw;var yt=(r.y*r.scale)+vm;var yb=yt+rh;if(s.background!=''){if(c){c.fillStyle=s.background;c.fillRect(xl,yt,rw,rh);}else{svg+='<rect x="'+xl+'" y="'+yt+'" width="'+rw+'" height="'+rh+'" style="stroke: none; fill: '+s.background+';" />';}}
if(s.baseLine.show){var sWidth=Math.max(1,s.baseLine.width*r.scale);if(c){c.strokeStyle=s.baseLine.color;c.lineWidth=sWidth;c.lineCap='butt';c.beginPath();c.moveTo(xl,yb);c.lineTo(xr,yb);c.stroke();c.closePath()}else{svg+='<path d="M '+xl+' '+yb+' L '+xr+' '+yb+'" style="stroke: '+s.baseLine.color+'; stroke-width: '+sWidth+'; stroke-linecap: butt;" />';}}
if(s.x.show){var xoff=(s.x.margin*r.scale);var xh=Math.round(rh-(xoff*2));var xw=Math.round(xh*s.x.ratio);var xxl=xl+xoff;var xxr=xxl+xw;var xyt=yt+xoff;var xyb=xyt+xh;var sWidth=Math.max(1,s.x.width*r.scale);if(c){c.strokeStyle=s.x.color;c.lineWidth=sWidth;c.lineCap='round';c.beginPath();c.moveTo(xxl,xyt);c.lineTo(xxr,xyb);c.stroke();c.moveTo(xxl,xyb);c.lineTo(xxr,xyt);c.stroke();c.closePath()}else{svg+='<path d="M '+xxl+' '+xyt+' L '+xxr+' '+xyb+'" style="stroke: '+s.x.color+'; stroke-width: '+sWidth+'; stroke-linecap: round;" />';svg+='<path d="M '+xxl+' '+xyb+' L '+xxr+' '+xyt+'" style="stroke: '+s.x.color+'; stroke-width: '+sWidth+'; stroke-linecap: round;" />';}}
if(s.text.show){var tyt=yb+((s.text.size+s.text.margin)*r.scale);var txt=s.text.data;if(txt[0]=='@'){txt=txt.substr(1);txt=txt.split('||');var altTxt=txt[1]||'';txt=txt[0];txt=txt.split('.');var d=this.meta;while(txt.length>0){if(typeof d[txt[0]]!='undefined'){d=d[txt[0]];txt.shift();}else{d=altTxt;break;}}
if(typeof d=='string'&&d!='')txt=d;else txt=altTxt;}
if(c){c.font=(s.text.size*r.scale)+'px '+s.text.fontFamily;c.fillStyle=s.text.color;c.fillText(txt,xl,tyt);}else{svg+='<text x="'+xl+'" y="'+tyt+'" style="fill: '+s.text.color+'; stroke: none; font: '+(s.text.size*r.scale)+'px '+s.text.fontFamily+'">'+txt+'</text>';}}
return svg;}},'graph':{defaults:{style:'normal',color:'#c7c7c7',width:1,size:120,minor:0,margin:{top:0,left:0,right:0,bottom:0,adjust:true}},navigate:function(d,r,s){if(d=='forward')return'right';else if(d=='back')return'left';else if(d=='start')return{x:0,y:0};else if(d=='end')return{x:r.width,y:r.height};else if(d=='line-start')return{x:0,y:r.y};else if(d=='line-end')return{x:r.width,y:r.y};else if(d=='new-line')return{x:Math.max(s.margin.left-10,0),y:r.y+s.size};else if(d=='prev-line')return{x:r.x,y:r.y-s.size};else if(d=='next-line')return{x:r.x,y:r.y+s.size};},draw:function(r,s,c){if(!r.editing&&s.style[0]=='e')return'';var cs=s.size*r.scale;var csm=0;if(s.minor>0){csm=cs/s.minor;if(csm>4)csm=csm;else csm=0;}
if(s.margin.adjust){var hm=((r.width*r.scale)-(Math.floor((((r.width-s.margin.left-s.margin.right)*r.scale))/cs)*cs))/2;var vm=((r.height*r.scale)-(Math.floor((((r.height-s.margin.top-s.margin.bottom)*r.scale))/cs)*cs))/2;var xl=Math.floor((r.x*r.scale)+hm);var xr=Math.ceil(((r.x+r.width)*r.scale)-hm);var yt=Math.floor((r.y*r.scale)+vm);var yb=Math.ceil(((r.y+r.height)*r.scale)-vm);}else{var xl=Math.floor(((r.x+s.margin.left)*r.scale));var xr=Math.ceil(((r.x-s.margin.right+r.width)*r.scale));var yt=Math.floor(((r.y+s.margin.top)*r.scale));var yb=Math.ceil(((r.y-s.margin.bottom+r.height)*r.scale));}
var svg='';var sWidth=Math.max(1,s.width*r.scale);if(csm>0){if(c){c.strokeStyle=s.color;c.lineWidth=sWidth;c.lineCap='square';c.globalAlpha=.5;}else{svg+='<g style="stroke-width: '+sWidth+'; stroke-linecap: square;"><g style="stroke: '+s.color+'; stroke-opacity: .5;">';}
var lc=0;var cx=xl;var start=xl;while(cx<=xr){if(lc!=0){if(c){c.beginPath();c.moveTo(cx,yt);c.lineTo(cx,yb);c.stroke();c.closePath()}else{svg+='<path d="M '+cx+' '+yb+' L '+cx+' '+yb+'" />';}}
lc++;if(lc==s.minor){lc=0;start+=cs;cx=start;}else cx+=csm;}
lc=0;var cy=yt;start=yt;while(cy<=yb){if(lc!=0){if(c){c.beginPath();c.moveTo(xl,cy);c.lineTo(xr,cy);c.stroke();c.closePath()}else{svg+='<path d="M '+xl+' '+cy+' L '+xr+' '+cy+'" />';}}
lc++;if(lc==s.minor){lc=0;start+=cs;cy=start;}else cy+=csm;}
if(!c)svg+='</g>';}
if(c){c.strokeStyle=s.color;c.lineWidth=sWidth;c.lineCap='square';c.globalAlpha=1;}else{svg+='<g style="stroke-width: '+sWidth+'; stroke-linecap: square;"><g style="stroke: '+s.color+';">';}
var cx=xl;while(cx<=xr){if(c){c.beginPath();c.moveTo(cx,yt);c.lineTo(cx,yb);c.stroke();c.closePath()}else{svg+='<path d="M '+cx+' '+yb+' L '+cx+' '+yb+'" />';}
cx+=cs;}
var cy=yt;while(cy<=yb){if(c){c.beginPath();c.moveTo(xl,cy);c.lineTo(xr,cy);c.stroke();c.closePath()}else{svg+='<path d="M '+xl+' '+cy+' L '+xr+' '+cy+'" />';}
cy+=cs;}
if(!s.margin.adjust){if(c){c.beginPath();c.moveTo(xl,yt);c.lineTo(xr,yt);c.stroke();c.closePath()
c.beginPath();c.moveTo(xl,yb);c.lineTo(xr,yb);c.stroke();c.closePath()
c.beginPath();c.moveTo(xl,yt);c.lineTo(xl,yb);c.stroke();c.closePath()
c.beginPath();c.moveTo(xr,yt);c.lineTo(xr,yb);c.stroke();c.closePath()}else{svg+='<path d="M '+xl+' '+yt+' L '+xr+' '+yt+'" />';svg+='<path d="M '+xl+' '+yb+' L '+xr+' '+yb+'" />';svg+='<path d="M '+xl+' '+yt+' L '+xl+' '+yb+'" />';svg+='<path d="M '+xr+' '+yt+' L '+xr+' '+yb+'" />';}}
if(!c)svg+='</g>';return svg;}},'ruled':{defaults:{flow:'ltr',style:'normal',width:1,margin:{color:'#f98a6e',top:120,left:120,right:120,bottom:120},rules:{color:'#c7c7c7',size:120}},navigate:function(d,r,s){if(s.flow=='ltr'||s.flow=='rtl'){var rOff=0;if(r.clip.height>s.rules.size*2)rOff=s.rules.size/2;else if(r.clip.height>s.rules.size*1.5)rOff=s.rules.size/3;var cLine=Math.floor(((r.y+s.rules.size)-s.margin.top-1)/s.rules.size);var lLine=Math.floor((r.height-s.margin.top-s.margin.bottom)/s.rules.size)-1;if(s.flow=='ltr'){if(d=='forward')return'right';else if(d=='back')return'left';else if(d=='start')return{x:Math.max(s.margin.left-10,0),y:s.margin.top+s.rules.size+rOff-r.clip.height};else if(d=='end')return{x:r.width,y:s.margin.top+(lLine*s.rules.size)-rOff};else if(d=='line-start')return{x:Math.max(s.margin.left-10,0),y:s.margin.top+(cLine*s.rules.size)-rOff};else if(d=='line-end')return{x:r.width,y:s.margin.top+(cLine*s.rules.size)-rOff};else if(d=='new-line')return{x:Math.max(s.margin.left-10,0),y:s.margin.top+(Math.min(cLine+1,lLine)*s.rules.size)-rOff};}else{if(d=='forward')return'left';else if(d=='back')return'right';else if(d=='start')return{x:r.width-Math.max(s.margin.right-10,0),y:s.margin.top+s.rules.size+rOff-r.clip.height};else if(d=='end')return{x:0,y:s.margin.top+(lLine*s.rules.size)-rOff};else if(d=='line-start')return{x:r.width-Math.max(s.margin.right-10,0),y:s.margin.top+(cLine*s.rules.size)-rOff};else if(d=='line-end')return{x:0,y:s.margin.top+(cLine*s.rules.size)-rOff};else if(d=='new-line')return{x:r.width-Math.max(s.margin.right-10,0),y:s.margin.top+(Math.min(cLine+1,lLine)*s.rules.size)-rOff};}
if(d=='prev-line')return{x:r.x,y:s.margin.top+(Math.max(cLine-1,0)*s.rules.size)-rOff};else if(d=='next-line')return{x:r.x,y:s.margin.top+(Math.min(cLine+1,lLine)*s.rules.size)-rOff};}else if(s.flow=='ttb-ltr'){var rOff=0;if(r.clip.width>s.rules.size*2)rOff=s.rules.size/2;else if(r.clip.width>s.rules.size*1.5)rOff=s.rules.size/3;var cLine=Math.floor(((r.x+s.rules.size)-s.margin.left-1)/s.rules.size);var lLine=Math.floor((r.width-s.margin.left-s.margin.right)/s.rules.size)-1;if(d=='forward')return'down';else if(d=='back')return'up';else if(d=='start')return{x:s.margin.left+s.rules.size+rOff-r.clip.width,y:Math.max(s.margin.top-10,0)};else if(d=='end')return{x:s.margin.left+(lLine*s.rules.size)-rOff,y:r.height};else if(d=='line-start')return{x:s.margin.left+(cLine*s.rules.size)-rOff,y:Math.max(s.margin.top-10,0)};else if(d=='line-end')return{x:s.margin.left+(cLine*s.rules.size)-rOff,y:r.height};else if(d=='new-line')return{x:s.margin.left+(Math.min(cLine+1,lLine)*s.rules.size)-rOff,y:Math.max(s.margin.top-10,0)};else if(d=='prev-line')return{x:s.margin.left+(Math.max(cLine-1,0)*s.rules.size)-rOff,y:r.y};else if(d=='next-line')return{x:s.margin.left+(Math.min(cLine+1,lLine)*s.rules.size)-rOff,y:r.y};}else if(s.flow=='ttb-ltr'||s.flow=='ttb-rtl'){var rOff=0;if(r.clip.width>s.rules.size*2)rOff=s.rules.size/2;else if(r.clip.width>s.rules.size*1.5)rOff=s.rules.size/3;var cLine=Math.floor(((r.x+s.rules.size)-s.margin.left-1)/s.rules.size)-1;var lLine=Math.floor((r.width-s.margin.left-s.margin.right)/s.rules.size)-1;var fOff=r.width-((lLine+1)*s.rules.size)-s.margin.left-s.margin.right;if(d=='forward')return'down';else if(d=='back')return'up';else if(d=='start')return{x:s.margin.left+(lLine*s.rules.size)-rOff+fOff,y:Math.max(s.margin.top-10,0)};else if(d=='end')return{x:s.margin.left+s.rules.size+rOff-r.clip.width+fOff,y:r.height};else if(d=='line-start')return{x:s.margin.left+(cLine*s.rules.size)-rOff+fOff,y:Math.max(s.margin.top-10,0)};else if(d=='line-end')return{x:s.margin.left+(cLine*s.rules.size)-rOff+fOff,y:r.height};else if(d=='new-line')return{x:s.margin.left+(Math.max(cLine-1,0)*s.rules.size)-rOff+fOff,y:Math.max(s.margin.top-10,0)};else if(d=='prev-line')return{x:s.margin.left+(Math.min(cLine+1,lLine)*s.rules.size)-rOff+fOff,y:r.y};else if(d=='next-line')return{x:s.margin.left+(Math.max(cLine-1,0)*s.rules.size)-rOff+fOff,y:r.y};}},draw:function(r,s,c){if(!r.editing&&s.style[0]=='e')return'';var svg='';var sWidth=Math.max(1,s.width*r.scale);var dash=[(sWidth*3),(sWidth*3)];if(c){if(s.style[0]=='e'&&c.setLineDash)c.setLineDash(dash);c.strokeStyle=s.rules.color;c.lineWidth=sWidth;c.lineCap='square';}else{svg+='<g style="stroke-width: '+sWidth+'; stroke-linecap: square;"><g style="stroke: '+s.rules.color+';">';}
if(s.flow=='ltr'||s.flow=='rtl'){var pl=Math.round(r.x*r.scale);var pr=Math.round((r.width+r.x)*r.scale);var xl=Math.round((s.margin.left+r.x)*r.scale);var xr=Math.round((r.x+r.width-s.margin.right)*r.scale);var yt=Math.round(r.y*r.scale);var yb=Math.round((r.height+r.y)*r.scale);var rs=Math.round(s.rules.size*r.scale);var rt=Math.round(yt+rs+(s.margin.top*r.scale));var rb=Math.round((Math.floor((yb-rt-(s.margin.bottom*r.scale))/rs)*rs)+rt);var rl=pl;var rr=pr;if(s.style[0]=='m'){if(c){var rt2=rt;if(c.setLineDash)c.setLineDash(dash);while(rt2<rb){if(c){c.beginPath();c.moveTo(pl,rt2);c.lineTo(xl,rt2);c.stroke();c.moveTo(pr,rt2);c.lineTo(xr,rt2);c.stroke();c.closePath();}
rt2+=rs;}
if(c.setLineDash)c.setLineDash([]);}
rl=xl;rr=xr;}
while(rt<rb){if(c){c.beginPath();c.moveTo(rl,rt);c.lineTo(rr,rt);c.stroke();c.closePath();}else{svg+='<path d="M '+rl+' '+rt+' L '+rr+' '+rt+'" />';}
rt+=rs;}
if(s.flow=='ltr'){var xp=xl;var xs=xr;}else{var xp=xr;var xs=xl;}
if(c){if(s.style[0]=='m'&&c.setLineDash)c.setLineDash(dash);c.strokeStyle=s.margin.color;c.beginPath();c.moveTo(xp,yt);c.lineTo(xp,yb);c.stroke();c.closePath();c.globalAlpha=.4;c.beginPath();c.moveTo(xs,yt);c.lineTo(xs,yb);c.stroke();c.closePath();if(s.style[0]=='m'){c.beginPath();c.moveTo(pl,rb);c.lineTo(xl,rb);c.stroke();c.closePath();c.beginPath();c.moveTo(pr,rb);c.lineTo(xr,rb);c.stroke();c.closePath();if(c.setLineDash)c.setLineDash([]);}
c.beginPath();c.moveTo(rl,rb);c.lineTo(rr,rb);c.stroke();c.closePath();c.globalAlpha=1;}else{if(s.style[0]=='m'){svg+='<path d="M '+rl+' '+rb+' L '+rr+' '+rb+'"/>';svg+='</g>';}else{svg+='</g>';svg+='<path d="M '+xs+' '+yt+' L '+xs+' '+yb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';if(r.editing)svg+='<path d="M '+pl+' '+rb+' L '+pr+' '+rb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';else svg+='<path d="M '+pl+' '+rb+' L '+pr+' '+rb+'" style="stroke: '+s.rules.color+';" />';svg+='<path d="M '+xp+' '+yt+' L '+xp+' '+yb+'" style="stroke: '+s.margin.color+';" />';}}}else if(s.flow=='ttb-ltr'||s.flow=='ttb-rtl'){var pt=Math.round(r.y*r.scale);var pb=Math.round((r.height+r.y)*r.scale);var xl=Math.round(r.x*r.scale);var xr=Math.round((r.width+r.x)*r.scale);var yt=Math.round((s.margin.top+r.y)*r.scale);var yb=Math.round((r.height+r.y-s.margin.bottom)*r.scale);var rs=Math.round(s.rules.size*r.scale);var rl=Math.round(xl+(s.margin.left*r.scale))+rs;var rr=Math.round((Math.floor((xr-rl-(s.margin.right*r.scale))/rs)*rs)+rl)-rs;if(s.flow=='ttb-rtl'){var off=(r.width*r.scale)-(rr-rl)-(rs*2)-((s.margin.right+s.margin.left)*r.scale);rl+=off;rr+=off;}
var rt=pt;var rb=pb;var rc=rl;if(s.style[0]=='m'){if(c){var rc2=rc;if(c.setLineDash)c.setLineDash(dash);while(rc2<=rr){if(c){c.beginPath();c.moveTo(rc2,rt);c.lineTo(rc2,yt);c.stroke();c.moveTo(rc2,rb);c.lineTo(rc2,yb);c.stroke();c.closePath();}
rc2+=rs;}
if(c.setLineDash)c.setLineDash([]);}
var rt=yt;var rb=yb;}
while(rc<=rr){if(c){c.beginPath();c.moveTo(rc,rt);c.lineTo(rc,rb);c.stroke();c.closePath()}else{svg+='<path d="M '+rc+' '+rt+' L '+rc+' '+rb+'" />';}
rc+=rs;}
rl-=rs;rr+=rs;if(c){if(s.style[0]=='m'&&c.setLineDash)c.setLineDash(dash);c.strokeStyle=s.margin.color;c.beginPath();c.moveTo(xl,yt);c.lineTo(xr,yt);c.stroke();c.closePath();c.globalAlpha=.4;c.beginPath();c.moveTo(xl,yb);c.lineTo(xr,yb);c.stroke();c.closePath();if(s.style[0]=='m'){if(s.flow=='ttb-rtl'){c.beginPath();c.moveTo(rr,pt);c.lineTo(rr,pb);c.stroke();c.closePath();c.beginPath();c.moveTo(rl,pt);c.lineTo(rl,rt);c.stroke();c.closePath();c.beginPath();c.moveTo(rl,pb);c.lineTo(rl,rb);c.stroke();c.closePath();if(c.setLineDash)c.setLineDash([]);c.beginPath();c.moveTo(rl,rt);c.lineTo(rl,rb);c.stroke();c.closePath();}else{c.beginPath();c.moveTo(rl,pt);c.lineTo(rl,pb);c.stroke();c.closePath();c.beginPath();c.moveTo(rr,pt);c.lineTo(rr,rt);c.stroke();c.closePath();c.beginPath();c.moveTo(rr,pb);c.lineTo(rr,rb);c.stroke();c.closePath();if(c.setLineDash)c.setLineDash([]);c.beginPath();c.moveTo(rr,rt);c.lineTo(rr,rb);c.stroke();c.closePath();}}else{c.beginPath();c.moveTo(rr,pt);c.lineTo(rr,pb);c.stroke();c.closePath();c.beginPath();c.moveTo(rl,pt);c.lineTo(rl,pb);c.stroke();c.closePath();}
c.globalAlpha=1;}else{if(s.style[0]=='m'){if(s.flow=='ttb-rtl')svg+='<path d="M '+rl+' '+rt+' L '+rl+' '+rb+'" />';else svg+='<path d="M '+rr+' '+rt+' L '+rr+' '+rb+'" />';svg+='</g>';}else{svg+='</g>';svg+='<path d="M '+xl+' '+yb+' L '+xr+' '+yb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';if(s.flow=='ttb-rtl'){svg+='<path d="M '+rr+' '+pt+' L '+rr+' '+pb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';if(r.editing)svg+='<path d="M '+rl+' '+pt+' L '+rl+' '+pb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';else svg+='<path d="M '+rl+' '+pt+' L '+rl+' '+pb+'" style="stroke: '+s.rules.color+';" />';}else{svg+='<path d="M '+rl+' '+pt+' L '+rl+' '+pb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';if(r.editing)svg+='<path d="M '+rr+' '+pt+' L '+rr+' '+pb+'" style="stroke: '+s.margin.color+'; stroke-opacity: .4;" />';else svg+='<path d="M '+rr+' '+pt+' L '+rr+' '+pb+'" style="stroke: '+s.rules.color+';" />';}
svg+='<path d="M '+xl+' '+yt+' L '+xr+' '+yt+'" style="stroke: '+s.margin.color+';" />';}}}
if(c){if(s.style[0]=='e'&&c.setLineDash)c.setLineDash([]);}else svg+='</g>';return svg;}}}},shapes:{'line':{draw:function(xy,set,data,ctx){ctx.moveTo(xy.startX,xy.startY);ctx.lineTo(xy.endX,xy.endY);ctx.stroke();},commit:function(xy,set,data){data.drawLine(xy.startX,xy.startY,xy.endX,xy.endY,15);}},'arrow':{draw:function(xy,set,data,ctx){ctx.moveTo(xy.startX,xy.startY);ctx.lineTo(xy.endX,xy.endY);var w=ctx.lineWidth*6;var dx=xy.endX-xy.startX;var dy=xy.endY-xy.startY;var deg=Math.atan2(dy,dx)*180/Math.PI;var a1=(deg-135)%360*Math.PI/180;var a2=(deg+135)%360*Math.PI/180;var tx=xy.endX+(w*Math.cos(a1));var ty=xy.endY+(w*Math.sin(a1));ctx.moveTo(xy.endX,xy.endY);ctx.lineTo(tx,ty);tx=xy.endX+(w*Math.cos(a2));ty=xy.endY+(w*Math.sin(a2));ctx.moveTo(xy.endX,xy.endY);ctx.lineTo(tx,ty);ctx.stroke();},commit:function(xy,set,data){data.drawLine(xy.startX,xy.startY,xy.endX,xy.endY,15);var w=data.state.stroke.activeWidth*6;var dx=xy.endX-xy.startX;var dy=xy.endY-xy.startY;var deg=Math.atan2(dy,dx)*180/Math.PI;var a1=(deg-135)%360*Math.PI/180;var a2=(deg+135)%360*Math.PI/180;var tx=xy.endX+(w*Math.cos(a1));var ty=xy.endY+(w*Math.sin(a1));data.drawLine(xy.endX,xy.endY,tx,ty,5,true);tx=xy.endX+(w*Math.cos(a2));ty=xy.endY+(w*Math.sin(a2));data.drawLine(xy.endX,xy.endY,tx,ty,5,true);}},'rect':{draw:function(xy,set,data,ctx){ctx.rect(Math.min(xy.startX,xy.endX),Math.min(xy.startY,xy.endY),Math.abs(xy.endX-xy.startX),Math.abs(xy.endY-xy.startY));ctx.stroke();},commit:function(xy,set,data){data.drawLine(xy.startX,xy.startY,xy.endX,xy.startY,10);data.drawLine(xy.startX,xy.endY,xy.endX,xy.endY,10,true);data.drawLine(xy.startX,xy.startY,xy.startX,xy.endY,10,true);data.drawLine(xy.endX,xy.startY,xy.endX,xy.endY,10,true);}},},penPreview:function(p,o){$u.o.assign(p,{width:1,color:'#000000',lineCap:'round'},true);$u.o.assign(o,{size:20,width:{show:'auto'},clip:{shape:'circle'}},true);var lc=p.lineCap
if(lc=='butt')lc='square';var r=Math.round(o.size/2);var r2=r-1;var soff=4+Math.round(p.width/2+.499999);var sm=Math.round((o.size-(soff*2))/2);var color='dark';var svg=['<svg width="'+o.size+'" height="'+o.size+'">'];var isTooBig=false;if(p.width>(r-(p.width/1.5))){if(o.clip.shape=='circle'){svg=svg.concat(['<defs>','<clipPath id="A5InkStrokePreviewClip'+o.size+'">','<circle cx="'+r+'" cy="'+r+'" r="'+(r2-2)+'" />','</clipPath>','</defs>']);}else{svg=svg.concat(['<defs>','<clipPath id="A5InkStrokePreviewClip'+o.size+'">','<rect x="0" y="0" width="'+o.size+'" height="'+o.size+'"/>','</clipPath>','</defs>']);}
svg.push('<line x1="'+soff+'" y1="'+r+'" x2="'+(o.size-soff)+'" y2="'+r+'" style="fill: none; stroke: '+p.color+'; stroke-width: '+p.width+'; stroke-linecap: '+lc+';" clip-path="url(#A5InkStrokePreviewClip'+o.size+')" />');isTooBig=true;}else{svg.push('<path d="m '+soff+','+r+' c '+sm+',-'+sm+' '+sm+','+sm+' '+(sm*2)+',0" style="fill: none; stroke: '+p.color+'; stroke-width: '+p.width+'; stroke-linecap: '+lc+';"/>');}
if(o.width.show=='always'||(o.width.show=='auto'&&isTooBig)){svg.push('<g style="opacity: .5;">');svg.push('<text x="'+(o.size-2)+'" y="0" text-anchor="end" font-size="10" dy="10" style="fill: black; stroke: white; stroke-width: 1;">'+p.width+'</text>');svg.push('<text x="'+(o.size-2)+'" y="0" text-anchor="end" font-size="10" dy="10" style="fill: black;">'+p.width+'</text>');svg.push('</g>');}
svg.push('</svg>');return{'svg':svg.join(''),'color':color};},toSVG:function(ink,o){$u.o.assign(o,{size:{width:'auto',height:'auto'},bounds:'page',page:{background:true,lines:true}},true);var data=new A5.ink._.Data();data.fromFormat(ink);var b={x:0,y:0,w:data._maxX,h:data._maxY};if(typeof o.bounds=='object'){if(o.bounds.type=='ink'){var m=typeof o.bounds.margin=='number'?o.bounds.margin:0;b.x=Math.max(data._b.l-m,0);b.y=Math.max(data._b.t-m,0);b.w=Math.min(data._b.r-data._b.l+(m*2),data._maxX-b.x);b.h=Math.min(data._b.b-data._b.t+(m*2),data._maxY-b.y);}else if(o.bounds.type=='explicit'){b.x=o.bounds.x;b.y=o.bounds.y;b.w=o.bounds.width;b.h=o.bounds.height;}}
var scale=1;var w=-1;var h=-1;if(typeof o.size.scale=='number'){scale=o.size.scale;w=b.w*scale;h=b.h*scale;}else if(typeof o.size.zoom=='string'){scale=data.zoomToScale(o.size.zoom);w=b.w*scale;h=b.h*scale;}else{if(o.size.width=='auto'&&o.size.height=='auto'){w=b.w;h=b.h;}else{if(o.size.width!='auto'){if(''+o.size.width==''+Number(o.size.width))w=Number(o.size.width);else w=A5.u.convertUnits(o.size.width,'px');}
if(o.size.height!='auto'){if(''+o.size.height==''+Number(o.size.height))h=Number(o.size.height);else h=A5.u.convertUnits(o.size.height,'px');}
if(w!=-1&&h==-1){scale=w/b.w;h=b.h*scale;}else if(w==-1&&h!=-1){scale=h/b.h;w=b.w*scale;}else{scale=Math.min(w/b.w,h/b.h);}}}
var svg=data.renderRect({x:0,y:0,w:w,h:h},{editing:false,scale:scale,offset:{x:-b.x,y:-b.y},showPageLines:o.page.lines},null);var ps=data.scaleToPageSize(scale);var bg=data.page.background;if(bg.image&&o.page.background){var xOff=0-(b.x*scale);var yOff=0-(b.y*scale);if(typeof bg.image.size=='object'){var w=bg.image.size.width*scale;var h=bg.image.size.height*scale;var x=(ps.width-w)/2;var y=(ps.height-h)/2;if(bg.image.position.indexOf('left')!=-1)x=0;else if(bg.image.position.indexOf('right')!=-1)x=ps.width-w;if(bg.image.position.indexOf('top')!=-1)y=0;else if(bg.image.position.indexOf('bottom')!=-1)y=ps.height-h;x=x-xOff;y=y-yOff;svg='<image xlink:href="'+bg.image.data+'" preserveAspectRatio="none" x="'+x+'" y="'+y+'" width="'+w+'px" height="'+h+'px"/>'+svg;}else{var xPos='xMid';var yPos='YMid';if(bg.image.position.indexOf('left')!=-1)xPos='xMin';else if(bg.image.position.indexOf('right')!=-1)xPos='xMax';if(bg.image.position.indexOf('top')!=-1)yPos='YMin';else if(bg.image.position.indexOf('bottom')!=-1)yPos='YMax';if(bg.image.size=='contain'){svg='<image xlink:href="'+bg.image.data+'" preserveAspectRatio="'+xPos+yPos+' meet" x="'+xOff+'" y="'+yOff+'" width="'+ps.width+'px" height="'+ps.height+'px"/>'+svg;}else if(bg.image.size=='cover'){svg='<image xlink:href="'+bg.image.data+'" preserveAspectRatio="'+xPos+yPos+' slice" x="'+xOff+'" y="'+yOff+'" width="'+ps.width+'px" height="'+ps.height+'px"/>'+svg;}}}
var bgCSS='';if(bg.color!=''){bgCSS='background-color: '+bg.color+';';}
var attr=typeof arguments[2]=='string'?' '+arguments[2]:'';svg='<svg viewBox="0 0 '+(b.w*scale)+' '+(b.h*scale)+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink" style="width: '+w+'px; height: '+h+'px; '+bgCSS+'"'+attr+'>'+svg+'</svg>';return svg;}};A5.ink._.Data=Class.create({initialize:function(s){if(typeof s=='undefined')s={};$u.o.assign(this,{page:{width:300,height:200,unit:'px',dpu:6,lines:false,background:{image:false,color:''}},meta:{bounds:{}},state:{}},true);$u.o.assign(this,s);this.pts=[];this.strokes=[];this.attrs=[];this.state.stroke={maxWidth:1,activeWidth:1};this.state.pen={};this._cStroke=-1;this._cStrokeOff=1;this._cAttr=this.getPenAttr(1,'#000000','r');this._uo=new A5.ink._.Undo();var d=new Date();this.state.created=d.toFormat('yyyy-MM-dd 0h:0m:0s am');this.meta.created=this.state.created;this.meta.modified=this.meta.created;this._initSize();},_initSize:function(){this._maxX=this.page.width*this.page.dpu;this._maxY=this.page.height*this.page.dpu;this._b={l:this._maxX,t:this._maxY,r:0,b:0};$u.o.assign(this.meta.bounds,this._b);if(this.page.lines){if(A5.ink._.pageLines[this.page.lines.type]){var l=A5.ink._.pageLines[this.page.lines.type];if(l.defaults)$u.o.assign(this.page.lines,l.defaults,true);}}},clear:function(){if(arguments[0]==true){this.pts=[];this.strokes=[];this.attrs=[];this.state.stroke={maxWidth:1,activeWidth:1};this._cStroke=-1;this._cStrokeOff=1;this._cAttr=this.getPenAttr(1,'#000000','r');}else{this._uo=null;this.initialize();}},toFormat:function(saveBg){var str='#A5Ink\n';str+='version 1.0\n';var d=new Date();this.meta.created=this.state.created;this.meta.modified=d.toFormat('yyyy-MM-dd 0h:0m:0s am');this.meta.pen={};$u.o.assign(this.meta.pen,this.state.pen);var md={};$u.o.assign(md,this.meta);md.bounds=this._b;var s={page:{},meta:md};$u.o.assign(s.page,this.page);if(typeof s.page.background=='object'){if(typeof s.page.background.save=='boolean'){if(!s.page.background.save)delete s.page.background;}}
s=JSON.stringify(s);str+='settings %json%\n'+s+'\n%json%\n';var attr,penvals;var cattr=-1;var pt,p;var lastx,lasty;var start=true;var saved=0;var saved2=0;var attr=null;for(p=0;p<this.pts.length;p++){pt=this.pts[p];if(pt.x<=0){if(!start){str+='\n';start=true;}
continue;}
if(start){start=false;if(pt.a!=cattr){cattr=pt.a;attr=this.attrs[cattr];penvals=attr.vals;str+='A pen '+penvals.width+' '+penvals.color+$if(penvals.lineCap[0]!='r',' lc:'+penvals.lineCap[0],'')+'\n';}
lastx=pt.x;lasty=pt.y;str+='S '+pt.x+','+pt.y+',';continue;}
dx=Math.floor(pt.x-lastx);dy=Math.floor(pt.y-lasty);lastx=pt.x;lasty=pt.y;if(dx>0){if(dx>=1&&dx<=26)str+=String.fromCharCode(64+dx);else str+='+'+dx;}else if(dx==0){str+='+';}else{if(dx<=-1&&dx>=-26)str+=String.fromCharCode(-dx+96);else str+=dx;}
if(dy>0){if(dy>=1&&dy<=26)str+=String.fromCharCode(64+dy);else str+='+'+dy;}else if(dy==0){str+='+';}else{if(dy<=-1&&dy>=-26)str+=String.fromCharCode(-dy+96);else str+=dy;}}
if(!start)str+='\n';return str;},fromFormat:function(str,onloadfunction){this.clear();if(!str)return;str+='\n';var ch,pos;var classInst=this;function nextChar(){var ch='\n';pos++;if(pos<str.length)ch=str.charAt(pos);return ch;}
function getToken(){var token='';var ch=nextChar();while(ch!=' '&&ch!='\n'&&ch!=','&&ch!='+'&&ch!='-'){token+=ch;ch=nextChar();}
return token;}
function checkForTwo(){return null;if(pos>=str.length)return null;var chnum=str.charCodeAt(pos);if(chnum<33||chnum>41)return null;pos++;var objs=[{dx:-1,dy:-1},{dx:0,dy:-1},{dx:1,dy:-1},{dx:-1,dy:0},{dx:0,dy:0},{dx:1,dy:0},{dx:-1,dy:1},{dx:0,dy:1},{dx:1,dy:1}];return objs[chnum-33];}
function skipToEOL(){if(pos>=str.length)return;var i=str.indexOf('\n',pos);if(i<0)pos=str.length;else pos=i;return;}
function getStrokeDelta(){if(pos>=str.length)return 0;var sign=str.charAt(pos);var code;pos++;if(sign!='+'&&sign!='-'){code=sign.charCodeAt(0);if(code>=65&&code<=90)return code-64;if(code>=97&&code<=122)return-(code-96);return 0;}
var val=0;while(pos<str.length){code=str.charCodeAt(pos);if(code<48||code>57)break;val=10*val+(code-48);pos++;}
return sign=='-'?-val:val;}
function getStroke(){var x=getToken()-0;var y=getToken()-0;var dx,dy,both;var ch;var newpt=classInst.newPointObject(x,y,true);classInst.pts.push(newpt);nextChar();while(pos<str.length&&str.charAt(pos)!='\n'){both=checkForTwo();if(both){dx=both.dx;dy=both.dy;}else{dx=getStrokeDelta();dy=getStrokeDelta();}
x=x+dx;y=y+dy;newpt=classInst.newPointObject(x,y,true);classInst.pts.push(newpt);}
classInst.pts.push(classInst.newZeroPointObject());}
var cmd,cmd2,a,b,c,d,e,f,marker;pos=-1;while(pos<str.length){cmd=getToken()||'#';cmd2=cmd.substring(0,2);if(cmd=='')skipToEOL();else if(cmd.charAt(0)=='#')skipToEOL();else if(cmd.charAt(0)=='v')skipToEOL();else if(cmd2=='se'){marker=getToken();skipToEOL();a=str.indexOf('\n'+marker+'\n',pos+1);if(a<0)a=str.length;b=str.substring(pos+1,a);pos=a+marker.length;skipToEOL();c=JSON.parse(b);this.page.lines=false;this.page.background={image:false,color:''};this.meta={bounds:{}};$u.o.assign(this.page,c.page);$u.o.assign(this.meta,c.meta);if(c.meta.created)this.state.created=c.meta.created;if(c.meta.bounds)$u.o.assign(this._b,c.meta.bounds);this._initSize();}else if(cmd.charAt(0)=='S'){getStroke();skipToEOL();}else if(cmd.charAt(0)=='A'){a=getToken();if(a=='pen'){a=str.indexOf('\n',pos+1);if(a<0)a=str.length;b=str.substring(pos+1,a);pos=a;b=b.split(' ');c='r';if(b[2])c=b[2].split(':').pop();if(c=='s')c='square';else if(c=='b')c='butt';else c='round'
this._cAttr=this.getPenAttr(b[0]-0,b[1],c);}
skipToEOL();}else{skipToEOL();}}
this.rebuildStrokes();},newPointObject:function(x,y,init){x=Math.round(x);y=Math.round(y);var x1=x>0?(x<this._maxX||init?x:this._maxX):1;var y1=y>0?(y<this._maxY||init?y:this._maxY):1;var npo={x:x1,y:y1,a:this._cAttr};return npo;},newZeroPointObject:function(){var nzpo={x:0,y:0,a:-1};return nzpo;},newStrokeObject:function(){var nso={start:-1,end:-1,bounds:{l:this._maxX,t:this._maxY,r:0,b:0}};return nso;},newAttrObject:function(){var nao={type:0,vals:null};return nao;},attrMap:{pen:1},newAttrPenObject:function(){var napo={color:'#000000',width:1,lineCap:'r'};return napo;},getPenAttr:function(w,c,lc){var num,attr;for(num=0;num<this.attrs.length;num++){attr=this.attrs[num];if(attr.type==this.attrMap.pen&&attr.vals.color==c&&attr.vals.width==w&&attr.vals.lineCap==lc){$u.o.assign(this.state.pen,attr.vals);this.state.stroke.activeWidth=w;return num;}}
var ao=this.newAttrObject();ao.type=this.attrMap.pen;var pa=this.newAttrPenObject();pa.color=c;pa.width=w;pa.lineCap=lc;ao.vals=pa;this.attrs.push(ao);$u.o.assign(this.state.pen,pa);this.state.stroke.maxWidth=Math.max(w,this.state.stroke.maxWidth);this.state.stroke.activeWidth=w;this._cStrokeOff=Math.round(Math.sqrt(((w/2)*(w/2))*2)+.4999);return this.attrs.length-1;},startStroke:function(x,y){var addTo=typeof arguments[2]!='undefined'?arguments[2]:false;var newpt=this.newPointObject(x,y);this.pts.push(newpt);if(addTo)this._uo.addToUndo(this._uo.newUndo(this.pts.length-1,0,0,-1,newpt.x,newpt.y,this._cAttr));else this._uo.addUndo(this._uo.newUndo(this.pts.length-1,0,0,-1,newpt.x,newpt.y,this._cAttr));var newstroke=this.newStrokeObject();newstroke.start=this.pts.length-1;newstroke.end=newstroke.start;this.strokes.push(newstroke);this._cStroke=this.strokes.length-1;this.adjustCurrentStrokeBounds(newpt.x,newpt.y);this.inStroke=true;},addToStroke:function(x,y){var newpt=this.newPointObject(x,y);this.pts.push(newpt);this._uo.addToUndo(this._uo.newUndo(this.pts.length-1,0,0,-1,newpt.x,newpt.y,this._cAttr));this.strokes[this._cStroke].end=this.pts.length-1;this.adjustCurrentStrokeBounds(newpt.x,newpt.y);},endStroke:function(x,y){var len=this.pts.length;var newpt=this.newPointObject(x,y);if(len==0||this.pts[len-1].x!=newpt.x||this.pts[len-1].y!=newpt.y){this.pts.push(newpt);this._uo.addToUndo(this._uo.newUndo(this.pts.length-1,0,0,-1,newpt.x,newpt.y,-1));this.adjustCurrentStrokeBounds(newpt.x,newpt.y);this.strokes[this._cStroke].end=this.pts.length-1;}
this.adjustBoundsWithCurrentStroke();this.pts.push(this.newZeroPointObject());},adjustCurrentStrokeBounds:function(x,y){x=Math.round(x);y=Math.round(y);if(x-this._cStrokeOff<this.strokes[this._cStroke].bounds.l)this.strokes[this._cStroke].bounds.l=x-this._cStrokeOff;if(x+this._cStrokeOff>this.strokes[this._cStroke].bounds.r)this.strokes[this._cStroke].bounds.r=x+this._cStrokeOff;if(y-this._cStrokeOff<this.strokes[this._cStroke].bounds.t)this.strokes[this._cStroke].bounds.t=y-this._cStrokeOff;if(y+this._cStrokeOff>this.strokes[this._cStroke].bounds.b)this.strokes[this._cStroke].bounds.b=y+this._cStrokeOff;},adjustBoundsWithCurrentStroke:function(){if(this.strokes[this._cStroke].bounds.l<this._b.l)this.meta.bounds.l=this._b.l=this.strokes[this._cStroke].bounds.l;if(this.strokes[this._cStroke].bounds.r>this._b.r)this.meta.bounds.r=this._b.r=this.strokes[this._cStroke].bounds.r;if(this.strokes[this._cStroke].bounds.t<this._b.t)this.meta.bounds.t=this._b.t=this.strokes[this._cStroke].bounds.t;if(this.strokes[this._cStroke].bounds.b>this._b.b)this.meta.bounds.b=this._b.b=this.strokes[this._cStroke].bounds.b;},rebuildStrokes:function(){var p,pt,stroke;this.strokes=[];this._b={l:this._maxX,t:this._maxY,r:0,b:0};stroke=this.newStrokeObject();this.strokes.push(stroke);this._cStroke=0;for(p=0;p<this.pts.length;p++){pt=this.pts[p];if(pt.x!=0){if(stroke.start==-1)stroke.start=p;else stroke.end=p;this.adjustCurrentStrokeBounds(pt.x,pt.y);}else{if(stroke.start!=-1){this.adjustBoundsWithCurrentStroke();stroke=this.newStrokeObject();this.strokes.push(stroke);this._cStroke=this.strokes.length-1;}}}
if(stroke.start==-1){this.strokes.pop();this._cStroke=this.strokes.length-1;}},erasePoints:function(x,y,size,numSoFar){var left=x-size/2;var top=y-size/2;var right=left+size;var bottom=top+size;var p,pt;var n=numSoFar;for(p=0;p<this.pts.length;p++){pt=this.pts[p];if(pt.x>=left&&pt.x<=right&&pt.y>=top&&pt.y<=bottom){if(n==0)this._uo.addUndo(this._uo.newUndo(p,pt.x,pt.y,pt.a,0,0,-1));else this._uo.addToUndo(this._uo.newUndo(p,pt.x,pt.y,pt.a,0,0,-1));n++;pt.x=0;pt.y=0;pt.a=-1;}}
this.rebuildStrokes();return n;},undo:function(){var undoredos=this._uo.nextUndo();if(!undoredos)return;var i,undoredo,pt;for(i=undoredos.length-1;i>=0;i--){undoredo=undoredos[i];pt=this.pts[undoredo.p];pt.x=undoredo.ox;pt.y=undoredo.oy;pt.a=undoredo.oa;}
this.rebuildStrokes();},redo:function(){var undoredos=this._uo.nextRedo();if(!undoredos)return;var i,undoredo,pt;for(i=0;i<=undoredos.length-1;i++){undoredo=undoredos[i];pt=this.pts[undoredo.p];pt.x=undoredo.nx;pt.y=undoredo.ny;pt.a=undoredo.na;}
this.rebuildStrokes();},zoomToScale:function(z){if(typeof z=='object'){var margin=typeof z.margin!='undefined'?z.margin:0;if(z.fit=='both'){var w=z.width-(margin*2);var h=z.height-(margin*2);return Math.min(w/this._maxX,h/this._maxY);}else if(z.fit=='width'){var w=z.width-(margin*2);return w/this._maxX;}else if(z.fit=='height'){var h=z.height-(margin*2);return h/this._maxY;}}else{if(typeof z=='string')z=$u.s.toNum(z);var w=A5.u.convertUnits(this.page.width,this.page.unit,'px');return(w/this._maxX)*(z/100);}},scaleToPageSize:function(s){return{width:this._maxX*s,height:this._maxY*s,dpp:1/s};},drawLine:function(x1,y1,x2,y2,step){dx=x2-x1;dy=y2-y1;m=Math.floor(Math.sqrt((dx*dx)+(dy*dy))/step);this.startStroke(x1,y1,arguments[5]);if(m>0){for(var i=0;i<=m;i++){this.addToStroke(x1+(dx/m*i),y1+(dy/m*i));}}
this.endStroke(x2,y2);},renderRect:function(r,o,c){if(typeof c=='undefined'||c==null)c=false;if(r==null)r=false;if(!c)var sgv='';$u.o.assign(o,{editing:false,clear:true,showPageLines:true,scale:1,offset:{x:0,y:0},line:{defaultWidth:3,maxWidth:500,minWidth:1},stroke:{first:0,last:-1},background:''},true);var cr=false;if(r)cr={l:(r.x/o.scale)-o.offset.x,t:(r.y/o.scale)-o.offset.y,r:((r.x+r.w)/o.scale)-o.offset.x,b:((r.y+r.h)/o.scale)-o.offset.y};if(o.line.defaultWidth<o.line.minWidth)o.line.defaultWidth=o.line.minWidth;if(o.line.defaultWidth>o.line.maxWidth)o.line.defaultWidth=o.line.maxWidth;if(o.stroke.last==-1||o.stroke.last>this.strokes.length-1)o.stroke.last=this.strokes.length-1;if(c&&r){r.x=Math.round(r.x);r.y=Math.round(r.y);r.w=Math.round(r.w);r.h=Math.round(r.h);if(o.clear){c.beginPath();c.clearRect(r.x,r.y,r.w,r.h);c.stroke();}
c.save();c.rect(r.x,r.y,r.w,r.h);c.clip();}
if(c&&o.background!=''){c.fillStyle=o.background;c.fillRect(r.x,r.y,r.w,r.h);}
var svg='';if(o.showPageLines&&this.page.lines){if(A5.ink._.pageLines[this.page.lines.type]){svg+=A5.ink._.pageLines[this.page.lines.type].draw.call(this,{editing:o.editing,x:o.offset.x,y:o.offset.y,width:this._maxX,height:this._maxY,scale:o.scale,clip:r},this.page.lines,c);}}
if(o.stroke.first>o.stroke.last){if(c&&r)c.restore();return svg;}
var b,s,p,pt,pattr,sColor,sWidth,sLineCap;var lastx;var lasty;var x,y;var midx,midy,lastmidx,lastmidy;var dx,dy,dx1,dx2,dy1,dy2,mindelta;var ln;var lastattr=-1;var wrote=false;sWidth=o.line.defaultWidth*o.scale;if(sWidth<o.line.minWidth)sWidth=o.line.minWidth;if(sWidth>o.line.maxWidth)sWidth=o.line.maxWidth;if(c){c.lineWidth=sWidth;c.lineCap='round';c.lineJoin='round';}else{svg+='<g style="fill:none; stroke-linejoin: round; stroke-linecap: round;">';svg+='<g style="stroke:#000000; stroke-width:'+sWidth+';">';}
for(s=o.stroke.first;s<=o.stroke.last;s++){if(cr){b=this.strokes[s].bounds;if(cr.l>b.r||cr.r<b.l||cr.t>b.b||cr.b<b.t)continue;}
p=this.strokes[s].start;pt=this.pts[p];if(pt.a!=lastattr){if(pt.a<0||pt.a>=this.attrs.length)alert('Bad last attrib: '+pt.a);pattr=this.attrs[pt.a].vals;sWidth=pattr.width*o.scale;if(sWidth<o.line.minWidth)sWidth=o.line.minWidth;if(sWidth>o.line.maxWidth)sWidth=o.line.maxWidth;sColor=pattr.color;sLineCap=pattr.lineCap;if(c){c.lineWidth=sWidth;c.strokeStyle=sColor;c.lineCap=sLineCap;}else{svg+='</g><g style="stroke:'+sColor+'; stroke-width:'+sWidth+'; stroke-linecap: '+sLineCap+'">';}
lastattr=pt.a;}
lastx=(pt.x+o.offset.x)*o.scale;lasty=(pt.y+o.offset.y)*o.scale;lastmidx=lastx;lastmidy=lasty;if(c)c.beginPath();else svg+='<path d="';if(c)c.moveTo(lastx,lasty);else svg+='M '+lastx+' '+lasty+' ';wrote=false;for(p+=1;p<this.pts.length;p++){pt=this.pts[p];if(pt.x==0)break;x=(pt.x+o.offset.x)*o.scale;y=(pt.y+o.offset.y)*o.scale;dx=Math.abs(x-lastx);dy=Math.abs(y-lasty);if(dx<1.0&&dy<1.0)continue;midx=(x+lastx)/2.0;midy=(y+lasty)/2.0;ln=false;if(lastmidx>0&&sWidth>1.0){dx1=lastx-lastmidx;dy1=lasty-lastmidy;dx2=lastx-midx;dy2=lasty-midy;mindelta=0.5*sWidth;if(Math.abs(dx1)<mindelta){if(Math.abs(dx2)<mindelta&&((dy1<0&&dy2<0)||(dy1>0&&dy2>0))){if(4*Math.abs(dx1)<=Math.abs(dy1)&&4*Math.abs(dx2)<=Math.abs(dy2))ln=true;}}
if(Math.abs(dy2)<mindelta){if(Math.abs(dy2)<mindelta&&((dx1<0&&dx2<0)||(dx1>0&&dx2>0))){if(4*Math.abs(dy1)<=Math.abs(dx1)&&4*Math.abs(dy2)<=Math.abs(dx2))ln=true;}}}
if(dx<3.0&&dy<3.0){ln=true;}
if(ln&&sWidth>1.0&&lastmidx>0){dx1=lastx-lastmidx;dy1=lasty-lastmidy;dx2=lastx-midx;dy2=lasty-midy;if(dx1==0){if(dx2==0&&((dx1<0&&dx2<0)||(dx1>0&&dx2>0)))x=x+1;}else if(dy1==0){if(dy2==0&&((dx1<0&&dx2<0)||(dx1>0&&dx2>0)))y=y+1;}else if(dx2/dx1==dy2/dy1&&((dx1<0&&dx2<0)||(dx1>0&&dx2>0))){x=x+1;}
midx=x;midy=y;}
lastmidx=midx;lastmidy=midy;if(c){if(ln)c.lineTo(midx,midy);else c.quadraticCurveTo(lastx,lasty,midx,midy);}else{if(ln)svg+='L '+midx+' '+midy+' ';else svg+='Q '+lastx+' '+lasty+' '+midx+' '+midy+' ';}
if(!wrote&&(lastx!=x||lasty!=y))wrote=true;lastx=x;lasty=y;}
if(!wrote)lastx+=1;if(c){c.lineTo(lastx,lasty);c.stroke();}else{svg+='L '+lastx+' '+lasty+'" />';}}
if(c){if(r)c.restore();return true;}else{svg+='</g></g>';return svg;}},renderImage:function(imageType,width,height,back,quality){var canvas=document.createElement('canvas');canvas.width=width;var ourheight=height>0?height:width*(this._maxY/this._maxX);canvas.height=ourheight;if(back)canvas.style.backgroundColor=back;var ctx=canvas.getContext("2d");if(back){ctx.beginPath();ctx.fillStyle=back;ctx.fillRect(0,0,width,ourheight);ctx.stroke();}
var options={editing:true,scale:width/this._maxX,linewidth:1.0,showBackground:true};this.renderRect(null,options,ctx);var str;if(quality)str=canvas.toDataURL(imageType=="jpeg"?"image/jpeg":"image/png",quality);else str=canvas.toDataURL(imageType=="jpeg"?"image/jpeg":"image/png");delete canvas;return str;}});A5.ink._.Undo=Class.create({initialize:function(){$u.o.assign(this,{undoStack:[],undoTOS:-1,maxUndoSteps:100});},newUndo:function(p,ox,oy,oa,nx,ny,na){var ud={p:(p),ox:(ox),oy:(oy),oa:(oa),nx:(nx),ny:(ny),na:(na)};return ud;},addUndo:function(undoRedo){this.undoStack.length=this.undoTOS+1;var undoredos=[];undoredos.push(undoRedo);this.undoStack.push(undoredos);if(this.undoStack.length>this.maxUndoSteps){this.undoStack.splice(0,this.undoStack.length-this.maxUndoSteps);}
this.undoTOS=this.undoStack.length-1;},addToUndo:function(undoRedo){this.undoStack[this.undoTOS].push(undoRedo);},nextUndo:function(){var undoredos=null;if(this.undoTOS>=0){undoredos=this.undoStack[this.undoTOS];this.undoTOS--;}
return undoredos;},nextRedo:function(){var undoredos=null;if(this.undoTOS<this.undoStack.length-1){this.undoTOS++;undoredos=this.undoStack[this.undoTOS];}
return undoredos;},canUndo:function(){return this.undoTOS>=0;},canRedo:function(){return this.undoTOS<this.undoStack.length-1;},saveUndoState:function(){return{undoStack:this.undoStack,undoTOS:this.undoTOS,maxUndoSteps:this.maxUndoSteps};},loadUndoState:function(savedState){if(!savedState||!savedState.undoStack)return;this.undoStack=savedState.undoStack;this.undoTOS=savedState.undoTOS;this.maxUndoSteps=savedState.maxUndoSteps;},resetUndoState:function(){this.undoStack=[];this.undoTOS=-1;}});A5.Ink=Class.create({initialize:function(contId,settings){this.contId=contId;$u.o.assign(this,{theme:'',override:'base',inputId:'',autoCommit:false,layout:'split',previewSize:512,page:{},view:{detached:{id:''},scale:{fit:'both',margin:10,lock:true},className:'',zoomBox:{className:'',navigateClassName:'',scale:{allow:true,className:'',from:'bottom-right'}},page:{className:'',offset:0},overlay:{show:false,html:''}},editor:{snap:0,scale:false,className:'',page:{className:'',offset:0},overlay:{show:false,html:''},autoAdvance:{allow:false,flow:'auto',size:200,background:'#f9f9f9'}},split:{layout:'v-view-editor',size:'300px',minSize:'100px',bar:{show:false,size:'1px',className:'',verticalClassName:'',horizontalClassName:''}},items:{},tools:{pen:{activeClassName:'',smooth:2,memory:{load:'current',clear:'current'},base:{color:'#000',width:3,lineCap:'round'},preview:{size:38,width:{show:'never'},clip:{shape:'circle'}}},eraser:{activeClassName:'',areaClassName:'',size:50,max:400,min:20},pan:{activeClassName:''}},status:{messages:{'tool:pen':'','tool:eraser':'Eraser','tool:pan':'Drag to pan','item:eraser':'Drag to size eraser','item:undo':'Drag to navigate undo stack','item:redo':'Drag to navigate undo stack','item:navigate':'Drag to pan','item:navigate:new-line':'Drag to move between lines'}},onChange:false,onBeforeCommit:false,onCommit:false,onToolChange:false,onPenChange:false,onBackgroundChange:false,onLayout:false,state:{active:'editor',undo:false,redo:false,tool:{type:'pen',sticky:false,settings:false},pen:{},view:{shown:false,autoScale:false,detached:false,width:0,height:0,offset:{x:0,y:0},scale:.15},editor:{shown:false,autoScale:false,width:0,height:0,offset:{x:0,y:0},scale:1,autoAdvance:{show:false,flow:'ltr',size:200,offset:{x:0,y:0},edge:-1}}}});if(typeof settings.theme!='undefined')A5.themes.assign(this,settings.theme,'ink');$u.o.assign(this,settings);A5.overrides.assign(this,'ink',this.override);var dSet={page:{}};$u.o.assign(dSet.page,this.page);this.data=new A5.ink._.Data(dSet);this.value=this.data.toFormat();this._vNav=false;this._eNav=false;this._pal={a:false,n:'',t:''};this._render();},setValue:function(v){this.data.fromFormat(v);if(v=='')$u.o.assign(this.data.page,this.page);this.navigate('view','start');this.navigate('editor','start');this._setBack();this._resize();this._change({type:'setValue'});if(this.tools.pen.memory.load=='base')this.setPen(this.tools.pen.base);else if(this.tools.pen.memory.load=='last'){if(this.data.meta.pen)this.setPen(this.data.meta.pen);else this.setPen(this.tools.pen.base);}else this.setPen(this.state.pen);},commit:function(){if(typeof this.onBeforeCommit=='function')this.onBeforeCommit.call(this);this.value=this.data.toFormat();if(this.inputId!=''){$svs(this.inputId,this.value);$e.execute(this.inputId,'change');}
if(typeof this.onCommit=='function')this.onCommit.call(this,this.value);},clear:function(){this.data.clear();this.navigate('view','start');this.navigate('editor','start');this._repaint(false);this._change({type:'clear'});this.setStatus();if(this.tools.pen.memory.load=='base')this.setPen(this.tools.pen.base);else this.setPen(this.state.pen);if(this.autoCommit)this.commit();},undo:function(){this.data.undo();this._aaClear();this._repaint(false);this._change({type:'undo'});if(this.autoCommit)this.commit();},redo:function(){this.data.redo();this._aaClear();this._repaint(false);this._change({type:'redo'});if(this.autoCommit)this.commit();},refresh:function(){this._resize();},destroy:function(){A5.u.pointerTracker.remove(this.contId);if(this.layout=='detached-view')A5.u.pointerTracker.remove(this.view.detached.id);},setTool:function(tool){tool=tool.toLowerCase();var tList=['pen','eraser','pan','draw-shape'];if(tList.indexOf(tool)==-1)tool='pen';var s=typeof arguments[2]!='undefined'?arguments[2]:false;var oldTool=this.state.tool.type;this.state.tool.sticky=typeof arguments[1]=='boolean'?arguments[1]:false;this.state.tool.type=tool;this.state.tool.settings=s;if(this.state.editor.autoAdvance.show&&tool!=oldTool){this._aaClear();this._repaintEditor(false);}
if(this.tools[oldTool]){if(this.tools[oldTool].activeClassName!='')$rcn(this.contId,this.tools[oldTool].activeClassName);}
if(this.tools[tool]){if(this.tools[tool].activeClassName!='')$acn(this.contId,this.tools[tool].activeClassName);}
if(typeof this.onToolChange=='function')this.onToolChange.call(this,tool,oldTool);this.setStatus();},setPen:function(o){$u.o.assign(o,{color:'#000000',width:1,lineCap:'round'},true);if(o.color.constructor==Array){if(o.color.length==4){o.color='rgba('+$u.s.toNum(o.color[0])+','+$u.s.toNum(o.color[1])+','+$u.s.toNum(o.color[2])+','+$u.s.toNum(o.color[3])+')';}else if(o.color.length==3){o.color='rgb('+$u.s.toNum(o.color[0])+','+$u.s.toNum(o.color[1])+','+$u.s.toNum(o.color[2])+')';}else o.color='#000000';}else{o.color=o.color.toLowerCase();var f4=o.color.substr(0,4);var f5=o.color.substr(0,5);if(o.color[0]=='#'){o.color='#'+o.color.replace(/[^0-9a-f]/gi,'');}else if(f4=='rgb('||f4=='hls('){o.color=o.color.replace(/[^0-9,\.%]/gi,'');var c=o.color.split(',');if(c.length>2)o.color=f4+c[0]+','+c[1]+','+c[2]+')';else o.color='#000000';}else if(f5=='rgba('||f5=='hlsa('){o.color=o.color.replace(/[^0-9,\.%]/gi,'');var c=o.color.split(',');if(c.length>3)o.color=f5+c[0]+','+c[1]+','+c[2]+','+c[3]+')';else o.color='#000000';}else o.color='#000000';}
this.data._cAttr=this.data.getPenAttr(o.width,o.color,o.lineCap);if(this._ppEle){var spObj=A5.ink.penPreview(this.data.state.pen,this.tools.pen.preview);this._ppEle.innerHTML=spObj.svg;}
$u.o.assign(this.state.pen,this.data.state.pen);if(typeof this.onPenChange=='function')this.onPenChange.call(this,o);},setPage:function(p){$u.o.assign(this.data.page,p);this.data._initSize();this._setBack();this._resize();if(this.autoCommit)this.commit();},setBackground:function(bs){if(bs==false||bs==null||typeof bs=='undefined'){this.data.page.background.image=false;this.data.page.background.color='';this._setBack();}else{$u.o.assign(this.data.page.background,bs);this._setBack();this._repaint(false);}
if(typeof this.onBackgroundChange=='function')this.onBackgroundChange.call(this,this.data.page.background);if(this.autoCommit)this.commit();},metaData:function(){var md=typeof arguments[0]=='object'?arguments[0]:false;if(md)$u.o.assign(this.data.meta,md);$u.o.assign(this.data.meta.bounds,this.data._b);if(this.autoCommit)this.commit();return this.data.meta;},setOverlay:function(p,o){if(p=='editor'){var ele=$(this.contId+'.EDITOR.OVERLAY')
if(o){if(typeof o=='string'){o=o.replace(/\{id\}/gi,this.contId);ele.innerHTML=o;this.editor.overlay.html=o;}else if(o.constructor==Function){ele.innerHTML=o.call(this,'editor').replace(/\{id\}/gi,this.contId);this.editor.overlay.html=o;}
ele.style.display='';this.editor.overlay.show=true;}else{ele.style.display='none';this.editor.overlay.show=false;}}else if(p=='view'){var ele=$(this.contId+'.VIEW.OVERLAY')
if(o){if(typeof o=='string'){o=o.replace(/\{id\}/gi,this.contId);ele.innerHTML=o;this.view.overlay.html=o;}else if(o.constructor==Function){ele.innerHTML=o.call(this,'view').replace(/\{id\}/gi,this.contId);this.view.overlay.html=o;}
ele.style.display='';this.view.overlay.show=true;}else{ele.style.display='none';this.view.overlay.show=false;}}
this._sEle=$(this.contId+'.STATUS');},setStatus:function(){if(this._sEle){var msg=typeof arguments[0]!='undefined'?arguments[0]:false;var html='';if(typeof msg=='object'){html=msg.html;}else if(this.status.messages){if(typeof msg=='string'){if(this.status.messages[msg])html=this.status.messages[msg];}else{if(this.status.messages['tool:'+this.state.tool.type])html=this.status.messages['tool:'+this.state.tool.type];}}
this._sEle.innerHTML=html;if(html=='')this._sEle.style.display='none';else this._sEle.style.display='';}},navigate:function(p,d){if(d=='scale'){var s=arguments[2];if(p=='editor'){if(this.state.editor.autoScale){if(this.editor.scale.lock)return false;}
this.editor.scale=false;if(typeof s=='number')this.state.editor.scale=s;else if(typeof s=='object'){var ele=$(this.contId+'.EDITOR');s.width=ele.offsetWidth;s.height=ele.offsetHeight;this.state.editor.scale=this.data.zoomToScale(s);if(s.autoScale){delete s.autoScale;this.state.editor.autoScale=true;this.editor.scale=s;}}else if(s=='in'||s=='out'){var a=this.state.editor.scale/4;if(s=='out'&&this.state.editor.scale>.05)this.state.editor.scale-=a;else if(s=='in')this.state.editor.scale+=a;}else this.state.editor.scale=this.data.zoomToScale(s);}else if(p=='view'){if(this.state.view.autoScale){if(this.view.scale.lock)return false;}
this.view.scale=false;if(typeof s=='number')this.state.view.scale=s;else if(typeof s=='object'){var ele=$(this.contId+'.VIEW');s.width=ele.offsetWidth;s.height=ele.offsetHeight;this.state.view.scale=this.data.zoomToScale(s);if(s.autoScale){delete s.autoScale;this.state.view.autoScale=true;this.view.scale=s;}}else if(s=='in'||s=='out'){var a=this.state.view.scale/4;if(s=='out'&&this.state.view.scale>.05)this.state.view.scale-=a;else if(s=='in')this.state.view.scale+=a;}else this.state.view.scale=this.data.zoomToScale(s);}
this._resize();}else{var wCmd=['forward','back','new-line','prev-line','next-line','line-start','line-end','start','end'];if(p=='editor'){this._aaClear();if(wCmd.indexOf(d)!=-1){if(this.data.page.lines){var pl=A5.ink._.pageLines[this.data.page.lines.type];if(pl){if(pl.navigate){var res=pl.navigate(d,{x:this.state.editor.offset.x,y:this.state.editor.offset.y,width:this.data._maxX,height:this.data._maxY,clip:{width:this.state.editor.width/this.state.editor.scale,height:this.state.editor.height/this.state.editor.scale}},this.data.page.lines);if(typeof res=='object'){this._offset('editor',res.x,res.y);this._repaint(false);return true;}else if(typeof res=='string')d=res;}}}}
var eEle=$(this.contId+'.EDITOR');var ps=this.data.scaleToPageSize(this.state.editor.scale);var w=eEle.offsetWidth;var h=eEle.offsetHeight;var pw=Math.min(ps.width,w);var ph=Math.min(ps.height,h);var maxOffX=0;var maxOffY=0;if(ps.width>w)maxOffX=(ps.width-w)*ps.dpp;if(ps.height>h)maxOffY=(ps.height-h)*ps.dpp;var move=.5;if(d.substr(0,6)=='nudge-'){move=.1;d=d.substr(6);}
var wIndx=wCmd.indexOf(d);if(wIndx!=-1){var wrCmd=['right','left',{x:0,y:false,m:'down'},'up','down',{x:0,y:false,m:false},{x:maxOffX,y:false,m:false},{x:0,y:0,m:false},{x:maxOffX,y:maxOffY,m:false}];d=wrCmd[wIndx];if(typeof d=='object'){if(typeof d.x=='number')this.state.editor.offset.x=d.x;if(typeof d.y=='number')this.state.editor.offset.y=d.y;if(typeof d.m=='string')d=d.m;else{this._repaint(false);return true;}}}
if(d[0]=='l'||d[0]=='r'){var a=(eEle.offsetWidth*move)/this.state.editor.scale;if(d[0]=='l')this.state.editor.offset.x-=a;else this.state.editor.offset.x+=a;this.state.editor.offset.x=Math.min(Math.max(0,this.state.editor.offset.x),maxOffX);}else if(d[0]=='u'||d[0]=='d'){var a=(eEle.offsetHeight*move)/this.state.editor.scale;if(d[0]=='u')this.state.editor.offset.y-=a;else this.state.editor.offset.y+=a;this.state.editor.offset.y=Math.min(Math.max(0,this.state.editor.offset.y),maxOffY);}
this._repaint(false);}else if(p=='view'){if(wCmd.indexOf(d)!=-1){if(this.data.page.lines){var pl=A5.ink._.pageLines[this.data.page.lines.type];if(pl){if(pl.navigate){var res=pl.navigate(d,{x:this.state.view.offset.x,y:this.state.view.offset.y,width:this.data._maxX,height:this.data._maxY,clip:{width:this.state.view.width/this.state.view.scale,height:this.state.view.height/this.state.view.scale}},this.data.page.lines);if(typeof res=='object'){this._offset('view',res.x,res.y);this._repaint(false);return true;}else if(typeof res=='string')d=res;}}}}
var vEle=$(this.contId+'.VIEW');var ps=this.data.scaleToPageSize(this.state.view.scale);var w=vEle.offsetWidth;var h=vEle.offsetHeight;var pw=Math.min(ps.width,w);var ph=Math.min(ps.height,h);var maxOffX=0;var maxOffY=0;if(ps.width>w)maxOffX=(ps.width-w)*ps.dpp;if(ps.height>h)maxOffY=(ps.height-h)*ps.dpp;var move=.5;if(d.substr(0,6)=='nudge-'){move=.1;d=d.substr(6);}
var wIndx=wCmd.indexOf(d);if(wIndx!=-1){var wrCmd=['right','left',{x:0,y:false,m:'down'},'up','down',{x:0,y:false,m:false},{x:maxOffX,y:false,m:false},{x:0,y:0,m:false},{x:maxOffX,y:maxOffY,m:false}];d=wrCmd[wIndx];if(typeof d=='object'){if(typeof d.x=='number')this.state.view.offset.x=d.x;if(typeof d.y=='number')this.state.view.offset.y=d.y;if(typeof d.m=='string')d=d.m;else{this._repaint(false);return true;}}}
if(d[0]=='l'||d[0]=='r'){var a=(vEle.offsetWidth*move)/this.state.view.scale;if(d[0]=='l')this.state.view.offset.x-=a;else this.state.view.offset.x+=a;this.state.view.offset.x=Math.min(Math.max(0,this.state.view.offset.x),maxOffX);}else if(d[0]=='u'||d[0]=='d'||d[0]=='n'){var a=(vEle.offsetHeight*move)/this.state.view.scale;if(d[0]=='u')this.state.view.offset.y-=a;else this.state.view.offset.y+=a;if(d[0]=='n')this.state.view.offset.x=0;this.state.view.offset.y=Math.min(Math.max(0,this.state.view.offset.y),maxOffY);}
this._repaint(false);}}},_change:function(ed){this.state.undo=this.data._uo.canUndo();this.state.redo=this.data._uo.canRedo();if(typeof this.onChange=='function')this.onChange.call(this,ed);},_resize:function(){if(this.state.view.detached)this.layout='detached-view';var cEle=$(this.contId);var vEle=$(this.contId+'.VIEW');var eEle=$(this.contId+'.EDITOR');var sbEle=$(this.contId+'.SPIT.BAR');sbEle.style.display='none';var eRefresh=true;var vRefresh=true;var forceEditor=false;if(this.layout=='split'){var eSize=A5.u.convertUnits(this.split.size,'px');var vmSize=A5.u.convertUnits(this.split.minSize,'px');if(this.split.layout.substr(0,2)=='v-'){if(eSize+vmSize>cEle.clientHeight)forceEditor=true;}else if(this.split.layout.substr(0,2)=='h-'){if(eSize+vmSize>cEle.clientWidth)forceEditor=true;}}
this.state.editor.shown=false;this.state.view.shown=false;if(this.layout=='view'||(this.layout=='split'&&this.split.layout=='view')){vEle.style.display='';vEle.style.top='0px';vEle.style.left='0px';vEle.style.right='0px';vEle.style.bottom='0px';eEle.style.display='none';eRefresh=false;}else if(this.layout=='editor'||this.layout=='detached-view'||(this.layout=='split'&&this.split.layout=='editor')||forceEditor){if(this.layout=='detached-view')vEle.style.display='';else{vEle.style.display='none';vRefresh=false;}
eEle.style.top='0px';eEle.style.left='0px';eEle.style.right='0px';eEle.style.bottom='0px';eEle.style.display='';}else if(this.layout=='split'){if(this.split.layout=='v-view-editor'){var vh=cEle.clientHeight-eSize+'px';var vb=this.split.size;if(this.split.bar.show){vb=(eSize+A5.u.convertUnits(this.split.bar.size,'px'))+'px';sbEle.style.top='';sbEle.style.bottom=this.split.size;sbEle.style.left='0px';sbEle.style.right='0px';sbEle.style.height=this.split.bar.size;sbEle.style.width='';sbEle.style.display='';sbEle.className=this.split.bar.className+' '+this.split.bar.verticalClassName;}
vEle.style.top='0px';vEle.style.left='0px';vEle.style.right='0px';vEle.style.bottom=vb;vEle.style.display='';eEle.style.top=vh;eEle.style.left='0px';eEle.style.right='0px';eEle.style.bottom='0px';eEle.style.display='';}else if(this.split.layout=='v-editor-view'){var vt=this.split.size;if(this.split.bar.show){vt=(eSize+A5.u.convertUnits(this.split.bar.size,'px'))+'px';sbEle.style.top=this.split.size;sbEle.style.bottom='';sbEle.style.left='0px';sbEle.style.right='0px';sbEle.style.height=this.split.bar.size;sbEle.style.width='';sbEle.style.display='';sbEle.className=this.split.bar.className+' '+this.split.bar.verticalClassName;}
vEle.style.top=vt;vEle.style.left='0px';vEle.style.right='0px';vEle.style.bottom='0px';vEle.style.display='';eEle.style.top='0px';eEle.style.left='0px';eEle.style.right='0px';eEle.style.bottom=(cEle.clientHeight-eSize)+'px';eEle.style.display='';}else if(this.split.layout=='h-editor-view'){var vl=this.split.size;if(this.split.bar.show){vl=(eSize+A5.u.convertUnits(this.split.bar.size,'px'))+'px';sbEle.style.top='0px';sbEle.style.bottom='0px';sbEle.style.left=this.split.size;sbEle.style.right='';sbEle.style.height='';sbEle.style.width=this.split.bar.size;sbEle.style.display='';sbEle.className=this.split.bar.className+' '+this.split.bar.horizontalClassName;}
vEle.style.top='0px';vEle.style.left=vl;vEle.style.right='0px';vEle.style.bottom='0px';vEle.style.display='';eEle.style.top='0px';eEle.style.left='0px';eEle.style.right=(cEle.clientWidth-eSize)+'px';eEle.style.bottom='0px';eEle.style.display='';}else if(this.split.layout=='h-view-editor'){var vr=this.split.size;if(this.split.bar.show){vr=(eSize+A5.u.convertUnits(this.split.bar.size,'px'))+'px';sbEle.style.top='0px';sbEle.style.bottom='0px';sbEle.style.left='';sbEle.style.right=this.split.size;sbEle.style.height='';sbEle.style.width=this.split.bar.size;sbEle.style.display='';sbEle.className=this.split.bar.className+' '+this.split.bar.horizontalClassName;}
vEle.style.top='0px';vEle.style.left='0px';vEle.style.right=vr;vEle.style.bottom='0px';vEle.style.display='';eEle.style.top='0px';eEle.style.left=(cEle.clientWidth-eSize)+'px';eEle.style.right='0px';eEle.style.bottom='0px';eEle.style.display='';}}
if(eRefresh){this.state.editor.shown=true;this.state.editor.autoScale=false;if(this.editor.scale){$u.o.assign(this.editor.scale,{fit:'both',margin:10,lock:false},true);this.state.editor.scale=this.data.zoomToScale({fit:this.editor.scale.fit,width:eEle.offsetWidth,height:eEle.offsetHeight,margin:this.editor.scale.margin});if(this.state.editor.scale==0)this.state.editor.scale=1;if(this.editor.scale.lock)this.state.editor.autoScale=true;}
var ps=this.data.scaleToPageSize(this.state.editor.scale);var w=eEle.offsetWidth;var h=eEle.offsetHeight;var pw=Math.min(ps.width,w);var ph=Math.min(ps.height,h);var maxOffX=0;var maxOffY=0;if(ps.width>w)maxOffX=Math.max((ps.width-w)*ps.dpp,0);if(ps.height>h)maxOffY=Math.max((ps.height-h)*ps.dpp,0);this.state.editor.offset.x=Math.min(this.state.editor.offset.x,maxOffX);this.state.editor.offset.y=Math.min(this.state.editor.offset.y,maxOffY);var epOff=this.editor.page.offset;this._epEle.style.width=(pw)+'px';this._epEle.style.height=(ph)+'px';this._epEle.style.left=(((w-pw)/2)-epOff)+'px';this._epEle.style.top=(((h-ph)/2)-epOff)+'px';this._enpEle.style.left=(0-epOff)+'px';this._enpEle.style.top=(0-epOff)+'px';this._bcEle.width=pw;this._bcEle.height=ph;this._fcEle.width=pw;this._fcEle.height=ph;this.state.editor.width=w;this.state.editor.height=h;if(this.editor.autoAdvance.allow){var f=this.editor.autoAdvance.flow;if(f=='auto'&&this.data.page.lines){if(this.data.page.lines.flow)f=this.data.page.lines.flow;}
if(f!='ttb'&&f!='rtl')f='ltr';this.state.editor.autoAdvance.flow=f;this._aaClear();}
this._repaintEditor(false);}
if(vRefresh){this.state.view.shown=true;this.state.view.autoScale=false;if(this.view.scale){$u.o.assign(this.view.scale,{fit:'both',margin:10,lock:false},true);this.state.view.scale=this.data.zoomToScale({fit:this.view.scale.fit,width:vEle.offsetWidth,height:vEle.offsetHeight,margin:this.view.scale.margin});if(this.state.view.scale==0)this.state.view.scale=.15;if(this.view.scale.lock)this.state.view.autoScale=true;}
var ps=this.data.scaleToPageSize(this.state.view.scale);var w=vEle.offsetWidth;var h=vEle.offsetHeight;var pw=Math.min(ps.width,w);var ph=Math.min(ps.height,h);var maxOffX=0;var maxOffY=0;if(ps.width>w)maxOffX=(ps.width-w)*ps.dpp;if(ps.height>h)maxOffY=(ps.height-h)*ps.dpp;this.state.view.offset.x=Math.min(this.state.view.offset.x,maxOffX);this.state.view.offset.y=Math.min(this.state.view.offset.y,maxOffY);var vpOff=this.view.page.offset;this._vpEle.style.width=(pw)+'px';this._vpEle.style.height=(ph)+'px';this._vpEle.style.left=(((w-pw)/2)-vpOff)+'px';this._vpEle.style.top=(((h-ph)/2)-vpOff)+'px';this._vnpEle.style.left=(0-vpOff)+'px';this._vnpEle.style.top=(0-vpOff)+'px';this._vcEle.width=pw;this._vcEle.height=ph;this.state.view.width=w;this.state.view.height=h;if(this.layout=='view'||(this.layout=='split'&&this.split.layout=='view')){this.state.editor.width=w;this.state.editor.height=h;}
this._repaintView();}
if(typeof this.onLayout=='function')this.onLayout.call(this);},_offset:function(p,x,y){if(p=='editor'){this.state.editor.offset.x=Math.max(Math.min(x,Math.floor(this.data._maxX-(this.state.editor.width/this.state.editor.scale))),0);this.state.editor.offset.y=Math.max(Math.min(y,Math.floor(this.data._maxY-(this.state.editor.height/this.state.editor.scale))),0);}else{this.state.view.offset.x=Math.max(Math.min(x,Math.floor(this.data._maxX-(this.state.view.width/this.state.view.scale))),0);this.state.view.offset.y=Math.max(Math.min(y,Math.floor(this.data._maxY-(this.state.view.height/this.state.view.scale))),0);}},_startPageNav:function(p){if(p=='editor'&&!this._eNav){this._renderNavPage('editor',this.state.editor.scale,-this.state.editor.offset.x,-this.state.editor.offset.y);this._enpEle.style.display='';this._epEle.style.display='none';this._eNav=true;}else if(!this._vNav){this._renderNavPage('view',this.state.view.scale,-this.state.view.offset.x,-this.state.view.offset.y);this._vnpEle.style.display='';this._vpEle.style.display='none';this._vNav=true;}},_endPageNav:function(p){if(p=='editor'&&this._eNav){this._enpEle.style.display='none';this._enpEle.firstChild.style.backgroundImage='';this._epEle.style.display='';this._eNav=false;}else if(this._vNav){this._vnpEle.style.display='none';this._vnpEle.firstChild.style.backgroundImage='';this._vpEle.style.display='';this._vNav=false;}},_setBack:function(){if(this.data.page.background.image){$u.o.assign(this.data.page.background.image,{type:'image',data:'',position:'center',size:'contain'},true);if(this.data.page.background.image.data.indexOf('\\')!=-1)this.data.page.background.image.data=this.data.page.background.image.data.split('\\').join('/');this._epbEle.style.backgroundImage='url('+this.data.page.background.image.data+')';this._epbEle.style.backgroundSize=this.data.page.background.image.size;this._epbEle.style.backgroundPosition=this.data.page.background.image.position;this._vpbEle.style.backgroundImage='url('+this.data.page.background.image.data+')';this._vpbEle.style.backgroundSize=this.data.page.background.image.size;this._vpbEle.style.backgroundPosition=this.data.page.background.image.position;}else{this._epbEle.style.backgroundImage='';this._vpbEle.style.backgroundImage='';}
this._epbEle.style.display='block';this._vpbEle.style.display='block';this._epbEle.style.backgroundColor=this.data.page.background.color;this._vpbEle.style.backgroundColor=this.data.page.background.color;},_repaint:function(ac){this._repaintEditor(ac);this._repaintView();},_repaintEditor:function(ac){if(this._eNav){if(this.layout!='view'&&!(this.layout=='split'&&this.split.layout=='view')){this._updateNavPage('editor',this.state.editor.scale,-this.state.editor.offset.x,-this.state.editor.offset.y);}}else{if(this.layout!='view'&&!(this.layout=='split'&&this.split.layout=='view')){if(this.data.page.background.image){this._epbEle.style.left=((0-this.state.editor.offset.x)*this.state.editor.scale)+'px';this._epbEle.style.top=((0-this.state.editor.offset.y)*this.state.editor.scale)+'px';var ps=this.data.scaleToPageSize(this.state.editor.scale);this._epbEle.style.width=ps.width+'px';this._epbEle.style.height=ps.height+'px';if(typeof this.data.page.background.image.size=='object'){this._epbEle.style.backgroundSize=(this.state.editor.scale*this.data.page.background.image.size.width)+'px '+(this.state.editor.scale*this.data.page.background.image.size.height)+'px';}}
if(this.state.editor.autoAdvance.show){if(this.state.editor.autoAdvance.flow=='rtl'){}else if(this.state.editor.autoAdvance.flow=='ttb'){}else{this.data.renderRect({x:0,y:0,w:this.state.editor.autoAdvance.size,h:this.state.editor.height},{editing:true,scale:this.state.editor.scale,offset:{x:-this.state.editor.autoAdvance.offset.x,y:-this.state.editor.autoAdvance.offset.y},background:this.editor.autoAdvance.background},this._bcCtx);this.data.renderRect({x:this.state.editor.autoAdvance.size,y:0,w:this.state.editor.width-this.state.editor.autoAdvance.size,h:this.state.editor.height},{editing:true,scale:this.state.editor.scale,offset:{x:-this.state.editor.offset.x,y:-this.state.editor.offset.y}},this._bcCtx);}}else{this.data.renderRect({x:0,y:0,w:this.state.editor.width,h:this.state.editor.height},{editing:true,scale:this.state.editor.scale,offset:{x:-this.state.editor.offset.x,y:-this.state.editor.offset.y}},this._bcCtx);}}
if(this.autoCommit&&ac)this.commit();}},_repaintView:function(){if(this._vNav){if(this.layout!='editor'&&!(this.layout=='split'&&this.split.layout=='editor')){this._updateNavPage('view',this.state.view.scale,-this.state.view.offset.x,-this.state.view.offset.y);}}else{if(this.layout!='editor'&&!(this.layout=='split'&&this.split.layout=='editor')){var ps=this.data.scaleToPageSize(this.state.view.scale);if(this.data.page.background.image){this._vpbEle.style.left=((0-this.state.view.offset.x)*this.state.view.scale)+'px';this._vpbEle.style.top=((0-this.state.view.offset.y)*this.state.view.scale)+'px';this._vpbEle.style.width=ps.width+'px';this._vpbEle.style.height=ps.height+'px';if(typeof this.data.page.background.image.size=='object'){this._vpbEle.style.backgroundSize=(this.state.view.scale*this.data.page.background.image.size.width)+'px '+(this.state.view.scale*this.data.page.background.image.size.height)+'px';}}
this.data.renderRect({x:0,y:0,w:this.state.view.width,h:this.state.view.height},{editing:true,scale:this.state.view.scale,offset:{x:-this.state.view.offset.x,y:-this.state.view.offset.y}},this._vcCtx);this._vzbEle.style.left=((this.state.editor.offset.x*this.state.view.scale)-(this.state.view.offset.x*this.state.view.scale))+'px';this._vzbEle.style.top=((this.state.editor.offset.y*this.state.view.scale)-(this.state.view.offset.y*this.state.view.scale))+'px';this._vzbEle.style.width=(Math.min(((this.state.editor.width/this.state.editor.scale)*this.state.view.scale),ps.width)-(this.view.page.offset*2))+'px';this._vzbEle.style.height=(Math.min(((this.state.editor.height/this.state.editor.scale)*this.state.view.scale),ps.height)-(this.view.page.offset*2))+'px';}}},_renderNavPage:function(t,s,x,y){var m=this.previewSize;var s2=this.data.zoomToScale({fit:'both',width:m,height:m});var ps=this.data.scaleToPageSize(s2);if(t[0]=='v'){var ele=this._vnpEle;this._vnpScale=this.data._maxX/ps.width;ele.firstChild.innerHTML='<div class="'+this.view.zoomBox.navigateClassName+'" style="position: absolute; top: '+(this.state.editor.offset.y*s2)+'px; left: '+(this.state.editor.offset.x*s2)+'px; width: '+(this.state.editor.width*s2/this.state.editor.scale)+'px; height: '+(this.state.editor.height*s2/this.state.editor.scale)+'px;"></div>'}else{var ele=this._enpEle;this._enpScale=this.data._maxX/ps.width;}
var bgImg=this.data.renderImage('png',ps.width,ps.height);ele.style.width=ps.width+'px';ele.style.height=ps.height+'px';if(this.data.page.background.image){ele.style.backgroundImage='url('+this.data.page.background.image.data+')';if(typeof this.data.page.background.image.size=='object')ele.style.backgroundSize=(s2*this.data.page.background.image.size.width)+'px '+(s2*this.data.page.background.image.size.height)+'px';else ele.style.backgroundSize=this.data.page.background.image.size;ele.style.backgroundPosition=this.data.page.background.image.position;ele.style.backgroundColor=this.data.page.background.color;}else{ele.style.backgroundImage='';ele.style.backgroundColor=this.data.page.background.color;}
ele.firstChild.style.backgroundImage='url('+bgImg+')';ele.firstChild.style.backgroundSize='';this._updateNavPage(t,s,x,y);},_updateNavPage:function(t,s,x,y){var x=x*s;var y=y*s;if(t[0]=='v'){var ele=this._vnpEle;var s2=s*this._vnpScale;var w=this.state.view.width;var h=this.state.view.height;}else{var ele=this._enpEle;var s2=s*this._enpScale;var w=this.state.editor.width;var h=this.state.editor.height;}
var ps=this.data.scaleToPageSize(s);if(ps.width<w)x=(w-ps.width)/2;if(ps.height<h)y=(h-ps.height)/2;ele.style[A5.u.css.properties.transformDOM]='translate('+x+'px,'+y+'px) scale('+s2+','+s2+')';},_aaClear:function(){this.state.editor.autoAdvance.show=false;this.state.editor.autoAdvance.edge=-1;},_render:function(){var cEle=$(this.contId);cEle.style.overflow='hidden';cEle.style.cursor='default';if(cEle.style.position!='absolute')cEle.style.position='relative';this._bindEvents(cEle);var vEle=document.createElement('div');vEle.id=this.contId+'.VIEW';vEle.className=this.view.className;$ss(vEle,'position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; overflow: hidden;');this._vpEle=document.createElement('div');this._vpEle.id=this.contId+'.VIEW.PAGE';this._vpEle.className=this.view.page.className;$ss(this._vpEle,'position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: hidden;');vEle.appendChild(this._vpEle);this._vnpEle=document.createElement('div');this._vnpEle.id=this.contId+'.VIEW.NAVPAGE';this._vnpEle.className=this.view.page.className;$ss(this._vnpEle,'display: none; position: absolute; top: 0px; left: 0px; overflow: hidden; -ms-transform-origin: left top 0; -webkit-transform-origin: left top 0; transform-origin: left top 0; background-repeat: no-repeat;');this._vnpEle.innerHTML='<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"></div>';vEle.appendChild(this._vnpEle);this._vpbEle=document.createElement('div');this._vpbEle.id=this.contId+'.VIEW.BACKGROUND';$ss(this._vpbEle,'display: none; position: absolute; top: 0px; left: 0px; background-repeat: no-repeat;');this._vpEle.appendChild(this._vpbEle);this._vcEle=document.createElement('canvas');this._vcCtx=this._vcEle.getContext("2d");this._vcEle.id=this.contId+'.VIEW.CANVAS';$ss(this._vcEle,'position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; width: 100%; height: 100%;');this._vpEle.appendChild(this._vcEle);cEle.appendChild(vEle);this._vzbEle=document.createElement('div');this._vzbEle.id=this.contId+'.VIEW.ZOOMBOX';this._vzbEle.className=this.view.zoomBox.className+$if(this.view.zoomBox.scale.allow,' '+this.view.zoomBox.scale.className,'');$ss(this._vzbEle,'position: absolute; top: 0px; left: 0px; width: 100px; height: 100px;');this._vpEle.appendChild(this._vzbEle);var voEle=document.createElement('div');voEle.id=this.contId+'.VIEW.OVERLAY';if(this.view.overlay.html.constructor==Function)voEle.innerHTML=this.view.overlay.html.call(this,'view').replace(/\{id\}/gi,this.contId);else voEle.innerHTML=this.view.overlay.html.replace(/\{id\}/gi,this.contId);$ss(voEle,'position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;');if(!this.view.overlay.show)voEle.style.display='none';vEle.appendChild(voEle);if(this.layout=='detached-view'){var dvEle=$(this.view.detached.id);if(dvEle){dvEle.appendChild(vEle);if(dvEle.style.position!='absolute')dvEle.style.position='relative';this._bindEvents(dvEle);this.state.view.detached=true;}else{this.layout=='split';cEle.appendChild(vEle);}}else cEle.appendChild(vEle);var eEle=document.createElement('div');eEle.id=this.contId+'.EDITOR';eEle.className=this.editor.className;$ss(eEle,'position: absolute; top: 0px; left: 0px; right: 0px;  bottom: 0px; overflow: hidden;');this._epEle=document.createElement('div');this._epEle.id=this.contId+'.EDITOR.PAGE';this._epEle.className=this.editor.page.className;$ss(this._epEle,'position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: hidden;');eEle.appendChild(this._epEle);this._enpEle=document.createElement('div');this._enpEle.id=this.contId+'.EDITOR.NAVPAGE';this._enpEle.className=this.editor.page.className;$ss(this._enpEle,'display: none; position: absolute; top: 0px; left: 0px; overflow: hidden; -ms-transform-origin: left top 0; -webkit-transform-origin: left top 0; transform-origin: left top 0; background-repeat: no-repeat;');this._enpEle.innerHTML='<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px;"></div>';eEle.appendChild(this._enpEle);this._epbEle=document.createElement('div');this._epbEle.id=this.contId+'.EDITOR.BACKGROUND';$ss(this._epbEle,'display: none; position: absolute; top: 0px; left: 0px; background-repeat: no-repeat;');this._epEle.appendChild(this._epbEle);this._bcEle=document.createElement('canvas');this._bcCtx=this._bcEle.getContext('2d');$ss(this._bcEle,'position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; width: 100%; height: 100%;');this._epEle.appendChild(this._bcEle);this._fcEle=document.createElement('canvas');this._fcCtx=this._fcEle.getContext('2d');$ss(this._fcEle,'position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; width: 100%; height: 100%;');this._epEle.appendChild(this._fcEle);this._eeEle=document.createElement('div');$ss(this._eeEle,'position: absolute; top: 0px; bottom: 0px; width: 50px; height: 50px; display: none;');this._eeEle.className=this.tools.eraser.areaClassName;this._epEle.appendChild(this._eeEle);var eoEle=document.createElement('div');eoEle.id=this.contId+'.EDITOR.OVERLAY';if(this.editor.overlay.html.constructor==Function)eoEle.innerHTML=this.editor.overlay.html.call(this,'editor').replace(/\{id\}/gi,this.contId);else eoEle.innerHTML=this.editor.overlay.html.replace(/\{id\}/gi,this.contId);$ss(eoEle,'position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');if(!this.editor.overlay.show)eoEle.style.display='none';eEle.appendChild(eoEle);cEle.appendChild(eEle);var sbEle=document.createElement('div');sbEle.id=this.contId+'.SPIT.BAR';$ss(sbEle,'position: absolute; display: none; overflow: hidden;');cEle.appendChild(sbEle);this._sEle=$(this.contId+'.STATUS');this._ppEle=$(this.contId+'.PENPREVIEW');this.setStatus();this.setPen(this.tools.pen.base);this._resize();},_bindEvents:function(cEle){A5.u.drag.add(cEle,'prevent');A5.u.pointerTracker.add(cEle,{ink:this,gOff:function(id,ele){var b=ele.getBoundingClientRect();id.xo=0-b.left;id.yo=0-b.top;},snap:function(xy,id,od,off){var s=null;var p=od.ink.data.pts;var sp=null;var ep=null;var cx=xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x;var cy=xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y;var snap=od.ink.editor.snap/od.ink.state.editor.scale;for(var i=0;i<od.ink.data.strokes.length+off;i++){s=od.ink.data.strokes[i];sp=p[s.start];ep=p[s.end];if(Math.abs(cx-sp.x)<snap&&Math.abs(cy-sp.y)<snap){xy.x=(sp.x-od.ink.state.editor.offset.x)*od.ink.state.editor.scale;xy.y=(sp.y-od.ink.state.editor.offset.y)*od.ink.state.editor.scale;break;}else if(Math.abs(cx-ep.x)<snap&&Math.abs(cy-ep.y)<snap){xy.x=(ep.x-od.ink.state.editor.offset.x)*od.ink.state.editor.scale;xy.y=(ep.y-od.ink.state.editor.offset.y)*od.ink.state.editor.scale;break;}}},onStart:function(id,od,e){var ele=document.elementFromPoint(id.x,id.y);if(!ele)return false;id.activePart='';id.viewPart='';id.item=false;id.itemArgs='';id.itemArgs='';id.itemObj=false;id.itemEle=false;var item='';while(ele!=this&&ele!=document.body){if(!id.item){item=$ga(ele,'a5-item');if(item!=''&&item!=null){item=item.split(':');id.item=item.shift();id.itemArgs=item.join(':');if(od.ink.items[id.item])id.itemObj=od.ink.items[id.item];id.itemEle=ele;}}
if(ele.id==od.ink.contId+'.VIEW')id.activePart='view';else if(ele.id==od.ink.contId+'.EDITOR')id.activePart='editor';ele=ele.parentNode;}
if(!id.item){if(id.activePart=='editor')od.gOff(id,od.ink._fcEle);else od.gOff(id,od.ink._vcEle);}},onSingleStart:function(id,od,e){if(!id.item){var xy={x:id.x+id.xo,y:id.y+id.yo};if(id.activePart=='editor'){id.preventAdd=true;if(od.ink.editor.snap>0)od.snap(xy,id,od,0);if(od.ink.state.tool.type=='eraser'){od.ink._eeEle.style.left=(xy.x-(od.ink.tools.eraser.size/2))+'px';od.ink._eeEle.style.top=(xy.y-(od.ink.tools.eraser.size/2))+'px';od.ink._eeEle.style.width=od.ink.tools.eraser.size+'px';od.ink._eeEle.style.height=od.ink.tools.eraser.size+'px';od.ink._eeEle.style.display='';id.cOff=((od.ink.data.state.stroke.maxWidth*od.ink.state.editor.scale)/1.5)+2;id.ensf=od.ink.data.erasePoints(xy.x/od.ink.state.editor.scale-od.ink.state.editor.offset.x,xy.y/od.ink.state.editor.scale-od.ink.state.editor.offset.y,od.ink.tools.eraser.size/od.ink.state.editor.scale,0);}else if(od.ink.state.tool.type=='pan'){id._startX=od.ink.state.editor.offset.x;id._startY=od.ink.state.editor.offset.y;od.ink._startPageNav(id.activePart);}else if(od.ink.state.tool.type=='draw-shape'){id.cOff=(od.ink.data.state.stroke.activeWidth*od.ink.state.editor.scale)+20;id.sxy=xy;var pattr=od.ink.data.attrs[od.ink.data._cAttr].vals;var sWidth=pattr.width*od.ink.state.editor.scale;if(sWidth<1)sWidth=1;if(sWidth>500)sWidth=500;od.ink._fcCtx.lineWidth=sWidth;od.ink._fcCtx.strokeStyle=pattr.color;od.ink._fcCtx.lineCap=pattr.lineCap;id._shape=false;id._shapeSet=false;if(od.ink.state.tool.settings){id._shapeSet=od.ink.state.tool.settings;if(id._shapeSet.shape){if(A5.ink.shapes[id._shapeSet.shape]){id._shape=A5.ink.shapes[id._shapeSet.shape];}}}}else{if(od.ink.editor.autoAdvance.allow&&od.ink.state.editor.autoAdvance.show){if(od.ink.state.editor.autoAdvance.flow=='rtl'){}else if(od.ink.state.editor.autoAdvance.flow=='ttb'){}else{if(xy.x<od.ink.state.editor.autoAdvance.size){od.ink.state.editor.autoAdvance.show=false;od.ink._offset('editor',od.ink.state.editor.autoAdvance.offset.x,od.ink.state.editor.autoAdvance.offset.y);od.ink._repaintEditor(false);}}}
od.ink.data.startStroke(xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y);id.cOff=(od.ink.data.state.stroke.activeWidth*od.ink.state.editor.scale)+2;id.lxy=xy;od.ink.data.renderRect({x:xy.x-id.cOff,y:xy.y-id.cOff,w:(id.cOff*2),h:(id.cOff*2)},{editing:true,showPageLines:false,scale:od.ink.state.editor.scale,stroke:{first:od.ink.data._cStroke,last:od.ink.data._cStroke},offset:{x:-od.ink.state.editor.offset.x,y:-od.ink.state.editor.offset.y}},od.ink._fcCtx);}}else if(id.activePart=='view'){var zbx=od.ink._vzbEle.offsetLeft;var zby=od.ink._vzbEle.offsetTop;var zbow=od.ink._vzbEle.offsetWidth;var zboh=od.ink._vzbEle.offsetHeight;var zbw=Math.max(42,zbow);var zbh=Math.max(42,zboh);zbxc=zbx-(zbw/2)+(zbow/2);zbyc=zby-(zbh/2)+(zboh/2);var zbs=false;if(od.ink.view.zoomBox.scale.allow){id._startX=od.ink.state.editor.offset.x;id._startY=od.ink.state.editor.offset.y;id._
if(od.ink.view.zoomBox.scale.from=='top-left'){if(xy.x>=zbx-22&&xy.x<=zbx+22&&xy.y>=zby-22&&xy.y<=zby+22){zbs=true;id._startX=od.ink.state.editor.offset.x+(od.ink.state.editor.width/od.ink.state.editor.scale);id._startY=od.ink.state.editor.offset.y+(od.ink.state.editor.height/od.ink.state.editor.scale);}}else if(od.ink.view.zoomBox.scale.from=='top-right'){if(xy.x>=zbx+zbow-22&&xy.x<=zbx+zbow+22&&xy.y>=zby-22&&xy.y<=zby+22){zbs=true;id._startY=od.ink.state.editor.offset.y+(od.ink.state.editor.height/od.ink.state.editor.scale);}}else if(od.ink.view.zoomBox.scale.from=='bottom-left'){if(xy.x>=zbx-22&&xy.x<=zbx+22&&xy.y>=zby+zboh-22&&xy.y<=zby+zboh+22){zbs=true;id._startX=od.ink.state.editor.offset.x+(od.ink.state.editor.width/od.ink.state.editor.scale);}}else{if(xy.x>=zbx+zbow-22&&xy.x<=zbx+zbow+22&&xy.y>=zby+zboh-22&&xy.y<=zby+zboh+22)zbs=true;}}
if(zbs){var noScale=false;if(od.ink.state.editor.autoScale){if(od.ink.editor.scale.lock)noScale=true;}
if(noScale){id.viewPart='view';id._panActive=false;}else{od.ink.editor.scale=false;id.viewPart='zoombox-scale';id._startZBW=zbow;id._startZBH=zboh;od.ink._startPageNav('editor');}}else if(xy.x>=zbxc&&xy.x<=zbxc+zbw&&xy.y>=zbyc&&xy.y<=zbyc+zbh){id.viewPart='zoombox-move';id._startX=od.ink.state.editor.offset.x;id._startY=od.ink.state.editor.offset.y;od.ink._startPageNav('editor');}else{id.viewPart='view';id._panActive=false;}}}else{id.preventAdd=true;id._d={c:false,a:false,t:'',inc:{a:'n',x:0,y:0,n:0,oy:0,ox:0},md:0,sx:0,sy:0,isx:0,isy:0,ss:15,s:20};if(id.item=='*navigate'&&id.itemArgs=='new-line'){id._d.c=true;id._d.t='pan-line';od.ink.setStatus('item:navigate:new-line');}else if(id.item=='*navigate'||(id.item=='*pan'&&id.itemArgs=='immediate')){id._d.c=true;id._d.t='pan';od.ink.setStatus('item:navigate');}else if(id.item=='*undo'||id.item=='*redo'){id._d.c=true;id._d.t=id.item.substr(1);od.ink.setStatus('item:'+id._d.t);}else if(id.item=='*eraser'){id._d.c=true;id._d.t='eraser';od.ink.setStatus('item:eraser');}}},onDblStart:function(id,od,e){if(!id.item){id.preventAdd=true;if(!id._panActive)od.ink._startPageNav(id.activePart);if(id.activePart=='editor'){id._startScale=od.ink.state.editor.scale;id._startX=od.ink.state.editor.offset.x;id._startY=od.ink.state.editor.offset.y;}else if(id.activePart=='view'){id._startScale=od.ink.state.view.scale;id._startX=od.ink.state.view.offset.x;id._startY=od.ink.state.view.offset.y;}}},onDblEnd:function(id,od,e){if(!id.item){id.preventAdd=false;od.ink._endPageNav(id.activePart);od.ink.refresh();}},onChange:function(id,od,e){if(!id.item){if(id.type=='single'){if(id.activePart=='editor'){var xy={x:id.x+id.xo,y:id.y+id.yo};if(od.ink.state.tool.type=='eraser'){od.ink._eeEle.style.left=(xy.x-(od.ink.tools.eraser.size/2))+'px';od.ink._eeEle.style.top=(xy.y-(od.ink.tools.eraser.size/2))+'px';id.ensf=od.ink.data.erasePoints(xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y,od.ink.tools.eraser.size/od.ink.state.editor.scale,id.ensf);od.ink.data.renderRect({x:xy.x-(od.ink.tools.eraser.size/2)-id.cOff,y:xy.y-(od.ink.tools.eraser.size/2)-id.cOff,w:od.ink.tools.eraser.size+(id.cOff*2),h:od.ink.tools.eraser.size+(id.cOff*2)},{editing:true,scale:od.ink.state.editor.scale,offset:{x:-od.ink.state.editor.offset.x,y:-od.ink.state.editor.offset.y}},od.ink._bcCtx);}else if(od.ink.state.tool.type=='pan'){od.ink._offset('editor',id._startX-(id.delta.x/od.ink.state.editor.scale),id._startY-(id.delta.y/od.ink.state.editor.scale));od.ink._repaintEditor(false);od.ink._vzbEle.style.left=((od.ink.state.editor.offset.x*od.ink.state.view.scale)-(od.ink.state.view.offset.x*od.ink.state.view.scale))+'px';od.ink._vzbEle.style.top=((od.ink.state.editor.offset.y*od.ink.state.view.scale)-(od.ink.state.view.offset.y*od.ink.state.view.scale))+'px';}else if(od.ink.state.tool.type=='draw-shape'){od.ink._fcCtx.beginPath();od.ink._fcCtx.clearRect(0,0,od.ink._fcEle.width,od.ink._fcEle.height);if(id._shape){id._shape.draw({startX:id.sxy.x,startY:id.sxy.y,endX:xy.x,endY:xy.y},id._shapeSet,od.ink.data,od.ink._fcCtx);}}else{if(Math.abs(id.lxy.x-xy.x)>od.ink.tools.pen.smooth||Math.abs(id.lxy.y-xy.y)>od.ink.tools.pen.smooth){id.lxy=xy;od.ink.data.addToStroke(xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y);od.ink.data.renderRect({x:id.start.x+id.xo+id.delta.min.x-id.cOff,y:id.start.y+id.yo+id.delta.min.y-id.cOff,w:id.delta.max.x-id.delta.min.x+(id.cOff*2),h:id.delta.max.y-id.delta.min.y+(id.cOff*2)},{editing:true,showPageLines:false,scale:od.ink.state.editor.scale,stroke:{first:od.ink.data._cStroke,last:od.ink.data._cStroke},offset:{x:-od.ink.state.editor.offset.x,y:-od.ink.state.editor.offset.y}},od.ink._fcCtx);}}}else if(id.activePart=='view'){if(id.viewPart=='zoombox-scale'){if(od.ink.view.zoomBox.scale.from=='top-left'){od.ink.state.editor.scale=Math.max(Math.min(od.ink.state.editor.width/(((id._startZBW-id.delta.x)/od.ink.state.view.scale)),od.ink.state.editor.height/(((id._startZBH-id.delta.y)/od.ink.state.view.scale))),.05);od.ink._offset('editor',id._startX-(od.ink.state.editor.width/od.ink.state.editor.scale),id._startY-(od.ink.state.editor.height/od.ink.state.editor.scale));}else if(od.ink.view.zoomBox.scale.from=='top-right'){od.ink.state.editor.scale=Math.max(Math.min(od.ink.state.editor.width/(((id._startZBW+id.delta.x)/od.ink.state.view.scale)),od.ink.state.editor.height/(((id._startZBH-id.delta.y)/od.ink.state.view.scale))),.05);od.ink._offset('editor',id._startX,id._startY-(od.ink.state.editor.height/od.ink.state.editor.scale));}else if(od.ink.view.zoomBox.scale.from=='bottom-left'){od.ink.state.editor.scale=Math.max(Math.min(od.ink.state.editor.width/(((id._startZBW-id.delta.x)/od.ink.state.view.scale)),od.ink.state.editor.height/(((id._startZBH+id.delta.y)/od.ink.state.view.scale))),.05);od.ink._offset('editor',id._startX-(od.ink.state.editor.width/od.ink.state.editor.scale),id._startY);}else{od.ink.state.editor.scale=Math.max(Math.min(od.ink.state.editor.width/(((id._startZBW+id.delta.x)/od.ink.state.view.scale)),od.ink.state.editor.height/(((id._startZBH+id.delta.y)/od.ink.state.view.scale))),.05);}
od.ink._vzbEle.style.left=((od.ink.state.editor.offset.x*od.ink.state.view.scale)-(od.ink.state.view.offset.x*od.ink.state.view.scale))+'px';od.ink._vzbEle.style.top=((od.ink.state.editor.offset.y*od.ink.state.view.scale)-(od.ink.state.view.offset.y*od.ink.state.view.scale))+'px';od.ink._vzbEle.style.width=(((od.ink.state.editor.width/od.ink.state.editor.scale)*od.ink.state.view.scale)-1)+'px';od.ink._vzbEle.style.height=(((od.ink.state.editor.height/od.ink.state.editor.scale)*od.ink.state.view.scale)-2)+'px';od.ink._repaintEditor(false);}else if(id.viewPart=='zoombox-move'){od.ink._offset('editor',((id._startX*od.ink.state.view.scale)+id.delta.x)/od.ink.state.view.scale,((id._startY*od.ink.state.view.scale)+id.delta.y)/od.ink.state.view.scale);od.ink._vzbEle.style.left=((od.ink.state.editor.offset.x*od.ink.state.view.scale)-(od.ink.state.view.offset.x*od.ink.state.view.scale))+'px';od.ink._vzbEle.style.top=((od.ink.state.editor.offset.y*od.ink.state.view.scale)-(od.ink.state.view.offset.y*od.ink.state.view.scale))+'px';od.ink._repaintEditor(false);}else if(id.viewPart=='view'){if(id._panActive){od.ink._offset('view',id._startX-(id.delta.x/od.ink.state.view.scale),id._startY-(id.delta.y/od.ink.state.view.scale));od.ink._repaintView();}else if(Math.abs(id.delta.x)>5||Math.abs(id.delta.y)>5){id._panActive=true;od.ink._startPageNav(id.activePart);id._startX=od.ink.state.view.offset.x+(id.delta.x/od.ink.state.view.scale);id._startY=od.ink.state.view.offset.y+(id.delta.x/od.ink.state.view.scale);}}}}else if(id.type=='double'){if(id.activePart=='editor'){if(!od.ink.state.editor.autoScale){od.ink.editor.scale=false;od.ink.state.editor.scale=Math.max((id._startScale*id.scale.value),.05);}
od.ink._offset('editor',id._startX-(id.delta.x/od.ink.state.editor.scale),id._startY-(id.delta.y/od.ink.state.editor.scale));od.ink._repaintEditor(false);}else if(id.activePart=='view'){if(!od.ink.state.view.autoScale){od.ink.view.scale=false;od.ink.state.view.scale=Math.max((id._startScale*id.scale.value),.05);}
od.ink._offset('view',id._startX-(id.delta.x/od.ink.state.view.scale),id._startY-(id.delta.y/od.ink.state.view.scale));od.ink._repaintView();}}}else{if(id._d.c){if(id._d.a){if(id._d.t=='pan'){if(id.activePart=='editor'){od.ink._offset('editor',id._d.isx-(id.delta.x/od.ink.state.editor.scale),id._d.isy-(id.delta.y/od.ink.state.editor.scale));od.ink._repaintEditor(false);od.ink._vzbEle.style.left=((od.ink.state.editor.offset.x*od.ink.state.view.scale)-(od.ink.state.view.offset.x*od.ink.state.view.scale))+'px';od.ink._vzbEle.style.top=((od.ink.state.editor.offset.y*od.ink.state.view.scale)-(od.ink.state.view.offset.y*od.ink.state.view.scale))+'px';}else if(id.activePart=='view'){od.ink._offset('view',id._d.isx-(id.delta.x/od.ink.state.view.scale),id._d.isy-(id.delta.y/od.ink.state.view.scale));od.ink._repaintView();}}else if(id._d.t=='eraser'){if(Math.abs(id.delta.x-id._d.sx)>Math.abs(id.delta.y-id._d.sy))id._d.md=id.delta.x-id._d.sx;else id._d.md=id.delta.y-id._d.sy;var es=Math.max(Math.min(id._d.md+od.ink.tools.eraser.size,od.ink.tools.eraser.max),od.ink.tools.eraser.min);od.ink._eeEle.style.left=((od.ink.state.editor.width/2)-(es/2))+'px';od.ink._eeEle.style.top=((od.ink.state.editor.height/2)-(es/2))+'px';od.ink._eeEle.style.width=es+'px';od.ink._eeEle.style.height=es+'px';od.ink._eeEle.style.display='';}else{if(Math.abs(id.delta.x-id._d.inc.ox)>=id._d.s){if(id.delta.x<id._d.inc.ox)id._d.inc.x=-1;else id._d.inc.x=1;id._d.inc.ox=id.delta.x;id._d.inc.a='x';}else if(Math.abs(id.delta.y-id._d.inc.oy)>=id._d.s){if(id.delta.y<id._d.inc.oy)id._d.inc.y=-1;else id._d.inc.y=1;id._d.inc.oy=id.delta.y;id._d.inc.a='y';}
if(id._d.t=='pan-line'){if(id._d.inc[id._d.inc.a]==-1)od.ink.navigate(id.activePart,'prev-line');else if(id._d.inc[id._d.inc.a]==1)od.ink.navigate(id.activePart,'next-line');}else if(id._d.t=='undo'||id._d.t=='redo'){if(id._d.inc[id._d.inc.a]==-1)od.ink.undo();else if(id._d.inc[id._d.inc.a]==1)od.ink.redo();}
id._d.inc.a='n';}}else if(Math.abs(id.delta.x)>id._d.ss||Math.abs(id.delta.y)>id._d.ss){id._d.a=true;id._d.sx=id.delta.x;id._d.sy=id.delta.y;id._d.isx=od.ink.state[id.activePart].offset.x+(id.delta.x/od.ink.state[id.activePart].scale);id._d.isy=od.ink.state[id.activePart].offset.y+(id.delta.y/od.ink.state[id.activePart].scale);if(id._d.t=='pan')od.ink._startPageNav(id.activePart);}}}},onEnd:function(id,od,e){od.ink._endPageNav('editor');od.ink._endPageNav('view');od.ink.setStatus();if(!id.item){var xy={x:id.x+id.xo,y:id.y+id.yo};if(id.activePart=='editor'){if(od.ink.editor.snap>0)od.snap(xy,id,od,-1);if(od.ink.state.tool.type=='eraser'){od.ink._repaint(true);od.ink._eeEle.style.display='none';od.ink._change({type:'edit'});}else if(od.ink.state.tool.type=='pan'){od.ink._repaint(false);}else if(od.ink.state.tool.type=='draw-shape'){if(id._shape){id._shape.commit({startX:id.sxy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,startY:id.sxy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y,endX:xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,endY:xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y},id._shapeSet,od.ink.data);}
od.ink._fcCtx.beginPath();od.ink._fcCtx.clearRect(0,0,od.ink._fcEle.width,od.ink._fcEle.height);od.ink._fcCtx.stroke();od.ink._repaint(true);od.ink._change({type:'edit'});}else{od.ink._fcCtx.beginPath();od.ink._fcCtx.clearRect(0,0,od.ink._fcEle.width,od.ink._fcEle.height);od.ink._fcCtx.stroke();od.ink.data.endStroke(xy.x/od.ink.state.editor.scale+od.ink.state.editor.offset.x,xy.y/od.ink.state.editor.scale+od.ink.state.editor.offset.y);if(od.ink.editor.autoAdvance.allow){if(od.ink.state.editor.autoAdvance.flow=='rtl'){}else if(od.ink.state.editor.autoAdvance.flow=='ttb'){}else{var mx=(id.original.x+id.delta.max.x+id.xo);var sx=Math.max(od.ink.state.editor.width/2,od.ink.state.editor.autoAdvance.size);if(mx>sx){var xOff=(mx/od.ink.state.editor.scale)+od.ink.state.editor.offset.x-((od.ink.editor.autoAdvance.size/od.ink.state.editor.scale)/2);var mxOff=od.ink.data._maxX-(od.ink.state.editor.width/od.ink.state.editor.scale);if(xOff>od.ink.state.editor.autoAdvance.edge){od.ink.state.editor.autoAdvance.show=true;od.ink.state.editor.autoAdvance.edge=xOff;od.ink.state.editor.autoAdvance.offset.x=Math.min(xOff,mxOff);od.ink.state.editor.autoAdvance.offset.y=od.ink.state.editor.offset.y;od.ink.state.editor.autoAdvance.size=od.ink.editor.autoAdvance.size+((xOff-od.ink.state.editor.autoAdvance.offset.x)/od.ink.state.editor.scale);if(od.ink.state.editor.autoAdvance.size>=od.ink.state.editor.width-(od.ink.editor.autoAdvance.size/2)||od.ink.state.editor.autoAdvance.offset.x==od.ink.state.editor.offset.x){var nx=0;var ny=od.ink.state.editor.offset.y+((od.ink.state.editor.height*.5)/od.ink.state.editor.scale);if(od.ink.data.page.lines){var pl=A5.ink._.pageLines[od.ink.data.page.lines.type];if(pl){if(pl.navigate){var res=pl.navigate('new-line',{x:od.ink.state.editor.offset.x,y:od.ink.state.editor.offset.y,width:od.ink.data._maxX,height:od.ink.data._maxY,clip:{width:od.ink.state.editor.width/od.ink.state.editor.scale,height:od.ink.state.editor.height/od.ink.state.editor.scale}},od.ink.data.page.lines);if(typeof res=='object'){nx=res.x;ny=res.y;}}}}
od.ink.state.editor.autoAdvance.edge=nx;od.ink.state.editor.autoAdvance.offset.x=nx;od.ink.state.editor.autoAdvance.offset.y=Math.max(Math.min(ny,Math.floor(od.ink.data._maxY-(od.ink.state.editor.height/od.ink.state.editor.scale))),0);od.ink.state.editor.autoAdvance.size=od.ink.editor.autoAdvance.size;}}}}}
od.ink._repaint(true);od.ink._change({type:'edit'});}
if(!od.ink.state.tool.sticky)od.ink.setTool('pen');}else if(id.activePart=='view'){if(id.viewPart=='zoombox-scale'||id.viewPart=='zoombox-move'){od.ink._resize();}else if(id.viewPart=='view'){if(id.captured==1&&id.delta.max.x<15&&id.delta.max.y<15&&id.delta.min.x>-15&&id.delta.min.y>-15){od.ink._offset('editor',od.ink.state.view.offset.x+(xy.x/od.ink.state.view.scale)-(od.ink.state.editor.width/2),od.ink.state.view.offset.y+(xy.y/od.ink.state.view.scale)-(od.ink.state.editor.height/2));}
od.ink._repaint(false);}}}else{if(id._d.a){if(id._d.t=='eraser'){od.ink.tools.eraser.size=Math.max(Math.min(id._d.md+od.ink.tools.eraser.size,od.ink.tools.eraser.max),od.ink.tools.eraser.min);od.ink._eeEle.style.display='none';od.ink.setTool('eraser',id.itemArgs=='sticky');}
od.ink._repaint(false);}else{var ele=document.elementFromPoint(id.x,id.y);var isClick=false;if(ele){while(ele!=this&&ele!=document.body){if(ele==id.itemEle){isClick=true;break;}
ele=ele.parentNode;}}
if(isClick&&A5.u.drag._sDif<$e.abstractEvents.click.scrollMax){if(id.itemObj){if(id.itemObj.onClick)id.itemObj.onClick.call(od.ink,id.itemEle,id.itemArgs,id.activePart,id);}else{var sticky=id.itemArgs=='sticky';if(id.item=='*undo')od.ink.undo()
else if(id.item=='*redo')od.ink.redo()
else if(id.item=='*eraser'){if(od.ink.state.tool.type!='eraser')od.ink.setTool('eraser',sticky);else od.ink.setTool('pen');}else if(id.item=='*pan'&&id.itemArgs!='immediate'){if(od.ink.state.tool.type!='pan')od.ink.setTool('pan',sticky);else od.ink.setTool('pen');}else if(id.item=='*navigate')od.ink.navigate(id.activePart,id.itemArgs);}}}
id.itemObj=false;id.itemEle=false;}}});$e.add(cEle,'wheel',function(e,ci){var ele=document.elementFromPoint(e.clientX,e.clientY);if(!ele)return false;$e.stopEvent(e);activePart='';while(ele!=this&&ele!=document.body){if(ele.id==ci.contId+'.VIEW'){activePart='view';break;}else if(ele.id==ci.contId+'.EDITOR'){activePart='editor';break;}
ele=ele.parentNode;}
if(activePart=='view'){if(e.ctrlKey){if(ci.state.view.autoScale){if(ci.view.scale.lock)return false;}
ci.view.scale=false;var a=ci.state.view.scale/4;if(e.deltaY>0&&ci.state.view.scale>.05)ci.state.view.scale-=a;else if(e.deltaY<0)ci.state.view.scale+=a;ci._resize();}else if(e.shiftKey){if(e.deltaX>0||e.deltaY>0)ci.navigate('view','nudge-right');else if(e.deltaX<0||e.deltaY<0)ci.navigate('view','nudge-left');}else{if(e.deltaY>0)ci.navigate('view','nudge-down');else if(e.deltaY<0)ci.navigate('view','nudge-up');}}else if(activePart=='editor'){if(e.ctrlKey){if(ci.state.editor.autoScale){if(ci.editor.scale.lock)return false;}
ci.editor.scale=false;var a=ci.state.editor.scale/4;if(e.deltaY>0&&ci.state.editor.scale>.05)ci.state.editor.scale-=a;else if(e.deltaY<0)ci.state.editor.scale+=a;ci._resize();}else if(e.shiftKey){if(e.deltaX>0||e.deltaY>0)ci.navigate('editor','nudge-right');else if(e.deltaX<0||e.deltaY<0)ci.navigate('editor','nudge-left');}else{if(e.deltaY>0)ci.navigate('editor','nudge-down');else if(e.deltaY<0)ci.navigate('editor','nudge-up');}}},this,false,'INK.'+this.contId+'.EVENTS');}});
/*
Copyright (c) 2001, 2017 Alpha Software Corporation
All Rights Reserved.
This JavaScript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,
Alpha Five Application Server, Alpha Anywhere Application Server,
Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically
not licensed for use on a server that does not have installed on it a
licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.
*/
A5.controlBar={disclosure:{defaultContainer:''},items:{'html':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',html:'',bind:{show:''}},true);var html=s.html;html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;}},'button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:''},actions:{},bind:{show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;var html=A5.buttons.html(id,s.settings,'a5-item="'+name+'"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item="'+name+'"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}
html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}
if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}
this.action(item.actions[type],data);}}},'button-toggle':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,style:'',type:'two-state',keepPressed:true},actions:{},bind:{value:'',data:'',show:'',disabled:''},autoHideDisclosure:'auto'},true);s.settings.style='width: 100%;'+s.settings.style;if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;if(s.settings.type=='multi-state'){var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\{/g,'\\{');sStr=sStr.replace(/\}/g,'\\}');sStr=sStr.replace(/:/g,'\\:');html='{A5.buttons.html(\''+id+'\',function(od)\\{var o = '+sStr+'; $u.o.assign(o,od); return o;\\}('+s.bind.data+'['+s.bind.value+']),\'a5-item="'+name+'"\')}';}else{var html=A5.buttons.html(id,s.settings,'a5-item="'+name+'"','',true);if(s.settings.keepPressed){html='{*if '+s.bind.value+'}'+A5.buttons.html(id,s.settings,'a5-item="'+name+'"','pressed',true)+'{*else}'+html+'{*endif}';}
if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings,'a5-item="'+name+'"','disabled',true);html='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+html+'{*endif}';}}
html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}
if(type=='click'){var curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.type=='multi-state'){curV++;var d=A5.u.object.get(this.data,item.bind.data);if(curV>=d.length)curV=0;this.update(item.bind.value,curV);}else{this.update(item.bind.value,!curV);}}
if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}
this.action(item.actions[type],data);}}},'button-list':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',settings:{theme:theme,allowNullSelection:false,multiple:false,className:'',nullSelectionClassName:'',button:{keepPressed:true}},actions:{},bind:{data:'',value:'',show:''},autoHideDisclosure:'auto'},true);var ts={};A5.themes.assign(ts,s.settings.theme,'buttonList');$u.o.assign(s.settings,ts,true);var sStr=JSON.stringify(s.settings);sStr=sStr.replace(/\{/g,'\\{');sStr=sStr.replace(/\}/g,'\\}');sStr=sStr.replace(/:/g,'\\:');html='{A5.buttonLists.html(\''+id+'\','+sStr+','+s.bind.data+','+$if(s.settings.button.keepPressed,s.bind.value,'\'\'')+',\'a5-item="'+name+'" a5-value="\\{index\\}"\')}';var cStyle='';if(s.size=='')cStyle=' style="display: inline-block;"';if(s.settings.nullSelectionClassName!=''){html='<div class="'+s.settings.className+'{*if ('+s.bind.value+').toString() == \'\'}'+s.settings.nullSelectionClassName+'{*endif}"'+cStyle+'>'+html+'</div>';}else{html='<div class="'+s.settings.className+'"'+cStyle+'>'+html+'</div>';}
html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.button.pressedClassName;if(pcn!=''){$acn(ele,pcn);A5.buttons._p[id]=pcn;}}
if(type=='click'){var d=A5.u.object.get(this.data,item.bind.data);var v=d[Number(value)];if(v){if(typeof v=='object'){v=v.value;}
var curV=A5.u.object.get(this.data,item.bind.value);if(item.settings.multiple){if(curV.constructor==Array){var cIndx=curV.indexOf(v);if(cIndx==-1){curV.push(v);v=curV;}else curV.splice(cIndx,1);if(item.settings.allowNullSelection===false&&curV.length==0)v=[v];else v=curV;}else console.log('ERROR - button-list value must be array if multiple select is set to true.');}else{if(item.settings.allowNullSelection===true&&v.toString()==curV.toString()){if(curV.constructor==Array)v=[];else v='';}else if(curV.constructor==Array)v=[v];}
this.update(item.bind.value,v);}}
if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}
this.action(item.actions[type],data);}}},'disclosure-button':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',autoHideDisclosure:'always',disclosure:{name:'',type:''},actions:{},settings:{show:{theme:theme,style:''},hide:{theme:theme,style:''}},bind:{show:'',disabled:''}},true);s.settings.show.style='width: 100%;'+s.settings.show.style;s.settings.hide.style='width: 100%;'+s.settings.hide.style;if(s.size!=''){s.settings.show.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.show.style;s.settings.hide.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.hide.style;}
var showHTML=A5.buttons.html(id,s.settings.show,'a5-item="'+name+'"','',true);var hideHTML=A5.buttons.html(id,s.settings.hide,'a5-item="'+name+'"','',true);if(s.bind.disabled!=''){var dHTML=A5.buttons.html(id,s.settings.show,'a5-item="'+name+'"','disabled',true);showHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+showHTML+'{*endif}';dHTML=A5.buttons.html(id,s.settings.hide,'a5-item="'+name+'"','disabled',true);hideHTML='{*if '+s.bind.disabled+'}'+dHTML+'{*else}'+hideHTML+'{*endif}';}
var html='{*if [temp].state.disclosure.shown && [temp].state.disclosure.name == \''+s.disclosure.name+'\'}'+hideHTML+'{*else}'+showHTML+'{*endif}';html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;},event:function(type,name,value,item,ele,e){if(type=='down'){var id=ele.id;var pcn=item.settings.pressedClassName;if(pcn!='')$acn(ele,pcn);if(item.settings.pressedIcon!=''){A5.u.icon.update($(ele.id+'.ICON'),item.settings.pressedIcon);A5.buttons._p[id]={c:pcn,i:item.settings.icon};}else A5.buttons._p[id]=pcn;}
if(type=='click'){if(this._d.shown)var html=A5.buttons.html(ele.id,item.settings.hide,'a5-item="'+name+'"','',true);else var html=A5.buttons.html(ele.id,item.settings.show,'a5-item="'+name+'"','',true);var pEle=ele.parentNode;pEle.innerHTML=A5.u.template.expand(this.data,html);}
if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}
this.action(item.actions[type],data);}}},'edit':{initialize:function(name,id,s,theme){$u.o.assign(s,{size:'',update:'default',actions:{},settings:{theme:theme,style:'',watermark:{text:'',className:''}},bind:{value:'',show:''}},true);var ts={};A5.themes.assign(ts,s.settings.theme,'edit');$u.o.assign(s.settings,ts,true);if(s.size!='')s.settings.style='A5CONTROLBARITEMSIZE: 100%;'+s.settings.style;s.settings.style='display: inline-block; overflow: hidden;'+s.settings.style;var wm=s.settings.watermark.text;if(wm=='')wm='&nbsp;';var html='{*if '+s.bind.value+' != \'\'}<div id="'+id+'" a5-item="'+name+'" class="'+s.settings.className+'" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \''+name+'\'}visibility: hidden;{*endif}">{'+s.bind.value+'}</div>{*else}<div id="'+id+'" a5-item="'+name+'" class="'+s.settings.className+' '+s.settings.watermark.className+'" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; '+s.settings.style+'{*if [temp].state.edit.shown && [temp].state.edit.item == \''+name+'\'}visibility: hidden;{*endif}"><escape<'+wm+'>></div>{*endif}';html='<div class="A5ControlBarItem" style="'+$if(s.size!='','A5CONTROLBARITEMSIZE: '+s.size+';','')+'; text-align: left;">'+html+'</div>';if(s.bind.show!=''){html='{*if '+s.bind.show+'}'+html+'{*endif}';}
s.template=html;},event:function(type,name,value,item,ele,e){if(item.actions[type]){var data={item:{name:name,value:value,def:item},element:ele,event:e}
this.action(item.actions[type],data);}}}},_:{lDefs:{type:'default',className:'',style:'',bind:{show:''},before:{items:[]},middle:{items:[]},after:{items:[]}},initDone:false,init:function(){if(!A5.controlBar._.initDone){A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLine','position: relative; text-align: center;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineCust','position: relative;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore','text-align: left;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineAfter','text-align: right;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarItem','display: inline-block;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentBefore','position: absolute; top: 0px; left: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineContentAfter','position: absolute; top: 0px; right: 0px;');A5.u.css.setSelector('.A5ControlBarHorz .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarHorz .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine > div','position: static; display: inline;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarHorz .A5ControlBarLine','text-align: inherit;');A5.u.css.setSelector('.A5ControlBarVert','display: table; height: 100%;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLine','display: table-cell; vertical-align: middle;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineCust','display: table-cell;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore','display: table-cell; vertical-align: top;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineAfter','display: table-cell; vertical-align: bottom;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentBefore','position: absolute; top: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineContentAfter','position: absolute; bottom: 0px;');A5.u.css.setSelector('.A5ControlBarVert .A5ControlBarLineBefore .A5ControlBarLineContentBefore, .A5ControlBarVert .A5ControlBarLineAfter .A5ControlBarLineContentAfter','position: static;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine > div','position: static; display: block;');A5.u.css.setSelector('.A5ControlBarCollapse .A5ControlBarVert .A5ControlBarLine','vertical-align: top;');A5.controlBar._.initDone=true;}}}}
A5.ControlBar=Class.create({initialize:function(contId,data,settings){if(typeof settings=='undefined'){settings=data;data=null;}
this.contId=contId;A5.controlBar._.init();$u.o.assign(this,{theme:'',override:'base',edge:'top',className:'',disclosuresClassName:'',topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:'',separator:{horizontalClassName:'',verticalClassName:''},items:{},actions:{},layout:'',layouts:{},disclosure:{container:A5.controlBar.disclosure.defaultContainer,animation:{duration:300,tween:'ease-in-out'},coverClassName:'',cover:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},extend:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},expand:{topClassName:'',bottomClassName:'',leftClassName:'',rightClassName:''},defaults:{html:'',className:'',onInitialize:false,onSize:false,onShow:false,onShowComplete:false,onHide:false}},disclosures:{},data:{},state:{layout:'',edit:{shown:false,item:'',part:'',path:''},disclosure:{shown:false,name:'',type:'',edge:''}},onDraw:false,onBeforeDraw:false,onPopulate:false,onBeforePopulate:false,onChange:false});if(typeof settings.theme!='undefined')A5.themes.assign(this,settings.theme,'controlBar');$u.o.assign(this,settings);A5.overrides.assign(this,'controlBar',this.override);this.initializeItems();var cEle=$(contId);cEle.innerHTML='<div></div><input id="'+this.contId+'.EDIT" style="position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />';if(cEle.style.position!='absolute')cEle.style.position='relative';cEle.style.padding='0px';cEle.style.overflow='hidden';$acn(cEle,this.className);this._bindEvents(cEle);this._m={anim:false,next:{has:false,args:[]},async:{}};var egName='CONTROLBAR.'+this.contId;var dEle=document.createElement('div');dEle.id=this.contId+'.DISCLOSURES';$ss(dEle,'z-index: 100000; position: absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; display: none;');dEle.innerHTML='<div style="position: absolute; overflow: hidden;"><div class="'+this.disclosure.defaults.className+'" id="'+this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC" style="z-index: 100002; position: absolute; display: none;"><div></div><input id="'+this.contId+'.EDITDIS" style="position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" /></div></div><div id="'+this.contId+'.DISCLOSURE.CLOSE" style="z-index: 100001; position: absolute; display: none;">&nbsp;</div>';$acn(dEle,this.disclosuresClassName);if(this.disclosure.container!='')$(this.disclosure.container).appendChild(dEle);else document.body.insertBefore(dEle,document.body.firstChild);this._bindEvents(dEle.children[0].children[0]);$e.add(dEle,A5.d.evnts.click,this._disClick,this,false,egName);$e.add(this.contId+'.DISCLOSURE.CLOSE',A5.d.evnts.click,this._disCloseClick,this,false,egName);if(A5.flags.supportsTouch){$e.add(dEle,'touchmove',function(e){var tempT=$e.getTouches(e);var pDef=true;if(tempT){if(tempT.length){if(tempT.length>1)pDef=false;}}
if(pDef)$e.preventDefault(e);});}
this._d={ele:dEle,shown:false,current:false,next:false};var cdEle=dEle.children[0];var tdEle=null;var dd=null;for(var d in this.disclosures){dd=this.disclosures[d];$u.o.assign(dd,this.disclosure.defaults,true);tdEle=document.createElement('div');tdEle.id=this.contId+'.DISCLOSURE.'+d;tdEle.className=dd.className;tdEle.innerHTML=dd.html;tdEle.style.position='absolute';tdEle.style.display='none';tdEle.style.zIndex='100002';cdEle.appendChild(tdEle);if(dd.onInitialize.constructor==Function)dd.onInitialize.call(this,tdEle);}
var eEle=$(this.contId+'.EDIT');var edEle=$(this.contId+'.EDITDIS');$e.add(eEle,'keyup',this._editKeyup,this,false,egName);$e.add(edEle,'keyup',this._editKeyup,this,false,egName);$e.add(eEle,'blur',this._editBlur,this,false,egName);$e.add(edEle,'blur',this._editBlur,this,false,egName);this._e={ele:eEle,dEle:edEle,shown:0,current:false};if(data!=null)this.populate(data);else this.refresh();if(!A5.flags.isMobile)$e.add(window,'resize',this._relayout,this,true,egName);else{$e.add(window,'orientationchange',this._relayout,this,true,egName);if(A5.flags.iOSVersion==-1)$e.add(window,'resize',this._relayout,this,true,egName);}
$e.add(document,'webkitfullscreenchange',this._relayout,this,true,egName);$e.add(document,'mozfullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);$e.add(document,'fullscreenchange',this._relayout,this,true,egName);},initializeItems:function(){var iObj=null;var iTObj=null;var theme=this.theme;theme=theme.split(':').shift();for(var item in this.items){iObj=this.items[item];iTObj=A5.controlBar.items[iObj.type];if(iTObj)iTObj.initialize(item,this.contId+'.'+item,iObj,theme);else iObj.template='ERROR '+item+' - Item type "'+iObj.type+'" not found!';}
for(var layout in this.layouts){if(typeof this.layouts[layout]._t!='undefined'){delete this.layouts[layout]._t.top;delete this.layouts[layout]._t.bottom;delete this.layouts[layout]._t.left;delete this.layouts[layout]._t.right;}}},destroy:function(){$e.removeGroup('CONTROLBAR.'+this.contId);var dEle=this._d.ele;if(dEle){var pEle=dEle.parentNode;if(pEle)pEle.removeChild(dEle);}},populate:function(data){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var fEvnts=typeof arguments[2]!='undefined'?arguments[2]:true;var async=typeof arguments[3]!='undefined'?arguments[3]:false;if(this.onBeforePopulate.constructor==Function&&fEvnts){var res=this.onBeforePopulate.call(this,data);if(typeof res=='boolean'){if(!res)return false;}}
this.data={};$u.o.assign(this.data,data);this.refresh(anim,async);if(this.onPopulate.constructor==Function&&fEvnts)this.onPopulate.call(this,data);},update:function(p,v){var anim=typeof arguments[2]!='undefined'?arguments[2]:false;var fEvnts=typeof arguments[3]!='undefined'?arguments[3]:true;var async=typeof arguments[4]!='undefined'?arguments[4]:false;if(typeof p=='string'){p=[p];v=[v];}
for(var i=0;i<p.length;i++)A5.u.object.set(this.data,p[i],v[i]);if(fEvnts){if(this.onChange.constructor==Function)this.onChange.call(this,p,v);}
this.refresh(anim,async);},setLayout:function(l){if(this.layouts[l]){var anim=typeof arguments[1]!='undefined'?arguments[1]:false;var async=typeof arguments[2]!='undefined'?arguments[2]:false;this.layout=l;this.refresh(anim,async);}else console.log('ERROR - control bar layout "'+l+'" not found');},refresh:function(){var anim=typeof arguments[0]!='undefined'?arguments[0]:false;var async=typeof arguments[1]!='undefined'?arguments[1]:false;if(this._m.anim){this._m.next.has=true;this._m.next.args=[anim,async];return false;}
if(async){clearTimeout(this._m.async.to);var ci=this;this._m.async.to=setTimeout(function(){ci.refresh.apply(ci,ci._m.async.args);delete ci;},0);this._m.async.args=[anim];return false;}
if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'main');var l='';if(this.layout.constructor==Function)l=this.layout.call(this);else l=this.layout;this._cl=this.layouts[l];this.state.layout=l;this._compileTemplate(this._cl,this.edge);var cEle=$(this.contId);var html=A5.u.template.expand(this.data,{template:this._cl._t[this.edge]},{state:this.state},this);var animDo=false;var cn='class="'+this[this.edge+'ClassName']+'" ';var hCSS='';if(this.edge=='left'||this.edge=='right')hCSS=' height: 100%;';if(anim){if(typeof anim!='object')anim={type:anim,duration:500};if(!anim.tween)anim.tween='ease-in-out';if(anim.type.indexOf('-in')!=-1||anim.type.indexOf('-out')!=-1||anim.type.indexOf('-before')!=-1||anim.type.indexOf('-after')!=-1){if(this.edge=='top'){anim.type=anim.type.replace('-in','-top').replace('-out','-bottom').replace('-before','-left').replace('-after','-right');}else if(this.edge=='bottom'){anim.type=anim.type.replace('-in','-bottom').replace('-out','-top').replace('-before','-left').replace('-after','-right');}else if(this.edge=='left'){anim.type=anim.type.replace('-in','-left').replace('-out','-right').replace('-before','-top').replace('-after','-bottom');}else if(this.edge=='right'){anim.type=anim.type.replace('-in','-right').replace('-out','-left').replace('-before','-top').replace('-after','-bottom');}}
var oldHTML='';var ccEle=$(this.contId+'.CONTENT');if(ccEle){oldHTML=ccEle.innerHTML;oldHTML=oldHTML.replace(/id="[^"]+"/g,'').replace(/a5-item="[^"]+"/g,'');}
var tProp=A5.u.css.properties.transform;var tPropDOM=A5.u.css.properties.transformDOM;var taProp=tProp.replace('transform','transition');if(anim.type.indexOf('slide-')==0){var vals=['0px','100%','0px','-100%'];if(anim.type=='slide-left')vals=['100%','0px','-100%','0px'];else if(anim.type=='slide-right')vals=['-100%','0px','100%','0px'];else if(anim.type=='slide-bottom')vals=['0px','-100%','0px','100%'];var taVal=taProp+': '+tProp+' '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id="'+this.contId+'.CONTENTOLD" style="position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'">'+oldHTML+'</div><div '+cn+'id="'+this.contId+'.CONTENT" style="'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+'">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[2],vals[3])}];}else if(anim.type.indexOf('swap-')==0){var vals=['0px','-100%'];if(anim.type=='swap-left')vals=['-100%','0px'];else if(anim.type=='swap-right')vals=['100%','0px'];else if(anim.type=='swap-bottom')vals=['0px','100%'];var hDur=(anim.duration/2);var taVal=taProp+': '+tProp+' '+hDur+'ms '+anim.tween+';';html='<div '+cn+'id="'+this.contId+'.CONTENTOLD" style="position: absolute; width: 100%;'+hCSS+' '+tProp+': '+A5.u.css.transform2D('0px','0px')+'; '+taVal+'">'+oldHTML+'</div><div '+cn+'id="'+this.contId+'.CONTENT" style="'+hCSS+''+tProp+': '+A5.u.css.transform2D(vals[0],vals[1])+'; '+taVal+' transition-delay: '+hDur+'ms;">'+html+'</div>';animDo=[{p:tPropDOM,v:A5.u.css.transform2D('0px','0px')},{p:tPropDOM,v:A5.u.css.transform2D(vals[0],vals[1])}];}else if(anim.type=='fade'){var taVal=taProp+': opacity '+anim.duration+'ms '+anim.tween+';';html='<div '+cn+'id="'+this.contId+'.CONTENTOLD" style="position: absolute; width: 100%;'+hCSS+' opacity: 1; '+taVal+'">'+oldHTML+'</div><div '+cn+'id="'+this.contId+'.CONTENT" style="'+hCSS+'opacity: 0; '+taVal+'">'+html+'</div>';animDo=[{p:'opacity',v:'1'},{p:'opacity',v:'0'}];}else html='<div id="'+this.contId+'.CONTENT" style="'+hCSS+'">'+html+'</div>';}else html='<div '+cn+'id="'+this.contId+'.CONTENT" style="'+hCSS+'">'+html+'</div>';if(hCSS=='')cEle.children[0].style.height='';else cEle.children[0].style.height='100%';cEle.children[0].innerHTML=html;this._m.anim=false;if(animDo){var lcEle=$(this.contId+'.CONTENT');var lcoEle=$(this.contId+'.CONTENTOLD');lcEle.offsetWidth;lcEle.style[animDo[0].p]=animDo[0].v;lcoEle.style[animDo[1].p]=animDo[1].v;var ci=this;setTimeout(function(){var ele=$(ci.contId+'.CONTENTOLD');pEle=ele.parentNode;pEle.removeChild(ele);ci._refreshAnimComplete();delete ci;delete ele;delete pEle;},anim.duration);this._m.anim=true;}
if(this.onDraw.constructor==Function)this.onDraw.call(this,'main',cEle);if(this._d.shown){if(this._d.current.s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var layoutEdge=this._d.current.layoutEdge;var cn='class="'+this[layoutEdge+'ClassName']+'" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style="'+hCSS+'">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}}},action:function(action){if(this.actions[action]){var data=typeof arguments[1]!='undefined'?arguments[1]:false;this.actions[action].call(this,data);}else console.log('ERROR - control bar action "'+action+'" not found');},focus:function(name){var iObj=this.items[name];if(iObj){var id=this.contId+'.'+name;var ele=$(id);if(iObj.type=='edit'){if(ele){var part='disclosure';while(ele!=document.body){if(ele.id==this.contId){part='main';break;}
ele=ele.parentNode;}
if(this.state.edit.shown){var tEle=$(this._e.current.id);tEle.innerHTML=this._e.ele.value;tEle.style.visibility='';}
this._e.current={item:iObj,id:id,p:part};if(part=='main')var eEle=this._e.ele;else var eEle=this._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(this.data,iObj.bind.value);eEle.value=ev;this._editPos();eEle.focus();eEle.select();this.state.edit.shown=true;this.state.edit.item=name;this.state.edit.part=part;this.state.edit.path=iObj.bind.value;}}else ele.focus();}},showDisclosure:function(s){if(this._d.shown){this._d.next=s;this.hideDisclosure();}else{var ele=typeof arguments[1]!='undefined'?arguments[1]:false;ele=$(ele);$u.o.assign(s,{name:'',type:'extend',size:false,margin:{top:0,left:0,right:0,bottom:0},animation:true,autoHide:true,className:'',coverClassName:this.disclosure.coverClassName},true);if(typeof s.margin.top!='number')s.margin.top=A5.u.convertUnits(s.margin.top.toString(),'px');if(typeof s.margin.left!='number')s.margin.left=A5.u.convertUnits(s.margin.left.toString(),'px');if(typeof s.margin.right!='number')s.margin.right=A5.u.convertUnits(s.margin.right.toString(),'px');if(typeof s.margin.bottom!='number')s.margin.bottom=A5.u.convertUnits(s.margin.bottom.toString(),'px');var type=s.type;if(type.indexOf('element')!=-1&&!ele){type=type.split('-').shift();if(type=='expand')type='expand-after';}
this._cdl=false;var dd=false;if(s.name.substr(0,7)=='layout:'){var dEle=$(this.contId+'.DISCLOSURE.A5CONTROLBARDYNAMIC');this._cdl=this.layouts[s.name.substr(7)];if(!this._cdl)return false;if(s.className=='')s.className=this.disclosure.defaults.className;}else{dd=this.disclosures[s.name];if(!dd)return false;var dEle=$(this.contId+'.DISCLOSURE.'+s.name);if(s.className=='')s.className=dd.className;}
dEle.className=s.className;dEle.style.top='';dEle.style.bottom='';dEle.style.left='';dEle.style.right='';dEle.style.width='';dEle.style.height='';if(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s);else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,ele);var layoutEdge=this.edge;if(s.name.substr(0,7)=='layout:'){if(type=='outside-before'||type=='outside-after'||type.split('-').shift()=='screen')layoutEdge=rect.edge;this._compileTemplate(this._cdl,layoutEdge);if(this.onBeforeDraw.constructor==Function)this.onBeforeDraw.call(this,'disclosure');var cn='class="'+this[layoutEdge+'ClassName']+'" ';var hCSS='';if(layoutEdge=='left'||layoutEdge=='right')hCSS='height: 100%;';if(hCSS=='')dEle.children[0].style.height='';else dEle.children[0].style.height='100%';dEle.children[0].innerHTML='<div '+cn+' style="'+hCSS+'">'+A5.u.template.expand(this.data,{template:this._cdl._t[layoutEdge]},{state:this.state},this)+'</div>';if(this.onDraw.constructor==Function)this.onDraw.call(this,'disclosure',dEle);}
var dcEle=this._d.ele.children[0];if(typeof rect.className!='undefined')dcEle.className=rect.className;else dcEle.className='';dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var setMargin=false;dEle.style[rect.edge]='0px';dEle.style.marginLeft='';dEle.style.marginTop='';if(rect.fill=='both'||s.size=='fill'){dEle.style.top='0px';dEle.style.bottom='0px';dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='width'){dEle.style.left='0px';dEle.style.right='0px';}else if(rect.fill=='height'){dEle.style.top='0px';dEle.style.bottom='0px';}else{if(!rect.align)rect.align='middle';if(rect.align=='before'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='0px';else dEle.style.top='0px';}else if(rect.align=='after'){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.right='0px';else dEle.style.bottom='0px';}else{if(rect.edge=='top'||rect.edge=='bottom')dEle.style.left='50%';else dEle.style.top='50%';setMargin=true;}}
var startTrans='';if(rect.edge=='top'){startTrans=A5.u.css.transform2D('0px','-100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='bottom'){startTrans=A5.u.css.transform2D('0px','100%');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.height=s.size;}}else if(rect.edge=='left'){startTrans=A5.u.css.transform2D('-100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}else if(rect.edge=='right'){startTrans=A5.u.css.transform2D('100%','0px');if(s.size&&s.size!='fill'&&type!='cover'){dEle.style.width=s.size;}}
dEle.style.display='';if(type.split('-').shift()=='expand'&&!s.size)this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName+' A5ControlBarCollapse';else this._d.ele.className=this.disclosuresClassName+' '+s.coverClassName;var dur=this.disclosure.animation.duration;var tween=this.disclosure.animation.tween;var completeDelay=false;if(s.animation){if(typeof s.animation=='object'){if(s.animation.duration)dur=s.animation.duration;if(s.animation.tween)tween=s.animation.tween;}
var cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=startTrans;dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');completeDelay=true;}else{var cssDOMProp=A5.u.css.properties.transformDOM;var cssAnimProp=A5.u.css.properties.transitionDOM;dEle.style[cssDOMProp]=A5.u.css.transform2D('0px','0px');dEle.style[cssAnimProp]='';this._d.ele.style.display='';dEle.offsetHeight;dEle.style[cssAnimProp]=A5.u.css.properties.transform+' '+dur+'ms '+tween;}
if(setMargin){if(rect.edge=='top'||rect.edge=='bottom')dEle.style.marginLeft='-'+(dEle.offsetWidth/2)+'px';else dEle.style.marginTop='-'+(dEle.offsetHeight/2)+'px';}
var eleId=false
if(ele)eleId=ele.id;this._d.current={s:s,eleId:eleId,dEle:dEle,trans:startTrans,dur:dur,layoutEdge:layoutEdge,internalShow:false};this._d.next=false;this._d.shown=true;var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');dbcEle.style.display='none';if(this._d.internalShow&&ele){this._d.current.internalShow=true;var eBRect=ele.getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}
dbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';dbcEle.style.display='block';}
this.state.disclosure.shown=true;this.state.disclosure.name=s.name;this.state.disclosure.type=type;this.state.disclosure.edge=layoutEdge;if(dd){$e.execute(dEle,'a5resize');if(dd.onShow.constructor==Function)dd.onShow.call(this,dEle);if(dd.onSize.constructor==Function)dd.onSize.call(this,dEle);if(completeDelay){var ci=this;setTimeout(function(){ci._showDisclosureComplete();delete ci;},dur+10);}else this._showDisclosureComplete();}}},hideDisclosure:function(){if(this._d.shown){var anim=typeof arguments[0]!='undefined'?arguments[0]:true;var dur=0;if(anim){this._d.current.dEle.style[A5.u.css.properties.transformDOM]=this._d.current.trans;dur=this._d.current.dur;}
clearTimeout(this._hdcTO);var ci=this;this._hdcTO=setTimeout(function(){ci._hideDisclosureComplete();delete ci;},dur);}},resizeDisclosure:function(){if(this._d.shown){var s=this._d.current.s;var type=s.type
if(type=='explicit'){if(s.rectangle.constructor==Function)var rect=s.rectangle.call(this,s);else var rect=s.rectangle;}else var rect=this._getDisclosureRect(type,$(this._d.current.eleId));var dcEle=this._d.ele.children[0];dcEle.style.top=(rect.top+s.margin.top)+'px';dcEle.style.bottom=(rect.bottom+s.margin.bottom)+'px';dcEle.style.left=(rect.left+s.margin.left)+'px';dcEle.style.right=(rect.right+s.margin.right)+'px';var dd=this.disclosures[s.name];if(dd){$e.execute(this._d.current.dEle,'a5resize');if(dd.onSize.constructor==Function)dd.onSize.call(this,this._d.current.dEle);}
if(this._d.current.internalShow){var dbcEle=$(this.contId+'.DISCLOSURE.CLOSE');var eBRect=$(this._d.current.eleId).getBoundingClientRect();var tOff=0;var lOff=0;if(this.disclosure.container!=''){var cEle=$(this.disclosure.container);if(cEle){var ceBRect=cEle.getBoundingClientRect();tOff=ceBRect.top;lOff=ceBRect.left;}}
dbcEle.style.top=(eBRect.top-tOff)+'px';dbcEle.style.left=(eBRect.left-lOff)+'px';dbcEle.style.width=eBRect.width+'px';dbcEle.style.height=eBRect.height+'px';}}},_getDisclosureRect:function(type,ele){var rect={top:0,left:0,right:0,bottom:0,edge:this.edge,fill:'',className:''};var cBRect=$(this.contId).getBoundingClientRect();var eBRect=false;if(ele)eBRect=ele.getBoundingClientRect();if(this.disclosure.container!=''){var tBRect=$(this.disclosure.container).getBoundingClientRect();var leftOff=tBRect.left;var topOff=tBRect.top;var docWidth=tBRect.width;var docHeight=tBRect.height;}else{var leftOff=0;var topOff=0;var docWidth=document.documentElement.clientWidth;var docHeight=document.documentElement.clientHeight;}
if(type.split('-').shift()=='expand'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;if(this.edge=='top'||this.edge=='bottom'){rect.fill='height';if(type=='expand-before'){rect.edge='left';}else if(type=='expand-after'){rect.edge='right';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.edge='right';if(type=='expand-element')rect.right=(docWidth-eBRect.left+leftOff);else rect.right=(docWidth-eBRect.right+leftOff);}else{rect.edge='left';if(type=='expand-element')rect.left=eBRect.right-leftOff;else rect.left=eBRect.left-leftOff;}}}else{rect.fill='width';if(type=='expand-before'){rect.edge='top';}else if(type=='expand-after'){rect.edge='bottom';}else if(type=='expand-element'||type=='expand-element-cover'){if(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.edge='bottom';if(type=='expand-element')rect.bottom=(docHeight-eBRect.top+topOff);else rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.edge='top';if(type=='expand-element')rect.top=eBRect.bottom-topOff;else rect.top=eBRect.top-topOff;}}}
rect.className=this.disclosure.expand[rect.edge+'ClassName'];}else if(type.split('-').shift()=='flyout'){if(this.edge=='top'||this.edge=='bottom'){if(this.edge=='top'){if(type=='flyout-element')rect.top=eBRect.bottom-topOff;else if(type=='flyout-element-cover')rect.top=eBRect.top-topOff;else rect.top=cBRect.bottom-topOff;}else{if(type=='flyout-element')rect.bottom=docHeight-eBRect.top+topOff;else if(type=='flyout-element-cover')rect.bottom=docHeight-eBRect.bottom+topOff;else rect.bottom=docHeight-cBRect.top+topOff;}
if(eBRect.left>(cBRect.left+(cBRect.width/2))){rect.align='after';rect.right=(docWidth-eBRect.right+leftOff);}else{rect.align='before';rect.left=eBRect.left-leftOff;}}else{if(this.edge=='left'){if(type=='flyout-element')rect.left=eBRect.right-leftOff;else if(type=='flyout-element-cover')rect.left=eBRect.left-leftOff;else rect.left=cBRect.right-leftOff;}else{if(type=='flyout-element')rect.right=docWidth-eBRect.left+leftOff;else if(type=='flyout-element-cover')rect.right=docWidth-eBRect.right+leftOff;else rect.right=docWidth-cBRect.left+leftOff;}
if(eBRect.top>(cBRect.top+(cBRect.height/2))){rect.align='after';rect.bottom=(docHeight-eBRect.bottom+topOff);}else{rect.align='before';rect.top=eBRect.top-topOff;}}}else if(type=='cover'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='both';rect.className=this.disclosure.cover[rect.edge+'ClassName'];}else if(type.split('-').shift()=='screen'){rect.edge=type.split('-').pop();if(rect.edge=='left'||rect.edge=='right')rect.fill='height';else rect.fill='width';}else{if(this.edge=='top'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.top=eBRect.bottom-topOff;}else if(type=='extend-element-cover'){rect.top=eBRect.top-topOff;}else{rect.top=cBRect.bottom-topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='bottom'){rect.left=cBRect.left-leftOff;rect.right=docWidth-cBRect.right+leftOff;rect.fill='width';if(type=='extend-element'){rect.bottom=docHeight-eBRect.top+topOff;}else if(type=='extend-element-cover'){rect.bottom=docHeight-eBRect.bottom+topOff;}else{rect.bottom=docHeight-cBRect.top+topOff;if(type=='outside-before'){rect.fill='height';rect.edge='left';}else if(type=='outside-after'){rect.fill='height';rect.edge='right';}}}else if(this.edge=='left'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.left=eBRect.right-leftOff;}else if(type=='extend-element-cover'){rect.left=eBRect.left-leftOff;}else{rect.left=cBRect.right-leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}else if(this.edge=='right'){rect.top=cBRect.top-topOff;rect.bottom=docHeight-cBRect.bottom+topOff;rect.fill='height';if(type=='extend-element'){rect.right=docWidth-eBRect.left+leftOff;}else if(type=='extend-element-cover'){rect.right=docWidth-eBRect.right+leftOff;}else{rect.right=docWidth-cBRect.left+leftOff;if(type=='outside-before'){rect.fill='width';rect.edge='top';}else if(type=='outside-after'){rect.fill='width';rect.edge='bottom';}}}
rect.className=this.disclosure.extend[rect.edge+'ClassName'];}
return rect;},_showDisclosureComplete:function(){if(this._d.shown){var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onShowComplete.constructor==Function)dd.onShowComplete.call(this,this._d.current.dEle);}}},_hideDisclosureComplete:function(){if(this._d.shown){this._d.shown=false;this.state.disclosure.shown=false;this._d.current.dEle.style.display='none';var dd=this.disclosures[this._d.current.s.name];if(dd){if(dd.onHide.constructor==Function)dd.onHide.call(this,this._d.current.dEle);}
if(this._d.next){this.showDisclosure(this._d.next,this._d.current.eleId);}else{this._d.ele.style.display='none';this._d.current=false;}
this.refresh();}},_refreshAnimComplete:function(){this._m.anim=false;if(this._m.next.has){this._m.next.has=false;this.refresh.apply(this,this._m.next.args);delete this._m.next.args;}},_relayout:function(){if(this._d.shown){var ci=this
clearTimeout(this._rdTO);this._rdTO=setTimeout(function(){ci.resizeDisclosure();delete ci},50);}
if(this._e.shown){var ci=this
clearTimeout(this._reTO);this._reTO=setTimeout(function(){ci._editPos();delete ci},50);}},_disClick:function(e,ci){if(ci._d.current){var cEle=$(ci.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return true;while(ele!=cEle&&ele!=document.body){if(ele.hasAttribute('a5-action'))ci.action(ele.getAttribute('a5-action'),{element:ele,event:e});else if(ele==ci._d.current.dEle)return true;ele=ele.parentNode;}
if(ci._d.current){if(!ci._d.current.s.autoHide)return true;ci.hideDisclosure();}}},_disCloseClick:function(e,ci){ci.hideDisclosure();},_editKeyup:function(e,ci){if(ci._e.current.item.update!='done')ci.update(ci.state.edit.path,this.value);A5.controlBar.items.edit.event.call(ci,'keyup',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);var keyCode=e.charCode||e.keyCode;if(keyCode==13)this.blur();},_editBlur:function(e,ci){if(document.activeElement!=ci._e.ele&&document.activeElement!=ci._e.dEle){A5.controlBar.items.edit.event.call(ci,'done',ci.state.edit.item,this.value,ci.items[ci.state.edit.item],this,e);this.style.display='none';ci.state.edit.shown=false;ci.state.edit.item='';ci.state.edit.part='';ci.update(ci.state.edit.path,this.value);}},_editPos:function(){var tEle=$(this._e.current.id);if(tEle){if(this._e.current.p=='main')var ele=this._e.ele;else var ele=this._e.dEle;var eBRect=tEle.getBoundingClientRect();var peBRect=ele.parentNode.getBoundingClientRect();ele.style.top=(eBRect.top-peBRect.top)+'px';ele.style.left=(eBRect.left-peBRect.left)+'px';ele.style.width=eBRect.width+'px';ele.style.height=eBRect.height+'px';ele.style.display='';tEle.style.visibility='hidden';this._e.shown=true;}else{this._e.ele.style.display='none';this._e.dEle.style.display='none';this._e.shown=false;}},_click:function(e,ci){if(A5.u.drag._sDif>=$e.abstractEvents.click.scrollMax)return true;var id='';var r=ci._aEle(e);if(r&&ci._startItem){if(ci._startItem.i==r.i){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){id=r.ele.id;var iObj=ci.items[r.i];if(iObj){var dShown=ci._d.shown;if(iObj.disclosure){if(iObj.autoHideDisclosure!='auto')ci._d.internalShow=true;ci.showDisclosure(iObj.disclosure,r.ele);ci._d.internalShow=false;}else if(iObj.type=='edit'){if(ci.state.edit.shown){var tEle=$(ci._e.current.id);tEle.innerHTML=ci._e.ele.value;tEle.style.visibility='';}
ci._e.current={item:iObj,id:id,p:r.p};if(r.p=='main')var eEle=ci._e.ele;else var eEle=ci._e.dEle;eEle.className=iObj.settings.className;$ss(eEle,iObj.settings.style+'; position: absolute; top: 0px; left: 0px; margin: 0px; display: none; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;');var ev=A5.u.object.get(ci.data,iObj.bind.value);eEle.value=ev;ci._editPos();eEle.focus();eEle.select();ci.state.edit.shown=true;ci.state.edit.item=r.i;ci.state.edit.part=r.p;ci.state.edit.path=iObj.bind.value;}
var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'click',r.i,r.v,iObj,r.ele,e);}
if(dShown&&!ci._d.next&&ci._d.current){if(iObj.autoHideDisclosure){var hide=false;if(iObj.autoHideDisclosure=='always')hide=true;else if(iObj.autoHideDisclosure!='never'&&ci._d.current.s.autoHide)hide=true;if(hide)ci.hideDisclosure();}}}}}}
if(this._oid==id)this._isdc=true;else{this._isdc=false;this._oid=id;}
delete r;},_dblClick:function(e,ci){if(!this._isdc)return false;var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'dblclick',r.i,r.v,iObj,r.ele,e);}}}}
delete r;},_rClick:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'contextclick',r.i,r.v,iObj,r.ele,e);}}}}
delete r;},_down:function(e,ci){var r=ci._aEle(e);ci._startItem=false;if(r){ci._startItem={i:r.i,v:r.v,id:r.ele.id};if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'down',r.i,r.v,iObj,r.ele,e);}}}}
delete r;},_up:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'up',r.i,r.v,iObj,r.ele,e);}}}}
delete r;},_downHold:function(e,ci){var r=ci._aEle(e);if(r){if($ga(r.ele,'a5-disabled')!='true'&&!r.ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'downhold',r.i,r.v,iObj,r.ele,e);}}}}
delete r;},_swipe:function(e,ci){if(ci._startItem){var r=ci._startItem;var ele=$(r.id);if($ga(ele,'a5-disabled')!='true'&&!ele.disabled){var iObj=ci.items[r.i];if(iObj){var iTObj=A5.controlBar.items[iObj.type];if(iTObj){if(iTObj.event)iTObj.event.call(ci,'swipe',r.i,r.v,iObj,r.ele,e);}}}}},_aEle:function(e){var cEle=$(this.contId);var coor=$e.getCoors(e);var ele=document.elementFromPoint(coor.clientX,coor.clientY);if(!ele)return false;var result=false;var i='';while(ele!=cEle&&ele!=document.body){if(!result){i=$ga(ele,'a5-item');if(i!=null&&i!=''){var v=this._getValue(ele);result={i:i,v:v,ele:ele,p:'disclosure'};}}
ele=ele.parentNode;}
if(ele==cEle&&result)result.p='main';return result;},_getValue:function(ele){var v=$ga(ele,'a5-value');if(v==''||v==null)v=ele.id;return v;},_bindEvents:function(ele){var egName='CONTROLBAR.'+this.contId;$e.add(ele,A5.d.evnts.click,this._click,this,false,egName);$e.add(ele,A5.d.evnts.dblClick,this._dblClick,this,false,egName);$e.add(ele,'contextmenu',this._rClick,this,false,egName);$e.add(ele,A5.d.evnts.down,this._down,this,false,egName);$e.add(ele,A5.d.evnts.up,this._up,this,false,egName);$e.add(ele,'abstractdownhold',this._downHold,this,false,egName);$e.add(ele,'abstractswipe',this._swipe,this,false,egName);},_compileTemplate:function(cl,edge){if(typeof cl._t=='undefined')cl._t={};if(typeof cl._t[edge]=='undefined'){var tLines=[];var l=null;var ti=null;var cn='';var temp=[];var name='';var tHTML='';var tPH='';for(var i=0;i<cl.lines.length;i++){l=cl.lines[i];$u.o.assign(l,A5.controlBar._.lDefs,true);cn='A5ControlBarLine';if(l.type!='custom'){if(l.middle.items.length==0){if(l.before.items.length==0)cn='A5ControlBarLine A5ControlBarLineAfter';else cn='A5ControlBarLine A5ControlBarLineBefore';}}else cn='A5ControlBarLineCust';temp=['<div class="'+cn+' '+l.className+'" style="'+l.style+'">'];if(l.type=='custom'){tHTML=l.html;for(var item in this.items){tPH='['+item+']';if(tHTML.indexOf(tPH)!=-1)tHTML=tHTML.split(tPH).join(this.items[item].template);}
temp.push(tHTML);}else{if(l.before.items.length!=0){temp.push('<div class="A5ControlBarLineContentBefore">&#65279;');for(var k=0;k<l.before.items.length;k++){name=l.before.items[k];if(name=='-'){temp.push('<div class="A5ControlBarItem A5CONTROLBARSEPCLASSNAME">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class="A5ControlBarItem" style="A5CONTROLBARITEMSIZE: '+name+';"></div>');}else if(this.items[name])temp.push(this.items[name].template);}
temp.push('</div>');}
if(l.middle.items.length!=0){temp.push('<div class="A5ControlBarLineContentMiddle">&#65279;');for(var k=0;k<l.middle.items.length;k++){name=l.middle.items[k];if(name=='-'){temp.push('<div class="A5ControlBarItem A5CONTROLBARSEPCLASSNAME">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class="A5ControlBarItem" style="A5CONTROLBARITEMSIZE: '+name+';"></div>');}else if(this.items[name])temp.push(this.items[name].template);}
temp.push('</div>');}
if(l.after.items.length!=0){temp.push('<div class="A5ControlBarLineContentAfter">&#65279;');for(var k=0;k<l.after.items.length;k++){name=l.after.items[k];if(name=='-'){temp.push('<div class="A5ControlBarItem A5CONTROLBARSEPCLASSNAME">&#65279;</div>');}else if(name[0]=='<'){name=name.substring(1,name.length-1).trim();temp.push('<div class="A5ControlBarItem" style="A5CONTROLBARITEMSIZE: '+name+';"></div>');}else if(this.items[name])temp.push(this.items[name].template);}
temp.push('</div>');}}
temp.push('</div>');if(l.bind.show!=''){temp.unshift('{*if '+l.bind.show+'}')
temp.push('{*endif}');}
tLines.push(temp.join(''));}
if(edge=='left'){tLines.unshift('<div class="A5ControlBarVert">');tLines.push('</div>');}else if(edge=='bottom'){tLines.reverse();tLines.unshift('<div class="A5ControlBarHorz">');tLines.push('</div>');}else if(edge=='right'){tLines.reverse();tLines.unshift('<div class="A5ControlBarVert">');tLines.push('</div>');}else{tLines.unshift('<div class="A5ControlBarHorz">');tLines.push('</div>');}
tLines=tLines.join('');if(edge=='left'||edge=='right'){tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'height');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.verticalClassName);}else{tLines=tLines.replace(/A5CONTROLBARITEMSIZE/gi,'width');tLines=tLines.replace(/A5CONTROLBARSEPCLASSNAME/gi,this.separator.horizontalClassName);}
cl._t[edge]=A5.u.template.parse(tLines);}}});
A5._windowDefaults={title:{tools:{defaults:{'close':{action:'close',name:'close',image:'a5images/windowbuttonclose.png'}}}}}
A5.serverSideDateFormat = 'MM/dd/yyyy';
A5.u.drag.useDragScrolling = 'auto';
if(typeof DLG1_DlgObj == 'object') { 
	DLG1_DlgObj._destroy();
	try {
		delete DLG1_DlgObj;
	} catch(e) {
		DLG1_DlgObj = undefined;
	}
};
;if(typeof DLG1_PanelObj != 'undefined') {
	var ele = $(DLG1_PanelObj.getPanelId());
	if(ele) {
		if(ele.parentNode) ele.parentNode.removeChild(ele);
	}
	delete DLG1_PanelObj;
}
;window['DLG1_PanelObj'] = new A5.PanelNavigator([
{
	name: 'PANELCARD_GENERATORS_LIST',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n \n<div  class="list"   style="padding:0px; "  >\n <div id="DLG1.V.R1.GENERATORSLIST.CONTROL"  class="DLG1_GENERATORSLIST" style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div>\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('GENERATORSLIST'); if(mObj) mObj.refresh();}
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_GENERATORS_LIST'); };}
})
},
{
	name: 'PANELCARD_SEARCH',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div  id="DLG1.V.R1.CONTAINER_3"   \n   class="A5CWLayout "  style=""  >\n<div style="font: 0pt arial;clear:both;"></div>\n </div>\n<br  id="DLG1.V.R1.CONTAINER_3.BREAK"  style="clear:both; " />\n<div  id="DLG1.V.R1.CONTAINER_5"   \n   class="A5CWLayout "  style="width: 100%; "  >\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_BUSINESSNAME" for="DLG1.V.R1.SEARCH_BUSINESSNAME" title="" class="label" style="display:block;">Business Name</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_BUSINESSNAME" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_BUSINESSNAME"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_CITY" for="DLG1.V.R1.SEARCH_CITY" title="" class="label" style="display:block;">City</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_CITY" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_CITY"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_STATE" for="DLG1.V.R1.SEARCH_STATE" title="" class="label" style="display:block;">State</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.SEARCH_STATE" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.SEARCH_STATE"  \n     >\n<option value=""></option> <option value="Alabama">Alabama</option> <option value="Alaska">Alaska</option> <option value="Alberta">Alberta</option> <option value="American Samoa">American Samoa</option> <option value="Arizona">Arizona</option> <option value="Arkansas">Arkansas</option> <option value="British Columbia">British Columbia</option> <option value="California">California</option> <option value="Colorado">Colorado</option> <option value="Connecticut">Connecticut</option> <option value="Delaware">Delaware</option> <option value="District of Columbia">District of Columbia</option> <option value="Florida">Florida</option> <option value="Georgia">Georgia</option> <option value="Guam">Guam</option> <option value="Hawaii">Hawaii</option> <option value="Idaho">Idaho</option> <option value="Illinois">Illinois</option> <option value="Indiana">Indiana</option> <option value="Iowa">Iowa</option> <option value="Kansas">Kansas</option> <option value="Kentucky">Kentucky</option> <option value="Louisiana">Louisiana</option> <option value="Maine">Maine</option> <option value="Manitoba">Manitoba</option> <option value="Maryland">Maryland</option> <option value="Massachusetts">Massachusetts</option> <option value="Michigan">Michigan</option> <option value="Minnesota">Minnesota</option> <option value="Mississippi">Mississippi</option> <option value="Missouri">Missouri</option> <option value="Montana">Montana</option> <option value="Nebraska">Nebraska</option> <option value="Nevada">Nevada</option> <option value="New Brunswick">New Brunswick</option> <option value="New Hampshire">New Hampshire</option> <option value="New Jersey">New Jersey</option> <option value="New Mexico">New Mexico</option> <option value="New York">New York</option> <option value="Newfoundland and Labrador">Newfoundland and Labrador</option> <option value="North Carolina">North Carolina</option> <option value="North Dakota">North Dakota</option> <option value="Northern Mariana Islands">Northern Mariana Islands</option> <option value="Northwest Territories">Northwest Territories</option> <option value="Nova Scotia">Nova Scotia</option> <option value="Nunavut">Nunavut</option> <option value="Ohio">Ohio</option> <option value="Oklahoma">Oklahoma</option> <option value="Ontario">Ontario</option> <option value="Oregon">Oregon</option> <option value="Pennsylvania">Pennsylvania</option> <option value="Prince Edward Island">Prince Edward Island</option> <option value="Puerto Rico">Puerto Rico</option> <option value="Quebec">Quebec</option> <option value="Rhode Island">Rhode Island</option> <option value="Saskatchewan">Saskatchewan</option> <option value="South Carolina">South Carolina</option> <option value="South Dakota">South Dakota</option> <option value="Tennessee">Tennessee</option> <option value="Texas">Texas</option> <option value="Utah">Utah</option> <option value="Vermont">Vermont</option> <option value="Virgin Islands">Virgin Islands</option> <option value="Virginia">Virginia</option> <option value="Washington">Washington</option> <option value="West Virginia">West Virginia</option> <option value="Wisconsin">Wisconsin</option> <option value="Wyoming">Wyoming</option> <option value="Yukon">Yukon</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_AUTHORIZEDAGENT" for="DLG1.V.R1.SEARCH_AUTHORIZEDAGENT" title="" class="label" style="display:block;">Authorized Agent</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_AUTHORIZEDAGENT" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_AUTHORIZEDAGENT"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_STATUS" for="DLG1.V.R1.SEARCH_STATUS" title="" class="label" style="display:block;">Status</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.SEARCH_STATUS" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.SEARCH_STATUS"  \n     >\n<option value="Active">Active</option> <option value="Inactive">Inactive</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div style="font: 0pt arial;clear:both;"></div>\n </div>\n<br  id="DLG1.V.R1.CONTAINER_5.BREAK"  style="clear:both; " />\n<div style="display:none;"><span>\n<div  class="list"   style="padding:0px; "  >\n <div id="DLG1.V.R1.BUSCAT.CONTROL"  class="DLG1_BUSCAT" style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n</span>\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_4" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> <div style="display:none;"></div>',
		show: true
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('BUSCAT'); if(mObj) mObj.refresh();}try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_SEARCH'); };}
})
},
{
	name: 'PANELCARD_3',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div  id="DLG1.V.R1.CONTAINER_4"   \n   class="A5CWLayout "  style="width: 100%; "  >\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.CATEGORYID" for="DLG1.V.R1.CATEGORYID" title="" class="label" style="display:block;">Business Category</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.CATEGORYID" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.CATEGORYID"  \n     >\n<option value="0" selected="selected" >0</option> <option value="">Select Business Category</option> <option value="1">Category1</option> <option value="2">Category2</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.BUSINESSNAME" for="DLG1.V.R1.BUSINESSNAME" title="" class="label" style="display:block;">Business Name</label>\n\n <input type="text" id="DLG1.V.R1.BUSINESSNAME" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.BUSINESSNAME"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.OPMAN" for="DLG1.V.R1.OPMAN" title="" class="label" style="display:block;">Operator/Manager</label>\n\n <input type="text" id="DLG1.V.R1.OPMAN" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.OPMAN"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.USERID" for="DLG1.V.R1.USERID" title="" class="label" style="display:block;">Email</label>\n\n <input type="text" id="DLG1.V.R1.USERID" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.USERID"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.TELEPHONE" for="DLG1.V.R1.TELEPHONE" title="" class="label" style="display:block;">Phone</label>\n\n <input type="text" id="DLG1.V.R1.TELEPHONE" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.TELEPHONE"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.ADDRESS" for="DLG1.V.R1.ADDRESS" title="" class="label" style="display:block;">Address</label>\n\n <input type="text" id="DLG1.V.R1.ADDRESS" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ADDRESS"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.CITY" for="DLG1.V.R1.CITY" title="" class="label" style="display:block;">City</label>\n\n <input type="text" id="DLG1.V.R1.CITY" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CITY"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.STATE" for="DLG1.V.R1.STATE" title="" class="label" style="display:block;">State</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.STATE" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.STATE"  \n     >\n<option value=""></option> <option value="Alabama">Alabama</option> <option value="Alaska">Alaska</option> <option value="Alberta">Alberta</option> <option value="American Samoa">American Samoa</option> <option value="Arizona">Arizona</option> <option value="Arkansas">Arkansas</option> <option value="British Columbia">British Columbia</option> <option value="California">California</option> <option value="Colorado">Colorado</option> <option value="Connecticut">Connecticut</option> <option value="Delaware">Delaware</option> <option value="District of Columbia">District of Columbia</option> <option value="Florida">Florida</option> <option value="Georgia">Georgia</option> <option value="Guam">Guam</option> <option value="Hawaii">Hawaii</option> <option value="Idaho">Idaho</option> <option value="Illinois">Illinois</option> <option value="Indiana">Indiana</option> <option value="Iowa">Iowa</option> <option value="Kansas">Kansas</option> <option value="Kentucky">Kentucky</option> <option value="Louisiana">Louisiana</option> <option value="Maine">Maine</option> <option value="Manitoba">Manitoba</option> <option value="Maryland">Maryland</option> <option value="Massachusetts">Massachusetts</option> <option value="Michigan">Michigan</option> <option value="Minnesota">Minnesota</option> <option value="Mississippi">Mississippi</option> <option value="Missouri">Missouri</option> <option value="Montana">Montana</option> <option value="Nebraska">Nebraska</option> <option value="Nevada">Nevada</option> <option value="New Brunswick">New Brunswick</option> <option value="New Hampshire">New Hampshire</option> <option value="New Jersey">New Jersey</option> <option value="New Mexico">New Mexico</option> <option value="New York">New York</option> <option value="Newfoundland and Labrador">Newfoundland and Labrador</option> <option value="North Carolina">North Carolina</option> <option value="North Dakota">North Dakota</option> <option value="Northern Mariana Islands">Northern Mariana Islands</option> <option value="Northwest Territories">Northwest Territories</option> <option value="Nova Scotia">Nova Scotia</option> <option value="Nunavut">Nunavut</option> <option value="Ohio">Ohio</option> <option value="Oklahoma">Oklahoma</option> <option value="Ontario">Ontario</option> <option value="Oregon">Oregon</option> <option value="Pennsylvania">Pennsylvania</option> <option value="Prince Edward Island">Prince Edward Island</option> <option value="Puerto Rico">Puerto Rico</option> <option value="Quebec">Quebec</option> <option value="Rhode Island">Rhode Island</option> <option value="Saskatchewan">Saskatchewan</option> <option value="South Carolina">South Carolina</option> <option value="South Dakota">South Dakota</option> <option value="Tennessee">Tennessee</option> <option value="Texas">Texas</option> <option value="Utah">Utah</option> <option value="Vermont">Vermont</option> <option value="Virgin Islands">Virgin Islands</option> <option value="Virginia">Virginia</option> <option value="Washington">Washington</option> <option value="West Virginia">West Virginia</option> <option value="Wisconsin">Wisconsin</option> <option value="Wyoming">Wyoming</option> <option value="Yukon">Yukon</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.ZIP" for="DLG1.V.R1.ZIP" title="" class="label" style="display:block;">Zip</label>\n\n <input type="text" id="DLG1.V.R1.ZIP" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ZIP"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.AUTHORIZEDAGENT" for="DLG1.V.R1.AUTHORIZEDAGENT" title="" class="label" style="display:block;">Authorized Agent</label>\n\n <input type="text" id="DLG1.V.R1.AUTHORIZEDAGENT" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.AUTHORIZEDAGENT"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.AGENTSIGNATURE" for="DLG1.V.R1.AGENTSIGNATURE" title="" class="label" style="display:block;">Agent Signature</label>\n\n <div id="DLG1.V.R1.AGENTSIGNATURE.SIGNATURECAPTURECONTAINER"  style=";text-align:Left;height:300px;width: 500px">\n <div id="DLG1.V.R1.AGENTSIGNATURE.IMAGEDIV"  style="display:none;">\n \n  <div>\n   <img src="" id="DLG1.V.R1.AGENTSIGNATURE" xclass="edit" title="" style="width: 400px; height: 200px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />\n  </div>\n<div style="padding: 2px;">\n <button id="DLG1._SIGCAPTUREBUTTON.SIGN_AGENTSIGNATURE" class="button">Sign</button>\n</div>\n  \n </div>\n\n <div id="DLG1.V.R1.AGENTSIGNATURE.CANVASDIV"  style="display:; text-align:Left;">\n  \n  <div style="background-color: #e3e3e3; border-bottom: 1px solid black; width: 400px; height: 200px; ; display: inline-block">\n   <canvas id="DLG1.V.R1.AGENTSIGNATURE.CANVAS" xclass="edit" height="200px" style="width: 400px; height: 200px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />\n  </div>\n  <div style="padding:2px;">\n   <button id="DLG1._SIGCAPTUREBUTTON.CLEAR_AGENTSIGNATURE" class="button">Clear</button>\n   <button id="DLG1._SIGCAPTUREBUTTON.CANCEL_AGENTSIGNATURE" class="button">Cancel</button>\n   <button id="DLG1._SIGCAPTUREBUTTON.ACCEPT_AGENTSIGNATURE" class="button">Accept</button>\n  </div>\n\n </div>\n</div>\n<input type="hidden" id="DLG1.V.R1.AGENTSIGNATURE_HIDDENA5FN" name="V.R1.AGENTSIGNATURE_HIDDENA5FN" >\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.AGENTTITLE" for="DLG1.V.R1.AGENTTITLE" title="" class="label" style="display:block;">Authorized Agent Title</label>\n\n <input type="text" id="DLG1.V.R1.AGENTTITLE" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.AGENTTITLE"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.GENDATE" for="DLG1.V.R1.GENDATE" title="" class="label" style="display:block;">Date</label>\n\n <table id="DLG1.V.R1.GENDATE.CONTAINER" cellspacing="0" cellpadding="0" class="editBG" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display: inline-table; *display: inline; border: 1px solid; width: 100%; ">\n<tr>\n<td style="width:100%">\n\n<input   id="DLG1.V.R1.GENDATE" name="V.R1.GENDATE"  value=""    autocomplete="off"   size="200" class="editBGEdit" style="border: 1px solid; width: 100%; ; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" />\n\n</td>\n  <td class="" >&nbsp;</td>\n  <td id="DLG1.V.R1.GENDATE.BUTTON" class="editBGButton" style="width: 0%;"><svg  class="icon"><use x="0" y="0" width="100%" height="100%" xlink:href="#alpha-icon-chevronDown" /></svg></td>\n </tr>\n</table>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.GSTATUS" for="DLG1.V.R1.GSTATUS" title="" class="label" style="display:block;">Status</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.GSTATUS" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.GSTATUS"  \n     >\n<option value=""></option> <option value="Active">Active</option> <option value="Inactive">Inactive</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div style="font: 0pt arial;clear:both;"></div>\n </div>\n<br  id="DLG1.V.R1.CONTAINER_4.BREAK"  style="clear:both; " />\n<div class="A5CWLayout" style="width: "  id="DLG1.V.R1.GENERATORSLIST_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\n</div><br  style="clear:both; " />\n<div style="display:none;"><span><input type="text" id="DLG1.V.R1.COMPANYID" title=""     class="edit" style=""    name="V.R1.COMPANYID"    value=""    />\n</span>\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_5" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> <div style="display:none;"></div>',
		show: true
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_5'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_3'); };}
})
},
{
	name: 'PANELCARD_7',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n \n<div  class="list"   style="padding:0px; "  >\n <div id="DLG1.V.R1.GENADMINLIST.CONTROL"  class="DLG1_GENADMINLIST" style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div>\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'top',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_7" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> <div style="display:none;"></div>',
		show: true
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('GENADMINLIST'); if(mObj) mObj.refresh();}try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_7'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_7'); };}
})
},
{
	name: 'PANELCARD_8',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div  id="DLG1.V.R1.CONTAINER_6"   \n   class="A5CWLayout "  style="width: 100%; "  >\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.FNAME" for="DLG1.V.R1.FNAME" title="" class="label" style="display:block;">First Name</label>\n\n <input type="text" id="DLG1.V.R1.FNAME" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.FNAME"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.LNAME" for="DLG1.V.R1.LNAME" title="" class="label" style="display:block;">Last Name </label>\n\n <input type="text" id="DLG1.V.R1.LNAME" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.LNAME"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.CITY1" for="DLG1.V.R1.CITY1" title="" class="label" style="display:block;">City</label>\n\n <input type="text" id="DLG1.V.R1.CITY1" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CITY1"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.STATE1" for="DLG1.V.R1.STATE1" title="" class="label" style="display:block;">State</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.STATE1" \n  title=""\n  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.STATE1"  \n     >\n<option value=""></option> <option value="Alabama">Alabama</option> <option value="Alaska">Alaska</option> <option value="Alberta">Alberta</option> <option value="American Samoa">American Samoa</option> <option value="Arizona">Arizona</option> <option value="Arkansas">Arkansas</option> <option value="British Columbia">British Columbia</option> <option value="California">California</option> <option value="Colorado">Colorado</option> <option value="Connecticut">Connecticut</option> <option value="Delaware">Delaware</option> <option value="District of Columbia">District of Columbia</option> <option value="Florida">Florida</option> <option value="Georgia">Georgia</option> <option value="Guam">Guam</option> <option value="Hawaii">Hawaii</option> <option value="Idaho">Idaho</option> <option value="Illinois">Illinois</option> <option value="Indiana">Indiana</option> <option value="Iowa">Iowa</option> <option value="Kansas">Kansas</option> <option value="Kentucky">Kentucky</option> <option value="Louisiana">Louisiana</option> <option value="Maine">Maine</option> <option value="Manitoba">Manitoba</option> <option value="Maryland">Maryland</option> <option value="Massachusetts">Massachusetts</option> <option value="Michigan">Michigan</option> <option value="Minnesota">Minnesota</option> <option value="Mississippi">Mississippi</option> <option value="Missouri">Missouri</option> <option value="Montana">Montana</option> <option value="Nebraska">Nebraska</option> <option value="Nevada">Nevada</option> <option value="New Brunswick">New Brunswick</option> <option value="New Hampshire">New Hampshire</option> <option value="New Jersey">New Jersey</option> <option value="New Mexico">New Mexico</option> <option value="New York">New York</option> <option value="Newfoundland and Labrador">Newfoundland and Labrador</option> <option value="North Carolina">North Carolina</option> <option value="North Dakota">North Dakota</option> <option value="Northern Mariana Islands">Northern Mariana Islands</option> <option value="Northwest Territories">Northwest Territories</option> <option value="Nova Scotia">Nova Scotia</option> <option value="Nunavut">Nunavut</option> <option value="Ohio">Ohio</option> <option value="Oklahoma">Oklahoma</option> <option value="Ontario">Ontario</option> <option value="Oregon">Oregon</option> <option value="Pennsylvania">Pennsylvania</option> <option value="Prince Edward Island">Prince Edward Island</option> <option value="Puerto Rico">Puerto Rico</option> <option value="Quebec">Quebec</option> <option value="Rhode Island">Rhode Island</option> <option value="Saskatchewan">Saskatchewan</option> <option value="South Carolina">South Carolina</option> <option value="South Dakota">South Dakota</option> <option value="Tennessee">Tennessee</option> <option value="Texas">Texas</option> <option value="Utah">Utah</option> <option value="Vermont">Vermont</option> <option value="Virgin Islands">Virgin Islands</option> <option value="Virginia">Virginia</option> <option value="Washington">Washington</option> <option value="West Virginia">West Virginia</option> <option value="Wisconsin">Wisconsin</option> <option value="Wyoming">Wyoming</option> <option value="Yukon">Yukon</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.ZIP1" for="DLG1.V.R1.ZIP1" title="" class="label" style="display:block;">Zip</label>\n\n <input type="text" id="DLG1.V.R1.ZIP1" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ZIP1"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.REGSTATUS" for="DLG1.V.R1.REGSTATUS" title="" class="label" style="display:block;">Status</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.REGSTATUS" \n  title=""\n  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.REGSTATUS"  \n     >\n<option value=""></option> <option value="ACTIVE">ACTIVE</option> <option value="PENDING">PENDING</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div style="font: 0pt arial;clear:both;"></div>\n </div>\n<br  id="DLG1.V.R1.CONTAINER_6.BREAK"  style="clear:both; " />\n<div style="display:none;"><span><input type="text" id="DLG1.V.R1.BUSIBESSNAME2" title=""     class="edit" style=""    name="V.R1.BUSIBESSNAME2"    value=""    />\n</span>\n</div><div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'top',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_8'); };}
})
},
{
	name: 'PANELCARD_9',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div  id="DLG1.V.R1.CONTAINER_7"   \n   class="A5CWLayout "  style="width: 100%; "  >\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_FNAME1" for="DLG1.V.R1.SEARCH_FNAME1" title="" class="label" style="display:block;">First Name</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_FNAME1" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_FNAME1"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_LNAME1" for="DLG1.V.R1.SEARCH_LNAME1" title="" class="label" style="display:block;">Last Name</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_LNAME1" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_LNAME1"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_CITY2" for="DLG1.V.R1.SEARCH_CITY2" title="" class="label" style="display:block;">City</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_CITY2" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_CITY2"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_STATE2" for="DLG1.V.R1.SEARCH_STATE2" title="" class="label" style="display:block;">State</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.SEARCH_STATE2" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.SEARCH_STATE2"  \n     >\n<option value=""></option> <option value="Alabama">Alabama</option> <option value="Alaska">Alaska</option> <option value="Alberta">Alberta</option> <option value="American Samoa">American Samoa</option> <option value="Arizona">Arizona</option> <option value="Arkansas">Arkansas</option> <option value="British Columbia">British Columbia</option> <option value="California">California</option> <option value="Colorado">Colorado</option> <option value="Connecticut">Connecticut</option> <option value="Delaware">Delaware</option> <option value="District of Columbia">District of Columbia</option> <option value="Florida">Florida</option> <option value="Georgia">Georgia</option> <option value="Guam">Guam</option> <option value="Hawaii">Hawaii</option> <option value="Idaho">Idaho</option> <option value="Illinois">Illinois</option> <option value="Indiana">Indiana</option> <option value="Iowa">Iowa</option> <option value="Kansas">Kansas</option> <option value="Kentucky">Kentucky</option> <option value="Louisiana">Louisiana</option> <option value="Maine">Maine</option> <option value="Manitoba">Manitoba</option> <option value="Maryland">Maryland</option> <option value="Massachusetts">Massachusetts</option> <option value="Michigan">Michigan</option> <option value="Minnesota">Minnesota</option> <option value="Mississippi">Mississippi</option> <option value="Missouri">Missouri</option> <option value="Montana">Montana</option> <option value="Nebraska">Nebraska</option> <option value="Nevada">Nevada</option> <option value="New Brunswick">New Brunswick</option> <option value="New Hampshire">New Hampshire</option> <option value="New Jersey">New Jersey</option> <option value="New Mexico">New Mexico</option> <option value="New York">New York</option> <option value="Newfoundland and Labrador">Newfoundland and Labrador</option> <option value="North Carolina">North Carolina</option> <option value="North Dakota">North Dakota</option> <option value="Northern Mariana Islands">Northern Mariana Islands</option> <option value="Northwest Territories">Northwest Territories</option> <option value="Nova Scotia">Nova Scotia</option> <option value="Nunavut">Nunavut</option> <option value="Ohio">Ohio</option> <option value="Oklahoma">Oklahoma</option> <option value="Ontario">Ontario</option> <option value="Oregon">Oregon</option> <option value="Pennsylvania">Pennsylvania</option> <option value="Prince Edward Island">Prince Edward Island</option> <option value="Puerto Rico">Puerto Rico</option> <option value="Quebec">Quebec</option> <option value="Rhode Island">Rhode Island</option> <option value="Saskatchewan">Saskatchewan</option> <option value="South Carolina">South Carolina</option> <option value="South Dakota">South Dakota</option> <option value="Tennessee">Tennessee</option> <option value="Texas">Texas</option> <option value="Utah">Utah</option> <option value="Vermont">Vermont</option> <option value="Virgin Islands">Virgin Islands</option> <option value="Virginia">Virginia</option> <option value="Washington">Washington</option> <option value="West Virginia">West Virginia</option> <option value="Wisconsin">Wisconsin</option> <option value="Wyoming">Wyoming</option> <option value="Yukon">Yukon</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_ZIP2" for="DLG1.V.R1.SEARCH_ZIP2" title="" class="label" style="display:block;">Zip</label>\n\n <input type="text" id="DLG1.V.R1.SEARCH_ZIP2" title=""     class="edit" style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SEARCH_ZIP2"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 100%" >\n <label id="DLG1.LBL.R1.SEARCH_REGSTATUS1" for="DLG1.V.R1.SEARCH_REGSTATUS1" title="" class="label" style="display:block;">Status</label>\n\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.SEARCH_REGSTATUS1" \n  title=""\n  style="border: 1px solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.SEARCH_REGSTATUS1"  \n     >\n<option value=""></option> <option value="ACTIVE">ACTIVE</option> <option value="PENDING">PENDING</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div style="font: 0pt arial;clear:both;"></div>\n </div>\n<br  id="DLG1.V.R1.CONTAINER_7.BREAK"  style="clear:both; " />\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'top',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_6" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> <div style="display:none;"></div>',
		show: true
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_6'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_9'); };}
})
},
{
	name: 'PANELCARD_SAVE_EXIT',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.BUTTON_DVSYNCHRONIZE_GENERATORSLIST"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.BUTTON_26"    ></button>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout"     style="width: ; "  >\n <div>\n <fieldset id="DLG1.V.R1.FRAME_2" class="" style="-moz-border-radius: 8px;display:inline; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;" >\n <legend class="" style=""  ><strong>Navigation to Website</strong></legend>\n<div class="A5CWLayout" style="width: " >\n <a id="DLG1.V.R1.HYPERLINK_1" title="" href="index.a5w"  class="link" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Exit to website</a>\n</div><br  style="clear:both; " />\n\n<div class="A5CWLayout" style="width: " >\n <a id="DLG1.V.R1.HYPERLINK_2" title="" href="#"  class="link" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onclick="tbiObj.closeOpenPanes();;$e.stopEvent(event);"  >Close Tabs</a>\n</div><br  style="clear:both; " />\n\n\n<div class="A5CWLayout" style="width: " >\n <a id="DLG1.V.R1.HYPERLINK_3" title="" href="logout.a5w"  class="link" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   >Logout</a>\n</div><br  style="clear:both; " />\n</fieldset>\n</div>\n</div>\n<br  style="clear:both; " />\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_SAVE_EXIT'); };}
})
},
{
	name: 'PANELCARD_FORMVIEW',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: "  id="DLG1.V.R1.FORMVIEW_1" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\n</div><br  style="clear:both; " />\n\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'top',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_FORMVIEW'); };}
})
},
{
	name: 'PANELCARD_EDITORS',
	src: new A5.PanelCard({
	theme: 'Alpha',
	body: {
		content: {
			type: 'html',
			src: '<div id="DLG1.EDITORSET_4.EDITOR_3" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_3_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_3.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <input type="text" id="DLG1.V.R1.EDITOR_3_ADDRESS" title=""     class="edit" style="border-style: solid; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   name="V.R1.EDITOR_3_ADDRESS"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <input type="text" id="DLG1.V.R1.EDITOR_3_CITY" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   name="V.R1.EDITOR_3_CITY"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.EDITOR_3_STATE" \n  title=""\n  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.EDITOR_3_STATE"  \n   onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   >\n<option value="">Select State</option> <option value="Alabama">Alabama</option> <option value="Alaska">Alaska</option> <option value="Alberta">Alberta</option> <option value="American Samoa">American Samoa</option> <option value="Arizona">Arizona</option> <option value="Arkansas">Arkansas</option> <option value="British Columbia">British Columbia</option> <option value="California">California</option> <option value="Colorado">Colorado</option> <option value="Connecticut">Connecticut</option> <option value="Delaware">Delaware</option> <option value="District of Columbia">District of Columbia</option> <option value="Florida">Florida</option> <option value="Georgia">Georgia</option> <option value="Guam">Guam</option> <option value="Hawaii">Hawaii</option> <option value="Idaho">Idaho</option> <option value="Illinois">Illinois</option> <option value="Indiana">Indiana</option> <option value="Iowa">Iowa</option> <option value="Kansas">Kansas</option> <option value="Kentucky">Kentucky</option> <option value="Louisiana">Louisiana</option> <option value="Maine">Maine</option> <option value="Manitoba">Manitoba</option> <option value="Maryland">Maryland</option> <option value="Massachusetts">Massachusetts</option> <option value="Michigan">Michigan</option> <option value="Minnesota">Minnesota</option> <option value="Mississippi">Mississippi</option> <option value="Missouri">Missouri</option> <option value="Montana">Montana</option> <option value="Nebraska">Nebraska</option> <option value="Nevada">Nevada</option> <option value="New Brunswick">New Brunswick</option> <option value="New Hampshire">New Hampshire</option> <option value="New Jersey">New Jersey</option> <option value="New Mexico">New Mexico</option> <option value="New York">New York</option> <option value="Newfoundland and Labrador">Newfoundland and Labrador</option> <option value="North Carolina">North Carolina</option> <option value="North Dakota">North Dakota</option> <option value="Northern Mariana Islands">Northern Mariana Islands</option> <option value="Northwest Territories">Northwest Territories</option> <option value="Nova Scotia">Nova Scotia</option> <option value="Nunavut">Nunavut</option> <option value="Ohio">Ohio</option> <option value="Oklahoma">Oklahoma</option> <option value="Ontario">Ontario</option> <option value="Oregon">Oregon</option> <option value="Pennsylvania">Pennsylvania</option> <option value="Prince Edward Island">Prince Edward Island</option> <option value="Puerto Rico">Puerto Rico</option> <option value="Quebec">Quebec</option> <option value="Rhode Island">Rhode Island</option> <option value="Saskatchewan">Saskatchewan</option> <option value="South Carolina">South Carolina</option> <option value="South Dakota">South Dakota</option> <option value="Tennessee">Tennessee</option> <option value="Texas">Texas</option> <option value="Utah">Utah</option> <option value="Vermont">Vermont</option> <option value="Virgin Islands">Virgin Islands</option> <option value="Virginia">Virginia</option> <option value="Washington">Washington</option> <option value="West Virginia">West Virginia</option> <option value="Wisconsin">Wisconsin</option> <option value="Wyoming">Wyoming</option> <option value="Yukon">Yukon</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <input type="text" id="DLG1.V.R1.EDITOR_3_ZIP" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   name="V.R1.EDITOR_3_ZIP"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_3_STATICTEXT3" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_3.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_2_SAVEBUTTON1"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_2_CANCELBUTTON1"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_4" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_4_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_4.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <input type="text" id="DLG1.V.R1.EDITOR_4_TXTBOX" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   name="V.R1.EDITOR_4_TXTBOX"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_4_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_4.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_4_SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_4_CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_BUSCATEGORY" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_BUSCATEGORY_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_BUSCATEGORY.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <input type="text" id="DLG1.V.R1.EDITOR_BUSCATEGORY_TXTBOX" title=""     class="edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"  onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   name="V.R1.EDITOR_BUSCATEGORY_TXTBOX"    value=""    />\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_BUSCATEGORY_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_BUSCATEGORY.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_BUSCATEGORY_SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_BUSCATEGORY_CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_DATE" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_DATE_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_DATE.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div  id="DLG1.V.R1.EDITOR_DATE_SPINLISTGROUP"class="A5CWLayout "  style=""  ><div  class="spinListGroup" style="white-space:nowrap;" ><div id="DLG1.V.R1.EDITOR_DATE_S_MONTH.CONTROL"  style="width: 95px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div><div id="DLG1.V.R1.EDITOR_DATE_S_DAY.CONTROL"  style="width: 95px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div><div id="DLG1.V.R1.EDITOR_DATE_S_YEAR.CONTROL"  style="width: 95px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div></div><div style="font: 0pt arial;clear:both;"></div></div><br  id="DLG1.V.R1.EDITOR_DATE_SPINLISTGROUP.BREAK"  style="clear:both; " /><div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_DATE_TODAY"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_DATE_CLEAR"    ></button>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_DATE_HELP1" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_DATE.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_DATE_SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_DATE_CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_SIGNATURE" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_SIGNATURE_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_SIGNATURE.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 400px" >\n <label id="DLG1.LBL.R1.EDITOR_SIGNATURE_SIGNATUREINK" for="DLG1.V.R1.EDITOR_SIGNATURE_SIGNATUREINK" title="" class="label" style="display:block;">Ink Sig</label>\n\n \n<div >\n <div id="DLG1.V.R1.EDITOR_SIGNATURE_SIGNATUREINK.CONTROL"   class="ink"  style="overflow: auto; width: 100%; height: 250px; "></div>\n</div>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_SIGNATURE_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_SIGNATURE.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_STATUS" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_STATUS_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_STATUS.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.EDITOR_STATUS_TXTBOX" \n  title=""\n  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.EDITOR_STATUS_TXTBOX"  \n   onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   >\n<option value=""></option> <option value="Active">Active</option> <option value="Inactive">Inactive</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_STATUS_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_STATUS.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_STATUS_SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_STATUS_CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_7" style="display:none;"><div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_7_STATICTEXT" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_7.FIELDLABEL" style="display:none;">Field label goes here</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: 4in" >\n <select  \n  size="1" \n  class="edit"  \n  name="V.R1.EDITOR_7_TXTBOX" \n  title=""\n  style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"\n  id="DLG1.V.R1.EDITOR_7_TXTBOX"  \n   onkeyup="var edObj = DLG1_DlgObj._EDITOR_EDITORSET[\'EDITOR_TEXT\']; var es = \'\'; if(typeof edObj != \'undefined\') es = edObj.editorSet; if(typeof es == \'undefined\') es = \'\'; if(es != \'\') DLG1_DlgObj.editorEcho(es)"   >\n<option value=""></option> <option value="1">Category1</option> <option value="2">Category2</option> \n</select>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <div id="DLG1.V.R1.EDITOR_7_STATICTEXT2" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="EDITOR_7.HELPTEXT" style="display:none;">Help text for this field goes here.</div></div>\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_7_SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_7_CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_AN" style="display:none;"><div class="A5CWLayout" style="width: 100%" >\n \n<div >\n <div id="DLG1.V.R1.EDITOR_AN_KEYPAD.CONTROL"  class="DLG1_EDITOR_AN_KEYPAD" style="overflow: auto; width: 100%; "></div>\n</div>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_AN___SAVEBUTTON1"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_AN___CANCELBUTTON1"    ></button>\n</div><br  style="clear:both; " />\n</div><div id="DLG1.EDITORSET_4.EDITOR_NUM" style="display:none;"><div class="A5CWLayout" style="width: 100%" >\n \n<div >\n <div id="DLG1.V.R1.EDITOR_NUM_KEYPAD.CONTROL"  class="DLG1_EDITOR_NUM_KEYPAD" style="overflow: auto; width: 100%; "></div>\n</div>\n\n</div><br  style="clear:both; " />\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_NUM__SAVEBUTTON"    ></button>\n</div>\n<div class="A5CWLayout" style="width: " >\n <button type="button" id="DLG1.V.R1.EDITOR_NUM__CANCELBUTTON"    ></button>\n</div><br  style="clear:both; " />\n</div>\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'top',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_3" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> <div style="display:none;"></div>',
		show: true
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('EDITOR_AN_KEYPAD'); if(mObj) mObj.refresh();}try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_3'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };
if(typeof DLG1_DlgObj != 'undefined' && typeof DLG1_DlgObj._panelCardResize != 'undefined') { DLG1_DlgObj._panelCardResize('PANELCARD_EDITORS'); };}
})
}
],{
	type: 'carousel',
	flow: 'ltr',
	loopNavigate: false,
	onPanelActivate: function() {DLG1_DlgObj.refreshClientSideComputations();},
	onSize: function() {;if(typeof DLG1_DlgObj != 'undefined') {
	if(typeof DLG1_DlgObj._findActiveLayoutRule != 'undefined') { 
		DLG1_DlgObj._findActiveLayoutRule();
	}
}
try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_1'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_5'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_7'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_6'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };try { var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_3'); 
if(cbObj && DLG1_DlgObj.flagRenderComplete && arguments[0].changed ) cbObj.refresh();
} catch(error) { };},
	theme: 'Alpha',
	header: {
		show: true,
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_1" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> '
	},
	footer: {
		show: true,
		html: '<div class="A5CWLayout"   id="DLG1.V.R1.CONTROLBAR_2" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"> </div> '
	},
	overlay: {
	},
	controls: {
		prev: {
			has: false
		},
		next: {
			has: false
		},
		back: {
			has: false
		},
		forward: {
			has: false
		}
	},
	body: {
	},
	animation: {
		duration: 400
	}
})
var ele = window['DLG1_PanelObj'].create('DLG1.R1');
		var panelRootId = '{UXPRERENDEROUTPUTDIV}';
		var flagSizeToParent = true;
		var wf_alias = 'DLG1';
		if(panelRootId != '') { 
			if (!$(panelRootId)) panelRootId = '';
		}
		if(panelRootId != '') { 
			$(panelRootId).appendChild(ele);
			if(flagSizeToParent) { 
				if(window[wf_alias + '_PanelObj']) window[wf_alias + '_PanelObj'].bindSize('parent');
				var ele = $(panelRootId + '.CONTENT'); if(ele) ele.style.display = 'none'; //srec
			}
		} else { 
			document.body.insertBefore(ele,document.body.firstChild);
			if(window[wf_alias + '_PanelObj']) window[wf_alias + '_PanelObj'].bindSize('window');
		}
DLG1_PanelObj._panelPath = {
	PANELCARD_GENERATORS_LIST: 'PANELCARD_GENERATORS_LIST',
	PANELCARD_SEARCH: 'PANELCARD_SEARCH',
	PANELCARD_3: 'PANELCARD_3',
	PANELCARD_7: 'PANELCARD_7',
	PANELCARD_8: 'PANELCARD_8',
	PANELCARD_9: 'PANELCARD_9',
	PANELCARD_SAVE_EXIT: 'PANELCARD_SAVE_EXIT',
	PANELCARD_FORMVIEW: 'PANELCARD_FORMVIEW',
	PANELCARD_EDITORS: 'PANELCARD_EDITORS'
}
DLG1_PanelObj._displayNames = {
PANELCARD_GENERATORS_LIST : 'PANELCARD_GENERATORS_LIST',PANELCARD_SEARCH : 'PANELCARD_SEARCH',PANELCARD_3 : 'PANELCARD_3',PANELCARD_7 : 'PANELCARD_7',PANELCARD_8 : 'PANELCARD_8',PANELCARD_9 : 'PANELCARD_9',PANELCARD_SAVE_EXIT : 'PANELCARD_SAVE_EXIT',PANELCARD_FORMVIEW : 'PANELCARD_FORMVIEW',PANELCARD_EDITORS : 'PANELCARD_EDITORS',PANELNAVIGATOR_1 : 'PANELNAVIGATOR_1'
};
if(typeof DLG1_DlgObj == 'object') DLG1_DlgObj._destroy();
var DLG1_DlgObj = new A5.DialogComponentHelper('DLG1',{
	ajaxURL: 'replaceMe/GENERATORSSEARCHLISTV5.a5wcmp?__virtualPage=__a5RunDialog.a5w&__dialogFilename=GENERATORSSEARCHLISTV5&__alias=DLG1&__unsaved=no',
	_embeddedMode: false,
	_livePreviewInBuilder: false,
	componentGUID: '838ee954-df70-4dea-8a3e-b33351a6e595',
	columnInfo: {'GENERATORSLIST': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: ''  },'BUSCAT': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: ''  },'SEARCH_BUSINESSNAME': {info: {controlType: 'textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_CITY': {info: {controlType: 'textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_STATE': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_AUTHORIZEDAGENT': {info: {controlType: 'textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_STATUS': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'COMPANYID': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CATEGORYID': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'BUSINESSNAME': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'OPMAN': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'USERID': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'TELEPHONE': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ADDRESS': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CITY': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'STATE': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ZIP': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'AUTHORIZEDAGENT': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'AGENTSIGNATURE': {info: {controlType: 'SignatureCapture'}, hiddenVal: false, type: 'img,img', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'AGENTTITLE': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'GENDATE': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'D'  },'GSTATUS': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'GENADMINLIST': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: ''  },'FNAME': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'LNAME': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CITY1': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'STATE1': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'ZIP1': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'REGSTATUS': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'BUSIBESSNAME2': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_FNAME1': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_LNAME1': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_CITY2': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_STATE2': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_ZIP2': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SEARCH_REGSTATUS1': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_3_ADDRESS': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_3_CITY': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_3_STATE': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_3_ZIP': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_4_TXTBOX': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_BUSCATEGORY_TXTBOX': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_DATE_S_MONTH': {info: {controlType: 'SpinList'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_DATE_S_DAY': {info: {controlType: 'SpinList'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_DATE_S_YEAR': {info: {controlType: 'SpinList'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_SIGNATURE_SIGNATUREINK': {info: {controlType: 'Ink'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_STATUS_TXTBOX': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_7_TXTBOX': {info: {controlType: 'DropDownBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EDITOR_AN_KEYPAD': {info: {controlType: 'ViewBox'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'EDITOR_NUM_KEYPAD': {info: {controlType: 'ViewBox'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'N'  }},
	originalValues: [{
	'GENERATORSLIST': '',
	'BUSCAT': '',
	'SEARCH_BUSINESSNAME': '',
	'SEARCH_CITY': '',
	'SEARCH_STATE': '',
	'SEARCH_AUTHORIZEDAGENT': '',
	'SEARCH_STATUS': '',
	'COMPANYID': '',
	'CATEGORYID': '',
	'BUSINESSNAME': '',
	'OPMAN': '',
	'USERID': '',
	'TELEPHONE': '',
	'ADDRESS': '',
	'CITY': '',
	'STATE': '',
	'ZIP': '',
	'AUTHORIZEDAGENT': '',
	'AGENTSIGNATURE': '',
	'AGENTTITLE': '',
	'GENDATE': '',
	'GSTATUS': '',
	'GENADMINLIST': '',
	'FNAME': '',
	'LNAME': '',
	'CITY1': '',
	'STATE1': '',
	'ZIP1': '',
	'REGSTATUS': '',
	'BUSIBESSNAME2': '',
	'SEARCH_FNAME1': '',
	'SEARCH_LNAME1': '',
	'SEARCH_CITY2': '',
	'SEARCH_STATE2': '',
	'SEARCH_ZIP2': '',
	'SEARCH_REGSTATUS1': '',
	'EDITOR_3_ADDRESS': '',
	'EDITOR_3_CITY': '',
	'EDITOR_3_STATE': '',
	'EDITOR_3_ZIP': '',
	'EDITOR_4_TXTBOX': '',
	'EDITOR_BUSCATEGORY_TXTBOX': '',
	'EDITOR_DATE_S_MONTH': '1',
	'EDITOR_DATE_S_DAY': '',
	'EDITOR_DATE_S_YEAR': '',
	'EDITOR_SIGNATURE_SIGNATUREINK': '',
	'EDITOR_STATUS_TXTBOX': '',
	'EDITOR_7_TXTBOX': '',
	'EDITOR_AN_KEYPAD': '',
	'EDITOR_NUM_KEYPAD': ''
}],
	defaultValues: {
	GENERATORSLIST: '',
	BUSCAT: '',
	SEARCH_BUSINESSNAME: '',
	SEARCH_CITY: '',
	SEARCH_STATE: '',
	SEARCH_AUTHORIZEDAGENT: '',
	SEARCH_STATUS: '',
	COMPANYID: '',
	CATEGORYID: '',
	BUSINESSNAME: '',
	OPMAN: '',
	USERID: '',
	TELEPHONE: '',
	ADDRESS: '',
	CITY: '',
	STATE: '',
	ZIP: '',
	AUTHORIZEDAGENT: '',
	AGENTSIGNATURE: '',
	AGENTTITLE: '',
	GENDATE: '',
	GSTATUS: '',
	GENADMINLIST: '',
	FNAME: '',
	LNAME: '',
	CITY1: '',
	STATE1: '',
	ZIP1: '',
	REGSTATUS: '',
	BUSIBESSNAME2: '',
	SEARCH_FNAME1: '',
	SEARCH_LNAME1: '',
	SEARCH_CITY2: '',
	SEARCH_STATE2: '',
	SEARCH_ZIP2: '',
	SEARCH_REGSTATUS1: '',
	EDITOR_3_ADDRESS: '',
	EDITOR_3_CITY: '',
	EDITOR_3_STATE: '',
	EDITOR_3_ZIP: '',
	EDITOR_4_TXTBOX: '',
	EDITOR_BUSCATEGORY_TXTBOX: '',
	EDITOR_DATE_S_MONTH: '1',
	EDITOR_DATE_S_DAY: '',
	EDITOR_DATE_S_YEAR: '',
	EDITOR_SIGNATURE_SIGNATUREINK: '',
	EDITOR_STATUS_TXTBOX: '',
	EDITOR_7_TXTBOX: '',
	EDITOR_AN_KEYPAD: '',
	EDITOR_NUM_KEYPAD: ''
},
	datePickerMonthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'],
	datePickerDayNames: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],
	datePickerTodayButton: 'Today',
	datePickerCloseButton: '',
	datePickerFirstDayOfWeek: 1,
	resetFormMessage: 'Are you sure you want to reset the form?',
	resetFormTitle: 'Warning',
	resetFormIcon: 'svgIcon=#alpha-icon-questionCircle:icon',
	dirtyFormMessage: 'You must first save your changes or cancel changes by clicking the Reset button.',
	dirtyFormTitle: 'Notice',
	dirtyFormIcon: 'svgIcon=#alpha-icon-infoCircle:icon',
	deleteRecordDialogTitle: 'Delete Record',
	deleteRecordDialogMessage: 'Are you sure you want to delete this record?',	
	ssDateFormat: 'MM/dd/yyyy',
	styleName: 'Alpha',
	_fieldHelpers_DIALOG2: [],
	parentComponentAlias: '',
	submitIfHasClientSideErrors: true, 
	rowErrors: {
				showMessageBox: false,
				messageBoxTitle: 'Error',
				style: 'color: red; width: 6in; height: 2in;'
		},
	fieldErrors: {
		type: 'block', 
		className: 'errorText',
		inputClassName: 'editError',
		edit: { 
			container: { className: 'editError'}
		},
		icon: 'svgIcon=#alpha-icon-exclamationCircle:icon',
		global: {
			contId: 'DLG1.GLOBALERRORS',
			hoverClassName: 'errorTextHighlight',
			hoverInputClassName: 'errorInputHighlight'
		}
	}
	});
DLG1_DlgObj._onOrientationChange =  function(e) { ;
DLG1_DlgObj._findActiveLayoutRule();
;  };
A5.__componentObj = DLG1_DlgObj;
DLG1_DlgObj._tabObjects = [];
A5.loadJavascript(';\n\n\n\n;');
if(!DLG1_DlgObj.fieldHelpers['GENDATE']) {  DLG1_DlgObj.fieldHelpers['GENDATE'] = new A5.EditDateTime({
	theme: 'Alpha',
	dateTime: {
		format: 'MM/dd/yyyy ',
		datePicker: {
			days: DLG1_DlgObj.datePickerDayNames,
			months: DLG1_DlgObj.datePickerMonthNames,
			startDay: DLG1_DlgObj.datePickerFirstDayOfWeek-1,
			calendar: {
				lockColumnWidth: false,
				daysOfWeek: {
					show: true
				},
				weeksOfYear: {
					show: false
				}
			},
			navigator: {
				header: {
					todayButton: {
						show: true,
						html: DLG1_DlgObj.datePickerTodayButton,
						tip: ''
					}
				}
			},
			disabledDates: {
				low: '',
				high: '',
				days: []
			}
		},
		switchYear: 20
	},
	window: {
		autoGenerateButtons: false,
		buttons: {
			items: [
				{
					html: 'OK',
					action: 'commit'
				},
				{
					html: 'Cancel',
					action: 'close'
				}			
]
		}
	},
	onSelect: function() {$e.execute(this,'change');} ,
	multiple: {
		allow: false
	},
	selectionRequired: false
});}
DLG1_DlgObj.lookups = {
};
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = (dialog.listDetailView.GENERATORSLIST.isDirty == false);
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_LISTSEARCHCLEAR_GENERATORSLIST')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;;
	DLG1_DlgObj._executeEvent('onWatchEvent',{type: 'enable', control: 'BUTTON_LISTSEARCHCLEAR_GENERATORSLIST', flag: enable});}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVNEWRECORD_GENERATORSLIST'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.GENERATORSLIST.isDirty == false) && (dialog.listDetailView.GENERATORSLIST.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVNEWRECORD_GENERATORSLIST'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVNEWRECORD_GENERATORSLIST')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVNEWRECORD_GENERATORSLIST'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_GENERATORSLIST'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_GENERATORSLIST'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;;
	DLG1_DlgObj._executeEvent('onWatchEvent',{type: 'enable', control: 'BUTTON_DVNEWRECORD_GENERATORSLIST', flag: enable});}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVDELETERECORD_GENERATORSLIST'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.GENERATORSLIST.mode != 'search') && (dialog.listRow.GENERATORSLIST.isRowSelected == true));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVDELETERECORD_GENERATORSLIST'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVDELETERECORD_GENERATORSLIST')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVDELETERECORD_GENERATORSLIST'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_GENERATORSLIST'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_GENERATORSLIST'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;;
	DLG1_DlgObj._executeEvent('onWatchEvent',{type: 'enable', control: 'BUTTON_DVDELETERECORD_GENERATORSLIST', flag: enable});}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVRESET_GENERATORSLIST'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.GENERATORSLIST.isDirty == true) && (dialog.listDetailView.GENERATORSLIST.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVRESET_GENERATORSLIST'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVRESET_GENERATORSLIST')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVRESET_GENERATORSLIST'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVRESET_GENERATORSLIST'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVRESET_GENERATORSLIST'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;;
	DLG1_DlgObj._executeEvent('onWatchEvent',{type: 'enable', control: 'BUTTON_DVRESET_GENERATORSLIST', flag: enable});}
}
DLG1_DlgObj.setStateInfo({
	"__dialogGuid": "65649d57-fae9-453b-bb6c-65fe76765a28",
	"argumentsBoundToCotrols": "currcom|Character={companyid}\n",
	"__sgr": "",
	"__dtfmt": "MM/dd/yyyy",
	"__tfmt": ""
});
DLG1_DlgObj._cascadingControls = [];
DLG1_DlgObj._cascadingControlsChildren = [];
DLG1_DlgObj.setStateInfo({ 	"__args_c_currcom": "" });
A5.msgBox.theme = 'Alpha';
A5.msgBox.buttonWidth = '1in';
DLG1_DlgObj._defaultWindowTitleDirection = 'ltr';
DLG1_DlgObj._controlContainers = {}
DLG1_DlgObj._panelCardControls = {
GENERATORSLIST:'PANELCARD_GENERATORS_LIST',
BUSCAT:'PANELCARD_SEARCH',
SEARCH_BUSINESSNAME:'PANELCARD_SEARCH',
SEARCH_CITY:'PANELCARD_SEARCH',
SEARCH_STATE:'PANELCARD_SEARCH',
SEARCH_AUTHORIZEDAGENT:'PANELCARD_SEARCH',
SEARCH_STATUS:'PANELCARD_SEARCH',
COMPANYID:'PANELCARD_3',
CATEGORYID:'PANELCARD_3',
BUSINESSNAME:'PANELCARD_3',
OPMAN:'PANELCARD_3',
USERID:'PANELCARD_3',
TELEPHONE:'PANELCARD_3',
ADDRESS:'PANELCARD_3',
CITY:'PANELCARD_3',
STATE:'PANELCARD_3',
ZIP:'PANELCARD_3',
AUTHORIZEDAGENT:'PANELCARD_3',
AGENTSIGNATURE:'PANELCARD_3',
AGENTTITLE:'PANELCARD_3',
GENDATE:'PANELCARD_3',
GSTATUS:'PANELCARD_3',
GENADMINLIST:'PANELCARD_7',
FNAME:'PANELCARD_8',
LNAME:'PANELCARD_8',
CITY1:'PANELCARD_8',
STATE1:'PANELCARD_8',
ZIP1:'PANELCARD_8',
REGSTATUS:'PANELCARD_8',
BUSIBESSNAME2:'PANELCARD_8',
SEARCH_FNAME1:'PANELCARD_9',
SEARCH_LNAME1:'PANELCARD_9',
SEARCH_CITY2:'PANELCARD_9',
SEARCH_STATE2:'PANELCARD_9',
SEARCH_ZIP2:'PANELCARD_9',
SEARCH_REGSTATUS1:'PANELCARD_9',
EDITOR_3_ADDRESS:'PANELCARD_EDITORS',
EDITOR_3_CITY:'PANELCARD_EDITORS',
EDITOR_3_STATE:'PANELCARD_EDITORS',
EDITOR_3_ZIP:'PANELCARD_EDITORS',
EDITOR_4_TXTBOX:'PANELCARD_EDITORS',
EDITOR_BUSCATEGORY_TXTBOX:'PANELCARD_EDITORS',
EDITOR_DATE_S_MONTH:'PANELCARD_EDITORS',
EDITOR_DATE_S_DAY:'PANELCARD_EDITORS',
EDITOR_DATE_S_YEAR:'PANELCARD_EDITORS',
EDITOR_SIGNATURE_SIGNATUREINK:'PANELCARD_EDITORS',
EDITOR_STATUS_TXTBOX:'PANELCARD_EDITORS',
EDITOR_7_TXTBOX:'PANELCARD_EDITORS',
EDITOR_AN_KEYPAD:'PANELCARD_EDITORS',
EDITOR_NUM_KEYPAD:'PANELCARD_EDITORS'
}
DLG1_DlgObj._controlsOnPanel = {
	'PANELCARD_GENERATORS_LIST' : {controls: ['GENERATORSLIST']},
	'PANELCARD_SEARCH' : {controls: ['BUSCAT','SEARCH_BUSINESSNAME','SEARCH_CITY','SEARCH_STATE','SEARCH_AUTHORIZEDAGENT','SEARCH_STATUS']},
	'PANELCARD_3' : {controls: ['COMPANYID','CATEGORYID','BUSINESSNAME','OPMAN','USERID','TELEPHONE','ADDRESS','CITY','STATE','ZIP','AUTHORIZEDAGENT','AGENTSIGNATURE','AGENTTITLE','GENDATE','GSTATUS']},
	'PANELCARD_7' : {controls: ['GENADMINLIST']},
	'PANELCARD_8' : {controls: ['FNAME','LNAME','CITY1','STATE1','ZIP1','REGSTATUS','BUSIBESSNAME2']},
	'PANELCARD_9' : {controls: ['SEARCH_FNAME1','SEARCH_LNAME1','SEARCH_CITY2','SEARCH_STATE2','SEARCH_ZIP2','SEARCH_REGSTATUS1']},
	'PANELCARD_EDITORS' : {controls: ['EDITOR_3_ADDRESS','EDITOR_3_CITY','EDITOR_3_STATE','EDITOR_3_ZIP','EDITOR_4_TXTBOX','EDITOR_BUSCATEGORY_TXTBOX','EDITOR_DATE_S_MONTH','EDITOR_DATE_S_DAY','EDITOR_DATE_S_YEAR','EDITOR_SIGNATURE_SIGNATUREINK','EDITOR_STATUS_TXTBOX','EDITOR_7_TXTBOX','EDITOR_AN_KEYPAD','EDITOR_NUM_KEYPAD']}
}
DLG1_DlgObj._buttons = {};
DLG1_DlgObj._buttons['BUTTON_LISTSEARCH_GENERATORSLIST'] = new A5.Button({
	layout: 'text',
	tip: 'Search for matching records.',
	html: 'Search',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'] = new A5.Button({
	layout: 'text',
	tip: 'Remove the List filter.',
	html: 'Clear',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_27'] = new A5.Button({
	layout: 'text',
	html: 'Button',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_DVSAVE_GENERATORSLIST'] = new A5.Button({
	layout: 'icon text',
	tip: 'Save edits',
	html: 'Save',
	icon: 'svgIcon=#alpha-icon-save:icon iconButton',
	disabledIcon: 'svgIcon=#alpha-icon-save:icon iconDisabled iconButton',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_GENERATORSLIST'] = new A5.Button({
	layout: 'icon text',
	tip: 'Enter a new record',
	html: 'New Record',
	icon: 'svgIcon=#alpha-icon-docAdd:icon iconButton',
	disabledIcon: 'svgIcon=#alpha-icon-docAdd:icon iconButton',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_GENERATORSLIST'] = new A5.Button({
	layout: 'icon text',
	tip: 'Delete record',
	html: 'Delete Record',
	icon: 'svgIcon=#alpha-icon-removeCircle:icon iconButton',
	disabledIcon: 'svgIcon=#alpha-icon-removeCircle:icon iconDisabled iconButton',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_DVRESET_GENERATORSLIST'] = new A5.Button({
	layout: 'icon text',
	tip: 'Undo edits to the List Detail View',
	html: 'Reset',
	icon: 'svgIcon=#alpha-icon-undo:icon iconButton',
	disabledIcon: 'svgIcon=#alpha-icon-undo:icon iconDisabled iconButton',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_GENERATORSLIST'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Synchronize data - push local edits back to the server',
	html: 'Synchronize',
	icon: 'svgIcon=#alpha-icon-save:icon iconButton',
	disabledIcon: 'svgIcon=#alpha-icon-save:icon iconDisabled iconButton',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_26'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Generators',
	icon: 'svgIcon=#alpha-icon-peopleSolid:24',
	disabledIcon: 'svgIcon=#alpha-icon-peopleSolid:24',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_2_SAVEBUTTON1'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_2_CANCELBUTTON1'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_4_SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_4_CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_BUSCATEGORY_SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_BUSCATEGORY_CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_DATE_TODAY'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Today',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_DATE_CLEAR'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'None',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_DATE_SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_DATE_CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_STATUS_SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_STATUS_CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_7_SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_7_CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_AN___SAVEBUTTON1'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_AN___CANCELBUTTON1'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_NUM__SAVEBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Save',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['EDITOR_NUM__CANCELBUTTON'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	html: 'Cancel',
	onClick: function() { 
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['BUTTON_LISTSEARCH_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_LISTSEARCH_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_LISTSEARCHCLEAR_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_LISTSEARCHCLEAR_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_27'].bind('DLG1.V.R1.BUTTON_27');
DLG1_DlgObj._buttons['BUTTON_DVSAVE_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_DVSAVE_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_DVNEWRECORD_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_DVDELETERECORD_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_DVRESET_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_DVRESET_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_GENERATORSLIST'].bind('DLG1.V.R1.BUTTON_DVSYNCHRONIZE_GENERATORSLIST');
DLG1_DlgObj._buttons['BUTTON_26'].bind('DLG1.V.R1.BUTTON_26');
DLG1_DlgObj._buttons['EDITOR_2_SAVEBUTTON1'].bind('DLG1.V.R1.EDITOR_2_SAVEBUTTON1');
DLG1_DlgObj._buttons['EDITOR_2_CANCELBUTTON1'].bind('DLG1.V.R1.EDITOR_2_CANCELBUTTON1');
DLG1_DlgObj._buttons['EDITOR_4_SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_4_SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_4_CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_4_CANCELBUTTON');
DLG1_DlgObj._buttons['EDITOR_BUSCATEGORY_SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_BUSCATEGORY_SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_BUSCATEGORY_CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_BUSCATEGORY_CANCELBUTTON');
DLG1_DlgObj._buttons['EDITOR_DATE_TODAY'].bind('DLG1.V.R1.EDITOR_DATE_TODAY');
DLG1_DlgObj._buttons['EDITOR_DATE_CLEAR'].bind('DLG1.V.R1.EDITOR_DATE_CLEAR');
DLG1_DlgObj._buttons['EDITOR_DATE_SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_DATE_SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_DATE_CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_DATE_CANCELBUTTON');
DLG1_DlgObj._buttons['EDITOR_STATUS_SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_STATUS_SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_STATUS_CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_STATUS_CANCELBUTTON');
DLG1_DlgObj._buttons['EDITOR_7_SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_7_SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_7_CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_7_CANCELBUTTON');
DLG1_DlgObj._buttons['EDITOR_AN___SAVEBUTTON1'].bind('DLG1.V.R1.EDITOR_AN___SAVEBUTTON1');
DLG1_DlgObj._buttons['EDITOR_AN___CANCELBUTTON1'].bind('DLG1.V.R1.EDITOR_AN___CANCELBUTTON1');
DLG1_DlgObj._buttons['EDITOR_NUM__SAVEBUTTON'].bind('DLG1.V.R1.EDITOR_NUM__SAVEBUTTON');
DLG1_DlgObj._buttons['EDITOR_NUM__CANCELBUTTON'].bind('DLG1.V.R1.EDITOR_NUM__CANCELBUTTON');
DLG1_DlgObj._listViewSettings['GENERATORSLIST'] = {
	_hasDependentLists: false,
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'companyid',
		defaultValue: 'return this._controlDefaultValueForListField(\'companyid\');'
	},
	{
		name: 'CategoryID',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoryID\');'
	},
	{
		name: 'BusinessName',
		defaultValue: 'return this._controlDefaultValueForListField(\'BusinessName\');'
	},
	{
		name: 'OpMan',
		defaultValue: 'return this._controlDefaultValueForListField(\'OpMan\');'
	},
	{
		name: 'userid',
		defaultValue: 'return this._controlDefaultValueForListField(\'userid\');'
	},
	{
		name: 'telephone',
		defaultValue: 'return this._controlDefaultValueForListField(\'telephone\');'
	},
	{
		name: 'address1',
		defaultValue: 'return this._controlDefaultValueForListField(\'address1\');'
	},
	{
		name: 'city1',
		defaultValue: 'return this._controlDefaultValueForListField(\'city1\');'
	},
	{
		name: 'state1',
		defaultValue: 'return this._controlDefaultValueForListField(\'state1\');'
	},
	{
		name: 'zip1',
		defaultValue: 'return this._controlDefaultValueForListField(\'zip1\');'
	},
	{
		name: 'AuthorizedAgent',
		defaultValue: 'return this._controlDefaultValueForListField(\'AuthorizedAgent\');'
	},
	{
		name: 'AgentSignature',
		defaultValue: 'return this._controlDefaultValueForListField(\'AgentSignature\');'
	},
	{
		name: 'AgentTitle',
		defaultValue: 'return this._controlDefaultValueForListField(\'AgentTitle\');'
	},
	{
		name: 'Gendate',
		defaultValue: 'return this._controlDefaultValueForListField(\'Gendate\');'
	},
	{
		name: 'Status',
		defaultValue: 'return this._controlDefaultValueForListField(\'Status\');'
	}
],
	_delayRenderTillRefresh: false,
	_searchPartHas: true,
	_searchPart: {
		fieldMap: [
	{
		field: 'BusinessName',
		control: 'SEARCH_BusinessName'
	},
	{
		field: 'city',
		control: 'SEARCH_city'
	},
	{
		field: 'state',
		control: 'SEARCH_state'
	},
	{
		field: 'AuthorizedAgent',
		control: 'SEARCH_AuthorizedAgent'
	},
	{
		field: 'Status',
		control: 'SEARCH_Status'
	}
]
	},
	_searchPartStyle: 'individualcontrols',
	_searchFieldOptions: {
"COMPANYID" : {option: 2,qbf: false,type: 'c'},
"CATEGORYID" : {option: 2,qbf: true,type: 'n'},
"BUSINESSNAME" : {option: 2,qbf: false,type: 'c'},
"OPMAN" : {option: 2,qbf: false,type: 'c'},
"USERID" : {option: 2,qbf: false,type: 'c'},
"TELEPHONE" : {option: 2,qbf: false,type: 'c'},
"ADDRESS1" : {option: 2,qbf: false,type: 'c'},
"CITY1" : {option: 2,qbf: false,type: 'c'},
"STATE1" : {option: 2,qbf: false,type: 'c'},
"ZIP1" : {option: 2,qbf: false,type: 'c'},
"AUTHORIZEDAGENT" : {option: 2,qbf: false,type: 'c'},
"AGENTSIGNATURE" : {option: 2,qbf: false,type: 'c'},
"AGENTTITLE" : {option: 2,qbf: false,type: 'c'},
"GENDATE" : {option: 2,qbf: false,type: 'c'},
"STATUS" : {option: 1,qbf: true,type: 'c'}
},
	_showSearchDebugInfo: false,
	_mediaFields: [],
	_mediaTypes: {
},
	_mediaFieldReadOnly: [],
	_phoneGap: {
		mediaFiles: {
			protectedRead: false,
			target: 'server',
			targetFilenameFunction: 'return \'<DeviceId>_\' +e.object.listFieldName + \'_\' + A5.ts() + \'_\' +e.name',
			showProgress: false,
			download: {
				autodownloadFilesOnPullSynch: false,
				deleteOrphansAfterSync: false,
				targetFolder: '_AAFiles',
				showProgress: false,
				targetFileSystem: 'persistent'
			},
			onErrorFunction: function(array,fileNumber,error) { }
		}
	},
	_incrementalRefreshAfterLoad: function() { },
	_dvmode: 'enter',
	_hasDetailView: true,
	deselectAll: function() { 	
	var _dlgObj = window[this._hostComponentId + '_DlgObj']; 
	_dlgObj.setValue(this.listVariableName,'',true);
	this._deselectAll();
	if(this.nullOutDetailViewRecord) {
		this.nullOutDetailViewRecord();
		for(var i = 0; i < this.childLists.length; i++) { 
			var lname = this.childLists[i];
			var lobjC = DLG1_DlgObj.getControl(lname);
			lobjC.nullOutDetailViewRecord();
		}
		if(this._noRecordInListIsSelectedSettingForDetailView ==  'disabledetailview') { 
			this.disableDetailView()
			for(var i = 0; i < this.childLists.length; i++) { 
				var lname = this.childLists[i];
				var lobjC = DLG1_DlgObj.getControl(lname);
				lobjC.disableDetailView();
			}
		}
	}
}
,
	showHideColumn: function(columnNumber,flagShow,layoutName) { 	if(typeof layoutName == 'undefined') layoutName = this.layout;
	this.layouts[layoutName].columns[columnNumber].show = flagShow;
	this.refresh();
}
,
	showAllColumns: function() { 
	var l = this.layouts
	var c = '';
	for(var n in l) { 
		c = l[n].columns;
		if(typeof c != 'undefined') { 
			for(var i = 0; i < c.length; i++) { 
				c[i].show = true;
			}
		}
	}
	this.refresh();
}
,
	_hideColumns: function() { 
}
,
	_noRecordInListIsSelectedSettingForDetailView: 'none',
	_captureLocation: false,
	_detailViewHas: true,
	_submitLocationInfo: false,
	_detailView: {
		method: 'fieldMap',
		fieldMap: [
	{
		field: 'companyid',
		control: 'companyid'
	},
	{
		field: 'CategoryID',
		control: 'CategoryID'
	},
	{
		field: 'BusinessName',
		control: 'BusinessName'
	},
	{
		field: 'OpMan',
		control: 'OpMan'
	},
	{
		field: 'userid',
		control: 'userid'
	},
	{
		field: 'telephone',
		control: 'telephone'
	},
	{
		field: 'address1',
		control: 'address'
	},
	{
		field: 'city1',
		control: 'city'
	},
	{
		field: 'state1',
		control: 'state'
	},
	{
		field: 'zip1',
		control: 'zip'
	},
	{
		field: 'AuthorizedAgent',
		control: 'AuthorizedAgent'
	},
	{
		field: 'AgentSignature',
		control: 'AgentSignature'
	},
	{
		field: 'AgentTitle',
		control: 'AgentTitle'
	},
	{
		field: 'Gendate',
		control: 'Gendate'
	},
	{
		field: 'Status',
		control: 'GStatus'
	}
]
	},
	_detailViewGlobalErrorStyle: 'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;',
	_autoCommitDetailView: true,
	_synchBatchSize: 0,
	_resetMediaFileUploadErrorsFlag: function(data) {
var r = A5.u.object.each(data,function(name,value,path,result){
	if(name == '_flagMediaFileUploadError') {
		result.push({value: false, path: path})
	}
});
for(var i = 0; i < r.length; i++) {
	A5.u.object.set(data,r[i].path,r[i].value);
}
},
	theme: 'Alpha',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'top',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  {var _val = '' +(function(data) {if(typeof data.__primaryKey != 'undefined') {return data.__primaryKey;} else { 
try{var _pkArr = [];
_pkArr.push('' + data['userid']);
			var pk = _pkArr.join('|||');
			return pk;
		} catch(err) { return undefined }
}})(data); if((_val == '' ||  _val == 'undefined'  )&& typeof data['*rowGUID'] != 'undefined') _val = '_temporaryValue_' + data['*rowGUID']; return _val;}},
	listVariableName: 'GENERATORSLIST',
	listVariableNameTrueCase: 'GENERATORSLIST',
	_hostComponentId: 'DLG1',
	_includeCRC: true,
	allParentLists: [],
	onBeforeItemDraw: function(data,index) {
var lobj = DLG1_DlgObj.getControl('BUSCAT');
if(lobj) {
	var lookupData = lobj.lookupValue(['CategoryID'],'__rowData__',[data.CategoryID]);
	data.bcat = lookupData;
	this._data[this._dataMap[index]].bcat = lookupData;
}
;
;
;},
	__flagPersist: false,
	__flagIncrementalRefreshAfterLoad: false,
	onPopulate: function(data) {	
	var ls = DLG1_DlgObj._localStorageSettings;
		if(typeof ls == 'object') {
			var lsr = ls.restore;
			if(typeof lsr != 'undefined') { 
				if(!lsr.data) { 
					//since ux does not restore from storage (which would have fired _fetchMediaFiles(), we fire it here
					var lObj = this;
					DLG1_DlgObj._delayTillPhoneGapReady(lObj._fetchMediaFiles,lObj);
				}
			}
		}
},
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	synchronizeImmediately: false,
	pushServerEditsToClient: false,
	customization: {
		dv: {
			clientSideErrorWarning: 'Cannot save because there are validation errors.',
			dirtyDetailViewRecord: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'You must first save or undo the changes you have made to the List\'s Detail View.'
			},
			confirmFormResetWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to undo changes made to the List\'s Detail View?'
			},
			confirmRowResetWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to undo changes made to this record?'
			},
			confirmDeleteWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to delete this record?'
			},
			writeConflict: {
				useMineMessage: 'Use mine (\'{myvalue}\')',
				useTheirsMessage: 'Use theirs (\'{theirvalue}\')',
				useMineAll: 'Use mine for all fields',
				useTheirsAll: 'Use theirs for all fields'
			},
			databaseError: {
				update: 'Record was not updated.|More...|Less',
				insert: 'Record was not inserted.|More...|Less',
				delete: 'Record was not deleted.|More...|Less'
			},
			useCustomClasses: false,
			setClassonEditedRows: true,
			css: {
			}
		}
	},
	onItemDraw: function(ele,data,index) {
	var _dirtyRowClassName = '_DLG1_GENERATORSLIST_dirtyRow';
	var _dirtyRowClassNameInherited = '_DLG1_GENERATORSLIST_dirtyRowInherited';
	var _dirtyRowStyle = '_DLG1_GENERATORSLIST_dirtyRowStyle';
	var _errorRowClassName = '_DLG1_GENERATORSLIST_hasError';
	var _errorRowClassNameInherited = '_DLG1_GENERATORSLIST_hasErrorInherited _DLG1_GENERATORSLIST_dirtyRowInherited';
	var _errorRowClassNameInherited_1 = '_DLG1_GENERATORSLIST_hasErrorInherited';
	var _errorRowClassNameInherited_2 = '_DLG1_GENERATORSLIST_dirtyRowInherited';
	var _errorRowStyle = '_DLG1_GENERATORSLIST_hasErrorStyle';
	var _newRowClassName = '_DLG1_GENERATORSLIST_newRow';
	var _newRowStyle = '_DLG1_GENERATORSLIST_newRowStyle';
	var _deletedRowClassName = '_DLG1_GENERATORSLIST_deletedRow';
	var _deletedRowStyle = '_DLG1_GENERATORSLIST_deletedRowStyle';
	var _deletedRowClassNameInherited = '_DLG1_GENERATORSLIST_deletedRowInherited';
	var __d = this._rData[index];
	$rcn(ele,_dirtyRowClassName);
	$rcn(ele,_dirtyRowClassNameInherited);
	$rcn(ele,_dirtyRowStyle);
	$rcn(ele,_errorRowClassName);
	$rcn(ele,_errorRowClassNameInherited);
	$rcn(ele,_errorRowClassNameInherited_1);
	$rcn(ele,_errorRowClassNameInherited_2);
	$rcn(ele,_errorRowStyle);
	$rcn(ele,_newRowClassName);
	$rcn(ele,_newRowStyle);
	$rcn(ele,_deletedRowClassName);
	$rcn(ele,_deletedRowStyle);
	if(data._isDirty && typeof data._isDeleted != 'undefined' && data._isDeleted) { 
		$acn(ele,_deletedRowClassName);
		$acn(ele,_deletedRowStyle);
		__d.__displayStyle = 'deletedRow';
	} else if (data._isDirty && typeof data._oldData != 'undefined' && !data._isNewRow ) { 
		$acn(ele,_dirtyRowClassName);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRow';
	} 
	if(data._isDirty && typeof data._oldData == 'undefined' && ! (data._isNewRow || data._isDeleted) ) { 
		$acn(ele,_dirtyRowClassNameInherited);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRowInherited';
	} 
	if(data._isDeleted) { 
		$acn(ele,_deletedRowClassName);
		$acn(ele,_deletedRowStyle);
		__d.__displayStyle = 'deletedRow';
	} 
	if(data._isNewRow) { 
		$acn(ele,_newRowClassName);
		$acn(ele,_newRowStyle);
		__d.__displayStyle = 'newRow';
	} 
	var flagHasGlobalErrors = false;
	if(typeof data._globalErrors != 'undefined') {
		if( data._globalErrors != '')  flagHasGlobalErrors = true;
	}
	var flagHasWriteConflictErrors = false;
	if(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors
	if(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {
		$acn(ele,_errorRowClassName);
		$acn(ele,_errorRowStyle);
		__d.__displayStyle = 'errorRow';
	} else { 
		if(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){
			 if(!data._isNewRow) {
			 	$acn(ele,_errorRowClassNameInherited);
				 __d.__displayStyle = 'errorRowInherited';
			} else {
				__d.__displayStyle = 'newRow errorRowInherited'; 
				$acn(ele, _errorRowClassNameInherited_1);
			}
		}
	}},
	childLists: [],
	childListEndpoints: ['GENERATORSLIST'],
	_populateAllChildLists: function() { },
	onSelect: function() { this.populateUXControls();
this._selectedRow = this.selection[0];
DLG1_DlgObj._listRowSelect('GENERATORSLIST',this);
 this._selectedRow = this.selection[0];if(typeof this._selectedRow != 'undefined') { DLG1_DlgObj.panelSetActive('PANELCARD_3');
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('Layout1',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});};
;},
	onBeforeSelect: function() {
	var c = this.childLists;
	var lObj = '';
	if(typeof c != 'undefined') { 
		for(var i = 0; i < c.length; i++) {
			lObj = DLG1_DlgObj.getControl(c[i]);
			if(lObj) {
				var flag = lObj.onBeforeSelect();
				if(typeof flag != 'undefined') { 
					if(!flag) return false;
				}
			}
		}
	}
	if(this._dvmode == 'search') return true;
	if(!this._autoCommitDetailView) { 
		return this._showDirtyDetailViewWarning(); 
	} else { 
		if(this.detailViewIsDirty && this.detailViewIsDirty(true)) { 
			var result =  this.updateListFromUXControls();  
			return result;
		}
	}},
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('GENERATORSLIST',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
			},
			template: [
				'<div style="display: table; width: 100%;">',
				'\t<div style="display: table-cell; vertical-align: middle;">',
				'\t\t<div class="listItemPartMain" style="float: right;"><span id="DLG1.GENERATORSLIST.STATUS.I.{*dataRow}">{DLG1_DlgObj._lsh(Status,\'GENERATORSLIST\',\'Status\')}</span></div>',
				'\t\t<div class="listItemPartMain"><span id="DLG1.GENERATORSLIST.BUSINESSNAME.I.{*dataRow}">{DLG1_DlgObj._lsh(BusinessName,\'GENERATORSLIST\',\'BusinessName\')}</span></div>',
				'\t\t<div class="listItemPartSub" style="float: left;">{address}</div>',
				'\t\t\t<br>\t',
				'\t\t<div class="listItemPartSub" style="float: left;><span id="DLG1.GENERATORSLIST.CITY1.I.{*dataRow}">{DLG1_DlgObj._lsh(city1,\'GENERATORSLIST\',\'city1\')}</span>,&nbsp</div>',
				'\t\t<div class="listItemPartSub" style="float: left;><span id="DLG1.GENERATORSLIST.STATE1.I.{*dataRow}">{DLG1_DlgObj._lsh(state1,\'GENERATORSLIST\',\'state1\')}</span>,&nbsp</div>\t',
				'\t\t<div class="listItemPartSub"><span id="DLG1.GENERATORSLIST.ZIP1.I.{*dataRow}">{DLG1_DlgObj._lsh(zip1,\'GENERATORSLIST\',\'zip1\')}</span> </div>',
				'\t</div>',
				'\t',
				'\t<div style="display: table-cell; width: 40px; text-align: right; vertical-align: middle;">',
				'\t\t<svg  class="icon"><use x="0" y="0" width="100%" height="100%" xlink:href="#alpha-icon-chevronRight" /></svg>',
				'\t</div>',
				'</div>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		onListReady: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterRefreshData: function(e) {},
		afterServerSideSummaryCompute: function(summary) {},
		detailView: {
			canUpdateList: function(e) {},
			hasClientSideValidationErrors: function(e) {},
			afterUpdateList: function(e) {},
			canSynchronizeList: function(e) {},
			afterSynchronizeListBatch: function(e) {},
			canCancelBatch: function(e) {},
			afterCancelBatch: function(e) {},
			afterSynchronizeList: function(e) {},
			beforeSynchronizeListBatchStart: function(e) {},
			afterSynchronizeListBatchEnd: function(e) {},
			afterRefreshListIncremental: function(e) {},
			canResetRow: function(e) {},
			canDeleteRow: function(e) {},
			canUndoEdits: function(e) {},
			afterResetRow: function(e) {},
			afterDeleteRow: function(e) {},
			afterUndoEdits: function(e) {},
			canNewRecord: function(e) {},
			afterNewRecord: function(e) {},
			beforeDetailViewPopulate: function(e) {},
			afterDetailViewPopulate: function(e) {},
			afterListRowSelectCancelled: function(e) {},
			modeChanged: function(e) {},
			beforeMediaFilesUploaded: function(e) {},
			afterMediaFilesUploaded: function(e) {},
			onMediaFilesUploadErrors: function(e) {},
			beforeMediaFilesDownloaded: function(e) {},
			afterMediaFilesDownloaded: function(e) {},
			beforeDeleteOrphanMediaFiles: function(e) {},
			afterDeleteOrphanMediaFiles: function(e) {}
		},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('GENERATORSLIST',event,obj);
}
,
	_selectAll: function() {
	var v = this._values;
	var v2 = [].concat(v);
	this.setValue(v2,false);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql' || this._dataSourceType.toLowerCase() == 'dbf') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	setListSize: function(height,width) {
	var l = $(this.contId);
	if(typeof height != 'undefined') l.style.height = ''+ height; 
	if(typeof width != 'undefined') l.style.width = '' + width;
	this.resize();
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	var _vals = [];
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
				if(o.v1 != '') {
					if(_vals.indexOf(o.v1) == -1) { 
						_vals.push(o.v1);
					}
				}
				if(o.v2 != '') {
					if(_vals.indexOf(o.v2) == -1) { 
						_vals.push(o.v2);
					}
				}
			}
		}
	}
	if(flag) { 
		if(typeof this._state.highlight == 'undefined') this._state.highlight = {};
		this._state.highlight[field.toUpperCase()] = _vals;
	} else { 
		//this._state.highlight[field.toUpperCase()] = [];
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartOperator: '&&',
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	this._state.highlight = {};
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		var _highlight = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		var operator = '&&';
		if(typeof this._searchPartOperator != 'undefined') operator = this._searchPartOperator;
		expn = expn.join(' '+operator+' ');
	} 
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this._state.highlight = {};
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	_debugListData: function() { 		var debugObj = this._data[this.selection[0]];
		if(typeof debugObj == 'undefined') {alert('no active row'); return false;}
			var debugTxt = JSON.stringify(debugObj,'','\t'); 
		debugTxt = debugTxt.split('\t').join('    '); 
		var ele = $('DLG1.V.R1.'); 
		if(ele) {
			ele.innerHTML = '<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>';
			ele.firstChild.innerText = debugTxt; 
			if(ele.firstChild.innerHTML == '')  { ele.firstChild.innerHTML = debugTxt }      
		}
},
	_refreshDebugInfo: function() {},
	_showSQL_CRUD: function(txt) { },
	_globalErrorPlaceHolder: 'GENERATORSLIST_GLOBALERRORS',
	flagShowAlerts: true,
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	allowTextSelection: false,
	allowAnyValue: false,
	allowNullDeselection: false,
	loopNavigate: false,
	loopNavigateNullSelection: false,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('GENERATORSLIST'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=GENERATORSLIST&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
searchFor =  searchFor.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({'companyid': RegExp('' + searchFor,'i'), 'CategoryID': RegExp('' + searchFor,'i'), 'BusinessName': RegExp('' + searchFor,'i'), 'OpMan': RegExp('' + searchFor,'i'), 'userid': RegExp('' + searchFor,'i'), 'telephone': RegExp('' + searchFor,'i'), 'address1': RegExp('' + searchFor,'i'), 'city1': RegExp('' + searchFor,'i'), 'state1': RegExp('' + searchFor,'i'), 'zip1': RegExp('' + searchFor,'i'), 'AuthorizedAgent': RegExp('' + searchFor,'i'), 'AgentSignature': RegExp('' + searchFor,'i'), 'AgentTitle': RegExp('' + searchFor,'i'), 'Gendate': RegExp('' + searchFor,'i'), 'Status': RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.GENERATORSLIST.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		_d2 = $u.s.pad(_d2,len,' ','l');
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	if(DLG1_DlgObj._listStateChange) DLG1_DlgObj._listStateChange(this.listVariableName);
	var ele = '';
	ele = $('DLG1.GENERATORSLIST.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.GENERATORSLIST.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.GENERATORSLIST.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.GENERATORSLIST.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons	
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.GENERATORSLIST'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.GENERATORSLIST'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.GENERATORSLIST'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.GENERATORSLIST'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_GENERATORSLIST');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode != 'rowNumber') { 
		var _d = this.getData(this.selection[0]);
		if(typeof _d.__primaryKey == 'undefined') { 
			mode = 'rowNumber';
		}
	}
	if(mode == 'rowNumber') {
		obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	} else {
		var _d = this.getData(this.selection[0]);
		var _pk = _d.__primaryKey;
		if(typeof _d.__primaryKey == 'undefined') { 
			_pk = _d['*rowGUID'];
		}
		obj.push({list: this.listVariableName, row: _pk});
	}
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_getRouteOLD: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var mode = typeof arguments[1] != 'undefined' ? arguments[1] : 'rowNumber'; //
	if(mode == 'primaryKey') { 
		if(typeof this._data != 'undefined') { 
			var _d = this._data;
			if(typeof _d[0] != 'undefined') { 
				if(typeof _d[0].__primaryKey == 'undefined') { 
					mode = 'rowNumber';
				}
			}
		}
	}
	var lObj = '';
	var row = '';
	var _pk = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		if(mode == 'primaryKey') _pk = row;
		/*
		if(mode != 'rowNumber') { 
			var _d = lObj._rData;
			var _i2 = -1;
			for(var j = 0; j < _d.length; j++) { 
				if(_d[j].__primaryKey == row) { 
					_i2 = j;
					break;
				}
			}
			row = _i2
		}
		*/
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(mode == 'rowNumber') { 
			if(typeof row != 'undefined') {
				var rowFixed = '';
				if(typeof lObj._dataMap == 'undefined') return false;
				if(mode != 'rowNumber')  { 
					rowFixed = row;
					} else {
				rowFixed = lObj._dataMap.indexOf(route[i].row);
				}
				lObj.setValue(rowFixed,flag);
				if(this._clearServerSideErrors) this._clearServerSideErrors();
				if(this._showServerSideErrors) this._showServerSideErrors();
				if(this._showWriteConflictErrors) this._showWriteConflictErrors();
			}
		} else { 
			lObj.setValue(''+_pk,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false,
	items: {
},
	_searchHighlighting: true,
	_searchHighlightStyle: 'color: yellow;'
};
DLG1_DlgObj._listViewSettings['BUSCAT'] = {
	_hasDependentLists: false,
	_dataSourceType: 'sql',
	_listFields: [
	{
		name: 'CategoryID',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoryID\');'
	},
	{
		name: 'BusinessCategory',
		defaultValue: 'return this._controlDefaultValueForListField(\'BusinessCategory\');'
	}
],
	_delayRenderTillRefresh: false,
	_searchPartHas: false,
	_mediaFields: [],
	_mediaTypes: {
},
	_mediaFieldReadOnly: [],
	_phoneGap: {
		mediaFiles: {
			protectedRead: false,
			target: 'server',
			targetFilenameFunction: 'return \'<DeviceId>_\' +e.object.listFieldName + \'_\' + A5.ts() + \'_\' +e.name',
			showProgress: false,
			download: {
				autodownloadFilesOnPullSynch: false,
				deleteOrphansAfterSync: false,
				targetFolder: '_AAFiles',
				showProgress: false,
				targetFileSystem: 'persistent'
			},
			onErrorFunction: function(array,fileNumber,error) { }
		}
	},
	_incrementalRefreshAfterLoad: function() { },
	_dvmode: 'enter',
	_hasDetailView: false,
	deselectAll: function() { 	
	var _dlgObj = window[this._hostComponentId + '_DlgObj']; 
	_dlgObj.setValue(this.listVariableName,'',true);
	this._deselectAll();
	if(this.nullOutDetailViewRecord) {
		this.nullOutDetailViewRecord();
		for(var i = 0; i < this.childLists.length; i++) { 
			var lname = this.childLists[i];
			var lobjC = DLG1_DlgObj.getControl(lname);
			lobjC.nullOutDetailViewRecord();
		}
		if(this._noRecordInListIsSelectedSettingForDetailView ==  'disabledetailview') { 
			this.disableDetailView()
			for(var i = 0; i < this.childLists.length; i++) { 
				var lname = this.childLists[i];
				var lobjC = DLG1_DlgObj.getControl(lname);
				lobjC.disableDetailView();
			}
		}
	}
}
,
	showHideColumn: function(columnNumber,flagShow,layoutName) { 	if(typeof layoutName == 'undefined') layoutName = this.layout;
	this.layouts[layoutName].columns[columnNumber].show = flagShow;
	this.refresh();
}
,
	showAllColumns: function() { 
	var l = this.layouts
	var c = '';
	for(var n in l) { 
		c = l[n].columns;
		if(typeof c != 'undefined') { 
			for(var i = 0; i < c.length; i++) { 
				c[i].show = true;
			}
		}
	}
	this.refresh();
}
,
	_hideColumns: function() { 
}
,
	theme: 'Alpha',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'top',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	listVariableName: 'BUSCAT',
	listVariableNameTrueCase: 'BUSCAT',
	_hostComponentId: 'DLG1',
	_includeCRC: true,
	allParentLists: [],
	__flagPersist: false,
	__flagIncrementalRefreshAfterLoad: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	childLists: [],
	childListEndpoints: ['BUSCAT'],
	_populateAllChildLists: function() { },
	onSelect: function() {DLG1_DlgObj._listRowSelect('BUSCAT',this);
 this._selectedRow = this.selection[0];if(typeof this._selectedRow != 'undefined') { };;
this._selectedRow = this.selection[0];
;},
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('BUSCAT',this.selection[0]);},
	layouts: {
		Default: {
			type: 'column',
			showColumnTitles: true,
			item: {
			},
			columns: [
				{
					header: {
						html: 'CategoryID'
					},
					resize: false,
					data: {
						template: '<span id="DLG1.BUSCAT.CATEGORYID.I.{*dataRow}">{CategoryID}</span>&nbsp;'
					},
					order: 'CategoryID',
					width: 'flex(1)'
				},
				{
					header: {
						html: 'BusinessCategory'
					},
					resize: false,
					data: {
						template: '<span id="DLG1.BUSCAT.BUSINESSCATEGORY.I.{*dataRow}">{BusinessCategory}</span>&nbsp;'
					},
					order: 'BusinessCategory',
					width: 'flex(1)'
				}			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		onListReady: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterRefreshData: function(e) {},
		afterServerSideSummaryCompute: function(summary) {},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('BUSCAT',event,obj);
}
,
	_selectAll: function() {
	var v = this._values;
	var v2 = [].concat(v);
	this.setValue(v2,false);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql' || this._dataSourceType.toLowerCase() == 'dbf') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	setListSize: function(height,width) {
	var l = $(this.contId);
	if(typeof height != 'undefined') l.style.height = ''+ height; 
	if(typeof width != 'undefined') l.style.width = '' + width;
	this.resize();
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	var _vals = [];
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
				if(o.v1 != '') {
					if(_vals.indexOf(o.v1) == -1) { 
						_vals.push(o.v1);
					}
				}
				if(o.v2 != '') {
					if(_vals.indexOf(o.v2) == -1) { 
						_vals.push(o.v2);
					}
				}
			}
		}
	}
	if(flag) { 
		if(typeof this._state.highlight == 'undefined') this._state.highlight = {};
		this._state.highlight[field.toUpperCase()] = _vals;
	} else { 
		//this._state.highlight[field.toUpperCase()] = [];
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartOperator: '&&',
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	this._state.highlight = {};
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		var _highlight = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		var operator = '&&';
		if(typeof this._searchPartOperator != 'undefined') operator = this._searchPartOperator;
		expn = expn.join(' '+operator+' ');
	} 
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this._state.highlight = {};
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	detailViewIsDirty: function() { return false; },
	populateUXControls: function() { return true; },
	listIsDirty: function() { return false; },
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	allowTextSelection: false,
	allowAnyValue: false,
	allowNullDeselection: false,
	loopNavigate: false,
	loopNavigateNullSelection: false,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('BUSCAT'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=BUSCAT&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
searchFor =  searchFor.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({'CategoryID': RegExp('' + searchFor,'i'), 'BusinessCategory': RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.BUSCAT.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		_d2 = $u.s.pad(_d2,len,' ','l');
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	if(DLG1_DlgObj._listStateChange) DLG1_DlgObj._listStateChange(this.listVariableName);
	var ele = '';
	ele = $('DLG1.BUSCAT.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.BUSCAT.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.BUSCAT.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.BUSCAT.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons	
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.BUSCAT'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.BUSCAT'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.BUSCAT'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.BUSCAT'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_BUSCAT');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode != 'rowNumber') { 
		var _d = this.getData(this.selection[0]);
		if(typeof _d.__primaryKey == 'undefined') { 
			mode = 'rowNumber';
		}
	}
	if(mode == 'rowNumber') {
		obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	} else {
		var _d = this.getData(this.selection[0]);
		var _pk = _d.__primaryKey;
		if(typeof _d.__primaryKey == 'undefined') { 
			_pk = _d['*rowGUID'];
		}
		obj.push({list: this.listVariableName, row: _pk});
	}
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_getRouteOLD: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var mode = typeof arguments[1] != 'undefined' ? arguments[1] : 'rowNumber'; //
	if(mode == 'primaryKey') { 
		if(typeof this._data != 'undefined') { 
			var _d = this._data;
			if(typeof _d[0] != 'undefined') { 
				if(typeof _d[0].__primaryKey == 'undefined') { 
					mode = 'rowNumber';
				}
			}
		}
	}
	var lObj = '';
	var row = '';
	var _pk = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		if(mode == 'primaryKey') _pk = row;
		/*
		if(mode != 'rowNumber') { 
			var _d = lObj._rData;
			var _i2 = -1;
			for(var j = 0; j < _d.length; j++) { 
				if(_d[j].__primaryKey == row) { 
					_i2 = j;
					break;
				}
			}
			row = _i2
		}
		*/
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(mode == 'rowNumber') { 
			if(typeof row != 'undefined') {
				var rowFixed = '';
				if(typeof lObj._dataMap == 'undefined') return false;
				if(mode != 'rowNumber')  { 
					rowFixed = row;
					} else {
				rowFixed = lObj._dataMap.indexOf(route[i].row);
				}
				lObj.setValue(rowFixed,flag);
				if(this._clearServerSideErrors) this._clearServerSideErrors();
				if(this._showServerSideErrors) this._showServerSideErrors();
				if(this._showWriteConflictErrors) this._showWriteConflictErrors();
			}
		} else { 
			lObj.setValue(''+_pk,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false,
	items: {
},
	_searchHighlighting: false
};
DLG1_DlgObj._listViewSettings['GENADMINLIST'] = {
	_hasDependentLists: false,
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'fname',
		defaultValue: 'return this._controlDefaultValueForListField(\'fname\');'
	},
	{
		name: 'lname',
		defaultValue: 'return this._controlDefaultValueForListField(\'lname\');'
	},
	{
		name: 'address',
		defaultValue: 'return this._controlDefaultValueForListField(\'address\');'
	},
	{
		name: 'city',
		defaultValue: 'return this._controlDefaultValueForListField(\'city\');'
	},
	{
		name: 'state',
		defaultValue: 'return this._controlDefaultValueForListField(\'state\');'
	},
	{
		name: 'zip',
		defaultValue: 'return this._controlDefaultValueForListField(\'zip\');'
	},
	{
		name: 'regstatus',
		defaultValue: 'return this._controlDefaultValueForListField(\'regstatus\');'
	},
	{
		name: 'UserType',
		defaultValue: 'return this._controlDefaultValueForListField(\'UserType\');'
	},
	{
		name: 'companyid',
		defaultValue: 'return this._controlDefaultValueForListField(\'companyid\');'
	},
	{
		name: 'BusinessName',
		defaultValue: 'return this._controlDefaultValueForListField(\'BusinessName\');'
	}
],
	_delayRenderTillRefresh: false,
	_searchPartHas: true,
	_searchPart: {
		fieldMap: [
	{
		field: 'fname',
		control: 'SEARCH_Fname1'
	},
	{
		field: 'lname',
		control: 'SEARCH_LName1'
	},
	{
		field: 'city',
		control: 'SEARCH_city2'
	},
	{
		field: 'state',
		control: 'SEARCH_state2'
	},
	{
		field: 'zip',
		control: 'SEARCH_zip2'
	},
	{
		field: 'regstatus',
		control: 'regstatus'
	}
]
	},
	_searchPartStyle: 'individualcontrols',
	_searchFieldOptions: {
"FNAME" : {option: 2,qbf: false,type: 'c'},
"LNAME" : {option: 2,qbf: false,type: 'c'},
"ADDRESS" : {option: 2,qbf: false,type: 'c'},
"CITY" : {option: 2,qbf: false,type: 'c'},
"STATE" : {option: 2,qbf: false,type: 'c'},
"ZIP" : {option: 2,qbf: false,type: 'c'},
"REGSTATUS" : {option: 2,qbf: false,type: 'c'},
"USERTYPE" : {option: 2,qbf: false,type: 'c'},
"COMPANYID" : {option: 2,qbf: false,type: 'c'},
"BUSINESSNAME" : {option: 2,qbf: false,type: 'c'}
},
	_showSearchDebugInfo: false,
	_mediaFields: [],
	_mediaTypes: {
},
	_mediaFieldReadOnly: [],
	_phoneGap: {
		mediaFiles: {
			protectedRead: false,
			target: 'server',
			targetFilenameFunction: 'return \'<DeviceId>_\' +e.object.listFieldName + \'_\' + A5.ts() + \'_\' +e.name',
			showProgress: false,
			download: {
				autodownloadFilesOnPullSynch: false,
				deleteOrphansAfterSync: false,
				targetFolder: '_AAFiles',
				showProgress: false,
				targetFileSystem: 'persistent'
			},
			onErrorFunction: function(array,fileNumber,error) { }
		}
	},
	_incrementalRefreshAfterLoad: function() { },
	_dvmode: 'enter',
	_hasDetailView: true,
	deselectAll: function() { 	
	var _dlgObj = window[this._hostComponentId + '_DlgObj']; 
	_dlgObj.setValue(this.listVariableName,'',true);
	this._deselectAll();
	if(this.nullOutDetailViewRecord) {
		this.nullOutDetailViewRecord();
		for(var i = 0; i < this.childLists.length; i++) { 
			var lname = this.childLists[i];
			var lobjC = DLG1_DlgObj.getControl(lname);
			lobjC.nullOutDetailViewRecord();
		}
		if(this._noRecordInListIsSelectedSettingForDetailView ==  'disabledetailview') { 
			this.disableDetailView()
			for(var i = 0; i < this.childLists.length; i++) { 
				var lname = this.childLists[i];
				var lobjC = DLG1_DlgObj.getControl(lname);
				lobjC.disableDetailView();
			}
		}
	}
}
,
	showHideColumn: function(columnNumber,flagShow,layoutName) { 	if(typeof layoutName == 'undefined') layoutName = this.layout;
	this.layouts[layoutName].columns[columnNumber].show = flagShow;
	this.refresh();
}
,
	showAllColumns: function() { 
	var l = this.layouts
	var c = '';
	for(var n in l) { 
		c = l[n].columns;
		if(typeof c != 'undefined') { 
			for(var i = 0; i < c.length; i++) { 
				c[i].show = true;
			}
		}
	}
	this.refresh();
}
,
	_hideColumns: function() { 
}
,
	_noRecordInListIsSelectedSettingForDetailView: 'none',
	_captureLocation: false,
	_detailViewHas: true,
	_submitLocationInfo: false,
	_detailView: {
		method: 'fieldMap',
		fieldMap: [
	{
		field: 'fname',
		control: 'Fname'
	},
	{
		field: 'lname',
		control: 'LName'
	},
	{
		field: 'city',
		control: 'city1'
	},
	{
		field: 'state',
		control: 'state1'
	},
	{
		field: 'zip',
		control: 'zip1'
	},
	{
		field: 'regstatus',
		control: 'regstatus'
	},
	{
		field: 'BusinessName',
		control: 'busibessname2'
	}
]
	},
	_detailViewGlobalErrorStyle: 'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;',
	_autoCommitDetailView: true,
	_synchBatchSize: 0,
	_resetMediaFileUploadErrorsFlag: function(data) {
var r = A5.u.object.each(data,function(name,value,path,result){
	if(name == '_flagMediaFileUploadError') {
		result.push({value: false, path: path})
	}
});
for(var i = 0; i < r.length; i++) {
	A5.u.object.set(data,r[i].path,r[i].value);
}
},
	theme: 'Alpha',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'top',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  {var _val = '' +(function(data) {if(typeof data.__primaryKey != 'undefined') {return data.__primaryKey;} else { 
try{var _pkArr = [];
_pkArr.push('' + data['userid']);
			var pk = _pkArr.join('|||');
			return pk;
		} catch(err) { return undefined }
}})(data); if((_val == '' ||  _val == 'undefined'  )&& typeof data['*rowGUID'] != 'undefined') _val = '_temporaryValue_' + data['*rowGUID']; return _val;}},
	listVariableName: 'GENADMINLIST',
	listVariableNameTrueCase: 'GENADMINLIST',
	_hostComponentId: 'DLG1',
	_includeCRC: true,
	allParentLists: [],
	__flagPersist: false,
	__flagIncrementalRefreshAfterLoad: false,
	onPopulate: function(data) {	
	var ls = DLG1_DlgObj._localStorageSettings;
		if(typeof ls == 'object') {
			var lsr = ls.restore;
			if(typeof lsr != 'undefined') { 
				if(!lsr.data) { 
					//since ux does not restore from storage (which would have fired _fetchMediaFiles(), we fire it here
					var lObj = this;
					DLG1_DlgObj._delayTillPhoneGapReady(lObj._fetchMediaFiles,lObj);
				}
			}
		}
},
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	synchronizeImmediately: false,
	pushServerEditsToClient: false,
	customization: {
		dv: {
			clientSideErrorWarning: 'Cannot save because there are validation errors.',
			dirtyDetailViewRecord: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'You must first save or undo the changes you have made to the List\'s Detail View.'
			},
			confirmFormResetWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to undo changes made to the List\'s Detail View?'
			},
			confirmRowResetWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to undo changes made to this record?'
			},
			confirmDeleteWarning: {
				title: 'Warning',
				icon: 'svgIcon=#alpha-icon-questionCircle:icon',
				message: 'Are you sure you want to delete this record?'
			},
			writeConflict: {
				useMineMessage: 'Use mine (\'{myvalue}\')',
				useTheirsMessage: 'Use theirs (\'{theirvalue}\')',
				useMineAll: 'Use mine for all fields',
				useTheirsAll: 'Use theirs for all fields'
			},
			databaseError: {
				update: 'Record was not updated.|More...|Less',
				insert: 'Record was not inserted.|More...|Less',
				delete: 'Record was not deleted.|More...|Less'
			},
			useCustomClasses: false,
			setClassonEditedRows: true,
			css: {
			}
		}
	},
	onItemDraw: function(ele,data,index) {
	var _dirtyRowClassName = '_DLG1_GENADMINLIST_dirtyRow';
	var _dirtyRowClassNameInherited = '_DLG1_GENADMINLIST_dirtyRowInherited';
	var _dirtyRowStyle = '_DLG1_GENADMINLIST_dirtyRowStyle';
	var _errorRowClassName = '_DLG1_GENADMINLIST_hasError';
	var _errorRowClassNameInherited = '_DLG1_GENADMINLIST_hasErrorInherited _DLG1_GENADMINLIST_dirtyRowInherited';
	var _errorRowClassNameInherited_1 = '_DLG1_GENADMINLIST_hasErrorInherited';
	var _errorRowClassNameInherited_2 = '_DLG1_GENADMINLIST_dirtyRowInherited';
	var _errorRowStyle = '_DLG1_GENADMINLIST_hasErrorStyle';
	var _newRowClassName = '_DLG1_GENADMINLIST_newRow';
	var _newRowStyle = '_DLG1_GENADMINLIST_newRowStyle';
	var _deletedRowClassName = '_DLG1_GENADMINLIST_deletedRow';
	var _deletedRowStyle = '_DLG1_GENADMINLIST_deletedRowStyle';
	var _deletedRowClassNameInherited = '_DLG1_GENADMINLIST_deletedRowInherited';
	var __d = this._rData[index];
	$rcn(ele,_dirtyRowClassName);
	$rcn(ele,_dirtyRowClassNameInherited);
	$rcn(ele,_dirtyRowStyle);
	$rcn(ele,_errorRowClassName);
	$rcn(ele,_errorRowClassNameInherited);
	$rcn(ele,_errorRowClassNameInherited_1);
	$rcn(ele,_errorRowClassNameInherited_2);
	$rcn(ele,_errorRowStyle);
	$rcn(ele,_newRowClassName);
	$rcn(ele,_newRowStyle);
	$rcn(ele,_deletedRowClassName);
	$rcn(ele,_deletedRowStyle);
	if(data._isDirty && typeof data._isDeleted != 'undefined' && data._isDeleted) { 
		$acn(ele,_deletedRowClassName);
		$acn(ele,_deletedRowStyle);
		__d.__displayStyle = 'deletedRow';
	} else if (data._isDirty && typeof data._oldData != 'undefined' && !data._isNewRow ) { 
		$acn(ele,_dirtyRowClassName);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRow';
	} 
	if(data._isDirty && typeof data._oldData == 'undefined' && ! (data._isNewRow || data._isDeleted) ) { 
		$acn(ele,_dirtyRowClassNameInherited);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRowInherited';
	} 
	if(data._isDeleted) { 
		$acn(ele,_deletedRowClassName);
		$acn(ele,_deletedRowStyle);
		__d.__displayStyle = 'deletedRow';
	} 
	if(data._isNewRow) { 
		$acn(ele,_newRowClassName);
		$acn(ele,_newRowStyle);
		__d.__displayStyle = 'newRow';
	} 
	var flagHasGlobalErrors = false;
	if(typeof data._globalErrors != 'undefined') {
		if( data._globalErrors != '')  flagHasGlobalErrors = true;
	}
	var flagHasWriteConflictErrors = false;
	if(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors
	if(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {
		$acn(ele,_errorRowClassName);
		$acn(ele,_errorRowStyle);
		__d.__displayStyle = 'errorRow';
	} else { 
		if(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){
			 if(!data._isNewRow) {
			 	$acn(ele,_errorRowClassNameInherited);
				 __d.__displayStyle = 'errorRowInherited';
			} else {
				__d.__displayStyle = 'newRow errorRowInherited'; 
				$acn(ele, _errorRowClassNameInherited_1);
			}
		}
	}},
	childLists: [],
	childListEndpoints: ['GENADMINLIST'],
	_populateAllChildLists: function() { },
	onSelect: function() { this.populateUXControls();
this._selectedRow = this.selection[0];
DLG1_DlgObj._listRowSelect('GENADMINLIST',this);
 this._selectedRow = this.selection[0];if(typeof this._selectedRow != 'undefined') { DLG1_DlgObj.panelSetActive('PANELCARD_8');};
;},
	onBeforeSelect: function() {
	var c = this.childLists;
	var lObj = '';
	if(typeof c != 'undefined') { 
		for(var i = 0; i < c.length; i++) {
			lObj = DLG1_DlgObj.getControl(c[i]);
			if(lObj) {
				var flag = lObj.onBeforeSelect();
				if(typeof flag != 'undefined') { 
					if(!flag) return false;
				}
			}
		}
	}
	if(this._dvmode == 'search') return true;
	if(!this._autoCommitDetailView) { 
		return this._showDirtyDetailViewWarning(); 
	} else { 
		if(this.detailViewIsDirty && this.detailViewIsDirty(true)) { 
			var result =  this.updateListFromUXControls();  
			return result;
		}
	}},
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('GENADMINLIST',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
			},
			template: [
				'<div style="display: table; width: 100%;">',
				'\t<div style="display: table-cell; vertical-align: middle;">',
				'\t\t<div class="listItemPartMain" style="float: right;"><span id="DLG1.GENADMINLIST.REGSTATUS.I.{*dataRow}">{regstatus}</span></div>',
				'\t\t<div class="listItemPartMain"><span id="DLG1.GENADMINLIST.FNAME.I.{*dataRow}">{fname}</span>,&nbsp <span id="DLG1.GENADMINLIST.LNAME.I.{*dataRow}">{lname}</span></div>',
				'\t\t<div class="listItemPartSub" style="float: left;"><span id="DLG1.GENADMINLIST.ADDRESS.I.{*dataRow}">{address}</span></div>',
				'\t\t\t<br>\t',
				'\t\t<div class="listItemPartSub" style="float: left;><span id="DLG1.GENADMINLIST.CITY.I.{*dataRow}">{city}</span>,&nbsp</div>',
				'\t\t<div class="listItemPartSub" style="float: left;><span id="DLG1.GENADMINLIST.STATE.I.{*dataRow}">{state}</span>,&nbsp</div>\t',
				'\t\t<div class="listItemPartSub"><span id="DLG1.GENADMINLIST.ZIP.I.{*dataRow}">{zip}</span> </div>',
				'\t</div>',
				'\t',
				'\t<div style="display: table-cell; width: 40px; text-align: right; vertical-align: middle;">',
				'\t\t<svg  class="icon"><use x="0" y="0" width="100%" height="100%" xlink:href="#alpha-icon-chevronRight" /></svg>',
				'\t</div>',
				'</div>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		onListReady: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterRefreshData: function(e) {},
		afterServerSideSummaryCompute: function(summary) {},
		detailView: {
			canUpdateList: function(e) {},
			hasClientSideValidationErrors: function(e) {},
			afterUpdateList: function(e) {},
			canSynchronizeList: function(e) {},
			afterSynchronizeListBatch: function(e) {},
			canCancelBatch: function(e) {},
			afterCancelBatch: function(e) {},
			afterSynchronizeList: function(e) {},
			beforeSynchronizeListBatchStart: function(e) {},
			afterSynchronizeListBatchEnd: function(e) {},
			afterRefreshListIncremental: function(e) {},
			canResetRow: function(e) {},
			canDeleteRow: function(e) {},
			canUndoEdits: function(e) {},
			afterResetRow: function(e) {},
			afterDeleteRow: function(e) {},
			afterUndoEdits: function(e) {},
			canNewRecord: function(e) {},
			afterNewRecord: function(e) {},
			beforeDetailViewPopulate: function(e) {},
			afterDetailViewPopulate: function(e) {},
			afterListRowSelectCancelled: function(e) {},
			modeChanged: function(e) {},
			beforeMediaFilesUploaded: function(e) {},
			afterMediaFilesUploaded: function(e) {},
			onMediaFilesUploadErrors: function(e) {},
			beforeMediaFilesDownloaded: function(e) {},
			afterMediaFilesDownloaded: function(e) {},
			beforeDeleteOrphanMediaFiles: function(e) {},
			afterDeleteOrphanMediaFiles: function(e) {}
		},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('GENADMINLIST',event,obj);
}
,
	_selectAll: function() {
	var v = this._values;
	var v2 = [].concat(v);
	this.setValue(v2,false);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql' || this._dataSourceType.toLowerCase() == 'dbf') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	setListSize: function(height,width) {
	var l = $(this.contId);
	if(typeof height != 'undefined') l.style.height = ''+ height; 
	if(typeof width != 'undefined') l.style.width = '' + width;
	this.resize();
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	var _vals = [];
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
				if(o.v1 != '') {
					if(_vals.indexOf(o.v1) == -1) { 
						_vals.push(o.v1);
					}
				}
				if(o.v2 != '') {
					if(_vals.indexOf(o.v2) == -1) { 
						_vals.push(o.v2);
					}
				}
			}
		}
	}
	if(flag) { 
		if(typeof this._state.highlight == 'undefined') this._state.highlight = {};
		this._state.highlight[field.toUpperCase()] = _vals;
	} else { 
		//this._state.highlight[field.toUpperCase()] = [];
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartOperator: '&&',
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	this._state.highlight = {};
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		var _highlight = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		var operator = '&&';
		if(typeof this._searchPartOperator != 'undefined') operator = this._searchPartOperator;
		expn = expn.join(' '+operator+' ');
	} 
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this._state.highlight = {};
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	_debugListData: function() { 		var debugObj = this._data[this.selection[0]];
		if(typeof debugObj == 'undefined') {alert('no active row'); return false;}
			var debugTxt = JSON.stringify(debugObj,'','\t'); 
		debugTxt = debugTxt.split('\t').join('    '); 
		var ele = $('DLG1.V.R1.'); 
		if(ele) {
			ele.innerHTML = '<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>';
			ele.firstChild.innerText = debugTxt; 
			if(ele.firstChild.innerHTML == '')  { ele.firstChild.innerHTML = debugTxt }      
		}
},
	_refreshDebugInfo: function() {},
	_showSQL_CRUD: function(txt) { },
	flagShowAlerts: true,
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	allowTextSelection: false,
	allowAnyValue: false,
	allowNullDeselection: false,
	loopNavigate: false,
	loopNavigateNullSelection: false,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('GENADMINLIST'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=GENADMINLIST&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
searchFor =  searchFor.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({'fname': RegExp('' + searchFor,'i'), 'lname': RegExp('' + searchFor,'i'), 'address': RegExp('' + searchFor,'i'), 'city': RegExp('' + searchFor,'i'), 'state': RegExp('' + searchFor,'i'), 'zip': RegExp('' + searchFor,'i'), 'regstatus': RegExp('' + searchFor,'i'), 'UserType': RegExp('' + searchFor,'i'), 'companyid': RegExp('' + searchFor,'i'), 'BusinessName': RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.GENADMINLIST.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		_d2 = $u.s.pad(_d2,len,' ','l');
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	if(DLG1_DlgObj._listStateChange) DLG1_DlgObj._listStateChange(this.listVariableName);
	var ele = '';
	ele = $('DLG1.GENADMINLIST.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.GENADMINLIST.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.GENADMINLIST.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.GENADMINLIST.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons	
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.GENADMINLIST'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.GENADMINLIST'];
	if(ele) {
		if(this._state.page == this._state.pageCount || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.GENADMINLIST'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.GENADMINLIST'];
	if(ele) {
		if(this._state.page == 1 || this._state.pageCount == 0 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_GENADMINLIST');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode != 'rowNumber') { 
		var _d = this.getData(this.selection[0]);
		if(typeof _d.__primaryKey == 'undefined') { 
			mode = 'rowNumber';
		}
	}
	if(mode == 'rowNumber') {
		obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	} else {
		var _d = this.getData(this.selection[0]);
		var _pk = _d.__primaryKey;
		if(typeof _d.__primaryKey == 'undefined') { 
			_pk = _d['*rowGUID'];
		}
		obj.push({list: this.listVariableName, row: _pk});
	}
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_getRouteOLD: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection == 'undefined') return false;
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		if(lObj) lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var mode = typeof arguments[1] != 'undefined' ? arguments[1] : 'rowNumber'; //
	if(mode == 'primaryKey') { 
		if(typeof this._data != 'undefined') { 
			var _d = this._data;
			if(typeof _d[0] != 'undefined') { 
				if(typeof _d[0].__primaryKey == 'undefined') { 
					mode = 'rowNumber';
				}
			}
		}
	}
	var lObj = '';
	var row = '';
	var _pk = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		if(mode == 'primaryKey') _pk = row;
		/*
		if(mode != 'rowNumber') { 
			var _d = lObj._rData;
			var _i2 = -1;
			for(var j = 0; j < _d.length; j++) { 
				if(_d[j].__primaryKey == row) { 
					_i2 = j;
					break;
				}
			}
			row = _i2
		}
		*/
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(mode == 'rowNumber') { 
			if(typeof row != 'undefined') {
				var rowFixed = '';
				if(typeof lObj._dataMap == 'undefined') return false;
				if(mode != 'rowNumber')  { 
					rowFixed = row;
					} else {
				rowFixed = lObj._dataMap.indexOf(route[i].row);
				}
				lObj.setValue(rowFixed,flag);
				if(this._clearServerSideErrors) this._clearServerSideErrors();
				if(this._showServerSideErrors) this._showServerSideErrors();
				if(this._showWriteConflictErrors) this._showWriteConflictErrors();
			}
		} else { 
			lObj.setValue(''+_pk,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false,
	items: {
},
	_searchHighlighting: false
};
DLG1_DlgObj._listViewData['GENERATORSLIST'] = A5DataArrayToObject(['companyid','CategoryID','BusinessName','OpMan','userid','telephone','address1','city1','state1','zip1','AuthorizedAgent','AgentSignature','AgentTitle','Gendate','Status','__primaryKey','__a5crc'],[ [ "CWTG" , "2" , "Colorado Tires Inc" , "Manny Pacway-O" , "gens1@gens.com" , "(454) 353-45" , "345 Bonifacio St" , "Baguio" , "District of Columbia" , "34571" , "Joel Mcham" , "iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAYAAADGFbfiAAAQRUlEQVR4Xu3dd4g1VxkH4C8xiTUJFozGElCDGhuxIBbwEwuIDUsCYsEeK6jRqCi6okiMgoKCHf+IoiYWbIgaMbaAJBoSNShqCLaosWBiN5b3hTt4c927e+/ZuXPmzD4Dh9399p5z5jxnvvvbmTvlkAMWAgQIECBQIHBIQR1VCBAgQIDAAQFiIyBAgACBIgEBUsSmEgECBAgIENsAAQIECBQJCJAiNpUIECBAQIDYBggQIECgSECAFLGpRIAAAQICxDZAgAABAkUCAqSITSUCBAgQECC2AQIECBAoEhAgRWwqESBAgIAAsQ0QIECAQJGAACliU4kAAQIEBIhtgAABAgSKBARIEZtKBAgQICBAbAMECBAgUCQgQIrYVCJAgAABAWIbIECAAIEiAQFSxKYSAQIECAgQ2wABAgQIFAkIkCI2lQgQIEBAgNgGCBAgQKBIQIAUsalEgAABAgLENkCAAAECRQICpIhNJQIECBAQILYBAgQIECgSECBFbCoRIECAgACxDRAgQIBAkYAAKWJTiQABAgQEiG2AAAECBIoEBEgRm0oECBAgIEBsAwQIECBQJCBAithUIkCAAAEBYhsgQIAAgSIBAVLEphIBAgQICBDbAAECBAgUCQiQIjaVCBAgQECA2AYIECBAoEhAgBSxqUSAAAECAsQ2QIAAAQJFAgKkiE0lAgQIEBAgtgECBAgQKBIQIEVsKhEgQICAALENECBAgECRgAApYlOJAAECBASIbYAAAQIEigQESBHbrpVOiFdcsuurvIAAAQINCwiQ/ifvtdHkyVHu1H/TWiRAgMB4BARIf3ORex1nz8pWf81qiQABAuMUECD9zEu313GSQ1f9gGqFAIHxCwiQvc2RvY69+alNgEDDAgKkfPLsdZTbqUmAwAQEBMj6k2ivY30zNQgQmKCAAFlvUu11rOfl1QQITFhAgKw2ufY6VnPyKgIE9pGAANl9su117G7kFQQI7EMBAbJ80u117MP/EIZMgMDqAgJkeyt7HatvQ15JgMA+FRAg15x4ex379D+CYRMgsL6AAPmf2VB7HdeNLo9aKEcu/Hz6+lOpBgECBIYV2O8BclxwH4xyWpS8j9XWDvyLb/KLIbDqz/+MPq5cKFfN/Xx0fH/L2XoNuzXojQABAmsITD1ADlv4y/74+Pm+Ue4R5c5RDo3y0ygXR7l64bVdIHTBMf8mvxgA6/yc/ey2fCVe8Loo5+72Qr8nQIBALYGWA+SNS97w5/cEDo/X/D3Kf6IcMft6RXz9RZSfRPlllN3e/LvgGHKOHjALkINDdqovAgQIrCPQaoCcFYPMQ0HnLQTA9eLnfA7HiVHuM4PIv+K7ctk6OJVf28JeyKfD6Ngo96xspXsCBCoItBoguUeR6959hpF/qWfJf2s1MBanv4W9kHfFSj9qFiIVNl9dEiBQU6DFAMlnbpwxQ5tSYGy3HYx9LyTPXNuaBXfN7VjfBAhUEGgxQJLpqbM9jcsqmA3Z5dj3QjJATonyyCjfHhJGXwQI1BcYa4CcGjQ3j/LS+kTV12DMeyEZIBke75mV6lhWgACB4QTGGiBPDIKHRXnScBSj7WnMeyEZIHeJkic0PGG0glaMAIGNCIw1QB4Uo31llAdvZNTtNTrWvZAMkDxV+iVR8gw4CwEC+0hgrAGSp+J+NEpe7Gc5cOBPgXBMlD+PDCMDJLeh+0V5U5RzRrZ+VocAgQ0KjDVAbhxj/mGUm2xw7K00nRc8PiTKpT2scH6udHkP7XRNdAHy2/iH20d5YY9ta4oAgZELjDVAki2Pq+eNB1e59cfImYtX75tR82VR8oLJvS75Zp8nJeRnFZ/da2Oz+l2AvD9+znW9dU/taoYAgQYExhwgPwu/vJr85w04bmIVPxGNnhnlkz013r3JPybay1Nut3potwuQbOs7UZ4R5cIe2tUEAQINCIw5QM4Pv+dGuaABx75X8Z3R4EVR8krvvpYfREOPjpKHBvONP28/kqfg7mWZD5AMkbxDQN4E0kKAwD4QGHOAfCb83x2lr8MtrUzn/JtyX+u83WdKj4jG8/qNvDNx6eci8+ua9x/LvZy797XS2iFAYNwCYw6Q9wbdt6K8b9yEva7dc6K1u0XJPa8+l7xfVR5eyj2Q+SU/VM/DWc8uDOrFsMtb4+cZWXn40UKAwMQFxhwgrw/7vBX7GyY+B93w8rOJJ0d57AbGm6fY/i5Kdw+xxS5yb6/kc5HFAHl7tJOHyN6xgTFokgCBkQmMOUCeH1Z3jPKCkZltYnXyIVdvnv31von2vxGNvjxKnim1bCn5XGQxQPLCz+wnTzu2ECAwcYExB8jjwj5POX38xOfgNjG+L0W57QbH2d3+frcuus9F8hkfqyzbfV7zl6iYn7n8dZUGvIYAgXYFxhwg3dXN92+X9//WPE8KyKcgdkveBuRFUW6wwTGu65gfhuchrXwu+27LdgHy4aj0qSgf2a2y3xMg0LbAmAMk/yL/QpTbtU18jbXPR+n+JkqeWfav2W+2Njy+06L93CPIQ0urLvk5TN7QMvcCd1o2ccbYquvodQQIVBYYc4BcP2x+HWWTf53X4H9adJrXebwiytsGWIHcG8jTa/Pxs+ssu33wnm0JkHVEvZbAxATGHCBJfVWUPNU0byY4teWtMaCHR8lTdr+8wcF196nKs7DWXc6dhcRXl1QUIOuKej2BCQmMPUB+FNb5XJAfT8h8fijHxw+5N/LHWZDk4a0+l7zBYe6B3GEPje70obgA2QOsqgRaFxh7gHw9gPO5IHka6pSX/MwhgyTLVo8DfXq0lR+i50WEpUs+MOpDUe66TQMCpFRVPQITEBh7gJwdxvlckI9NwHqVIeQb8vOi5GGtvJniXpc8PbiP53Q8M9q5d5RnLayQANnrDKlPoGGBsQfIfryy+aaxPeWeyNGzIMnDeCVL3uMqTxvOmyb2sWx3axkB0oesNgg0KjD2AHlVuOYzQV7dqO9eVjsf65tB8rkoLy5o6Kyok3twWfpaLo6G8vTe784aFCB9yWqHQIMCYw+QPHafzwTJQyj7dckLDU+Pkoe1PrAiwqaubs8wz7O5uuefC5AVJ8TLCExRYOwB0p3mmrfY2M/LtWPwuTeSH2jfawWIPHSVN0fM27X3vRyMBjM4Hjj7mtvQVt+daI8AgfELjD1A+j6OP/4Z2XkN88LDfNRvPuZ22XLD+EU+R/1GGxxsd3V7nuIrQDYIrWkCYxYYe4DcIvDymSCr3JdpzM59rVve7j3vdPuUHRrMw11/iJJnX21y+fgszPJJh1ub7EjbBAiMU2DsAXKtYMtnghy2C1/e5+n3szfO7mu+ieb3V46TvmitMjxy7+OhO9Re9c67RSuwUCkvgMwHfp3aR2PaIECgLYGxB0hqXhElnwuSt+TYbvl+/ON5UfKNMw/f5KGb/Np9n/fSWgyXZWHThU739W8jm868mO/MKPnUwu2WDNIcd95ny0KAAIGNCrQQIHnKaD4X5HvbSKxyFtChc6HShcvi1/ngmf9ddrlq2CyGz783MHPHRJsXRbnZkrZzXfMuxrkuFgIECGxUoIUAWXY19Qkh8/kox21Q6DrbhM+ysFn897wB5GKodD9fEr87J8r8s0FWHcayQ1T5XPM86eCUVRvyOgIECOxFoIUAyUM2+VyQD24z0HzwUb5p5umqeerq5XvB6LnuUdHesrDJ8MvHv+bnM3kn3gyT/Jp3H95t+VW8IA9h5a3u55c88yo/I7l0twb8ngABAn0ItBAg+azwfLN8y5IB5+3e86/v/Ms7r33IIMkHNrWw5F1y84rzDJP8mmc0dWGy7BbveQgrz8bKq8K75aT4JsvJLQzaOhIgMA2BFgJklc85utnICw4zSMa6V7LbVpMXCXZhkoGSIdLtoZw/q/zF+Jqhmof2uuWC2bgzQC0ECBAYRGBqAdKhtbxXMj/xGSLdHkrurWSYHBslr8E4Y/bCDJw8+yoPX1kIECAwmMBUA2QesNZeyeGxElmOWPJ1p991deZfc2S0kyGSQZHXx1wdJQ933SrK16JsDbbV6IgAAQIhsB8CpJvoxb2SC7d5c1/3TX2ncMhbjmT5x5KvO/2uq7PsNa+JNnNPJPc+8saJwsN/ZwIEBhfYTwEyj5t7JSdu8+a+lzf1+br5vYUAAQKTFtivATLpSTU4AgQIDCEgQIZQ1gcBAgQmKCBAJjiphkSAAIEhBATIEMr6IECAwAQFBMgEJ9WQCBAgMISAABlCWR8ECBCYoIAAmeCkGhIBAgSGEBAgQyjrgwABAhMUECATnFRDIkCAwBACAmQIZX0QIEBgggICZIKTakgECBAYQkCADKGsDwIECExQQIBMcFINiQABAkMICJAhlPVBgACBCQoIkAlOqiERIEBgCAEBMoSyPggQIDBBgRYCZILshkSAAIH2BQRI+3NoBAQIEKgiIECqsOuUAAEC7QsIkPbn0AgIECBQRUCAVGHXKQECBNoXECDtz6ERECBAoIqAAKnCrlMCBAi0LyBA2p9DIyBAgEAVAQFShV2nBAgQaF9AgLQ/h0ZAgACBKgICpAq7TgkQINC+gABpfw6NgAABAlUEBEgVdp0SIECgfQEB0v4cGgEBAgSqCAiQKuw6JUCAQPsCAqT9OTQCAgQIVBEQIFXYdUqAAIH2BQRI+3NoBAQIEKgiIECqsOuUAAEC7QsIkPbn0AgIECBQRUCAVGHXKQECBNoXECDtz6ERECBAoIqAAKnCrlMCBAi0LyBA2p9DIyBAgEAVAQFShV2nBAgQaF9AgLQ/h0ZAgACBKgICpAq7TgkQINC+gABpfw6NgAABAlUEBEgVdp0SIECgfQEB0v4cGgEBAgSqCAiQKuw6JUCAQPsCAqT9OTQCAgQIVBEQIFXYdUqAAIH2BQRI+3NoBAQIEKgiIECqsOuUAAEC7QsIkPbn0AgIECBQRUCAVGHXKQECBNoXECDtz6ERECBAoIqAAKnCrlMCBAi0LyBA2p9DIyBAgEAVAQFShV2nBAgQaF9AgLQ/h0ZAgACBKgICpAq7TgkQINC+gABpfw6NgAABAlUEBEgVdp0SIECgfQEB0v4cGgEBAgSqCAiQKuw6JUCAQPsCAqT9OTQCAgQIVBEQIFXYdUqAAIH2BQRI+3NoBAQIEKgiIECqsOuUAAEC7QsIkPbn0AgIECBQRUCAVGHXKQECBNoXECDtz6ERECBAoIqAAKnCrlMCBAi0LyBA2p9DIyBAgEAVAQFShV2nBAgQaF9AgLQ/h0ZAgACBKgICpAq7TgkQINC+gABpfw6NgAABAlUEBEgVdp0SIECgfQEB0v4cGgEBAgSqCAiQKuw6JUCAQPsCAqT9OTQCAgQIVBEQIFXYdUqAAIH2BQRI+3NoBAQIEKgiIECqsOuUAAEC7QsIkPbn0AgIECBQRUCAVGHXKQECBNoXECDtz6ERECBAoIqAAKnCrlMCBAi0LyBA2p9DIyBAgEAVAQFShV2nBAgQaF9AgLQ/h0ZAgACBKgICpAq7TgkQINC+gABpfw6NgAABAlUEBEgVdp0SIECgfQEB0v4cGgEBAgSqCAiQKuw6JUCAQPsC/wXXvO3Yx70gagAAAABJRU5ErkJggg==" , "Marketing Specialist" , "10/27/2017" , "Active" , "gens1@gens.com", "4294918912" ]
, [ "CWTI" , null , "Colorado Waste Tire Inc." , "Operator4" , "And@And.com" , "1234566" , "43 Summer Heights" , "Baguio" , "Alabama" , "32145" , "Agent 4" , "iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAYAAADGFbfiAAAb2ElEQVR4Xu2dC9h92VzHR3iMqKbBlEuMbkYUnlI0pYlcmsKYRIQmIiTqoZJJvSENRhTlMjRjiCiX0iQaDMqtCyrXZsyUBo1L5Tol1e/T/+zn2f8zZ5+99j77stY+n/U8v+c973v22uu3Pmu/53vW7bcud4RJAhKQgAQk0IPA5XrkMYsEJCABCUjgCAXEh0ACEpCABHoRUEB6YTOTBCQgAQkoID4DEpCABCTQi4AC0gubmSQgAQlIQAHxGZCABCQggV4EFJBe2MwkAQlIQAIKiM+ABCQgAQn0IqCA9MJmJglIQAISUEB8BiQgAQlIoBcBBaQXNjNJQAISkIAC4jMgAQlIQAK9CCggvbCZSQISkIAEFBCfAQlIQAIS6EVAAemFzUwSkIAEJKCA+AxIQAISkEAvAgpIL2xmkoAEJCABBcRnQAISkIAEehFQQHphM5MEJCABCSggPgMSkIAEJNCLgALSC5uZJCABCUhAAfEZkIAEJCCBXgQUkF7YzCQBCUhAAgqIz4AEJCABCfQioID0wmYmCUhAAhJQQHwGJCABCUigFwEFpBc2M0lAAhKQgALiMyABCUhAAr0IKCC9sJlJAhKQgAQUEJ8BCUhAAhLoRUAB6YXNTBKQgAQkoID4DEhAAhKQQC8CCkgvbMVnunzU4KvCjln9rF5/In5/U9j5xdfQCkhAAqMTUEBGRzxZAVfZIAh1kaiLxVfEtf8adsnqZ/X6avH7d4dddSUkiAn2zslqYUESkEAxBBSQvJvq6IaewqbeAzVZF4S6SNTf+2RLtb96JSSICfb1a4LyF3lj0zsJSGAKAgrIFJTby3hOXHLFlVjUxeE/GnoKm3oPn20vpvcV9EgqMeHnd4UhIlUPhZ+f6X13M0pAAkUSUEDyaDZ6B68LO3NNML6Yh3sbvUBE6qLCvEldUD6ase+6JgEJDEBAARkA4kC3eGLc55Zhdw5rG2IaqMhBb3PTNUGhR1IXFCfmB8XtzSQwPwEFZP42qHvAt/o/Cnt42Fl5udbZG+ZN6j0UJ+Y7IzSDBPImoIDk2T4MZR0Vdpc83evl1baJ+Wo+pdeNR8r0K2v3/dWRyvG2EiiWgAKSb9OdFK69NOxOYefk62Zvz+oT89V8Si4T84+NWh0f9sZV7fg/OTXsCr1ra0YJLJCAApJ3o35JuPfHYR8Oe0Derg7iXS4T80+K2rDS7fRarb40Xn8sjP02JglIIAgoIGU8BvcPN/lWTG/k7WW4PIiXc03MPy28f3/Y09dq8ZXx+wVh7M8xSWDvCSgg5TwC7A+hN3JuGMMp+5iGnpi/SUB81waQZ8Tf3hbG/pz1xFzOO8KuuY8NYJ0lUCeggJT3PDwqXL5HGMt9P1ie+4N6vGlifn0epanAp8QbPxh2cdgJaxedHb//edjzGzIfG39/fdj1B62NN5NAYQQUkMIabOXujeMny30ZanlqmVUYxWsm5tfnUdYF5TZxzVlhrKqCHULA6/NqHr0kXv/BypocvcGqDY4bpSbeVAIFEFBACmikLS7yLZphGHojny67KqN5XwnK90YJGCFffj/stWFsdEQIEJATah4wVMgw1itbvPqWeJ9eCm1gksDeEVBAym9yPhTpjTwo7PfKr84oNXjYSiROiZ8XhdU3OLJjnp7L88KY82DH/GvCWInFMFZbunlc8Nth3952oe9LYGkEFJDltOgLoioEZLz7cqo0SE2Y8H5D2M803I2J+Z8I+7GwSkw4L+WFYWeFpYSyp5fz62EIk0kCe0NAAVlWU98tqsMEMMt9+Ra97+meAeBeYScmgKjmQt4X1zK09bdh3xj2Davf63G9Nt2OuZVfDPu+hLK8RAKLIKCALKIZD6vEleI3xvD/Mewhy6tepxp9eVz9oTAO0GpL3xMXVHMhLO29d9jfhbFxsD7kxeumHfMI1U+F/UBbYb4vgSUQUECW0Iqb68AH2SPD6I0wjLOviXAk7JuhB9GWql7Is+LCO4Z9oCHDth3zzKeQ9+S2wnxfAqUTUEBKb8Ht/l8n3qY3gh0su6qNtfv5eIejen8hof5VL+TYuJbX/5SQh0vWd8zzt8+FPS7MM+YTIXpZeQQUkPLarI/HRJZlqS+9kX/pc4OC83xT+M6ejhsl1oFeCMtybxhGPKw+iYl5en+3CuN/rB7KnuGvfe4R9uFpnkwJKCCZNswIbt0s7klP5LQwlp3uU2LHPpPcFyZUmp4He0TotXCk8C7pJyMz3A/CqnkUhr+YnK9PyqcMr+3ih3klMAoBBWQUrFnflACBrCyiN/KfWXs6nHO/FbdiUQE791MSRwnfISxlH0jb/R4aF3xdGHtRqtRlYr7t/r4vgdkIKCCzoZ+14NtF6fRG7hNG2I6lp9tHBX92JQopdf3fuIi9IyekXJxwzc/FNdcIYz6mKeUSyj6hOl4igUMEFJD9fhJeHNX/Qhh7JZaeqOeVw/67paIsg2bo6i1h6zGydmH0S5GZez868SZNoezvm5jfyyQwOgEFZHTE2Rfwo+HhM8MY0mICeanp5VExwpW8oqWC7Blh9RWLDtZjZO3KhjNdGDZkdVbXxPkk/L9eGkYMLpMEZieggMzeBFk4wCohhrTYQMdQzxLT/aJStwwjbMm2xLkrcCBU/KZIvbuyeWLcgJMNibWVmgj4+Kqwz6/aiR4SiyFMEpiVgAIyK/7sCideFJO+9Eb+ITvvdnOoLgzb7nTdeJNVUdcLq+9O3630w3P/ZvzKyYZM7qekZ8RFiNoTwr4m7O/DWNX1zymZvUYCYxFQQMYiW+59rx+u0xt5Udjjy63GRs//Kv5K1OK/3lIvltgSxp1v/aQxeiHcl2FD9oOw631bquZkjoyL/iyMEP6EpDd448IezhKro4CU2GrT+PxrUQyBAemN9N1QN42n6aUcxKWssGJuoymtn/ExVi+E8s9aCRRzM02JHfScxc7GxLr/vxO/0xOhd2KSwCwEFJBZsBdTKGdc0Bv55bBnF+N1s6PftvrA5QyPpkSd2S/yHbULxuqFUAQ9Pc5z4ZCrTekj8Uc2I340bH058r/H3xhq23XD4wKa1irMQUABmYN6eWUyzHLtMHoj/1Oe+4d5zAcxoUqaelXMLdD7IgxJlcbshVDGy8I42ZCVYvXE2S53CfuR1R/XowsT9ZchOc52N0lgcgIKyOTIRymQFUO3DWOp59tHKeFQiHJ6I3fd8EE3UpGj3JZTB9nj8dyGu8ORjX9stqynMXshlHNOGCFm/rRWKH6yKu6ttb+9O17/cNh7Vn/jFErycgCWSQKTElBAJsU9WGFXiDvxQVfZ1eM1YTeY+CVkByupPjlYaYffiG/LDJn8+Ej3H/u2J0UBnD7IN/tNiVDs9w+jt1VPfLAztMVy2rHSuXFjJseJxcUQGqu1brFW2CYBZF7H/+WxWsX7NhLwoSvn4WBsHsFgYpuwFwhGZfUlt2wMZHkotm2yeJeanxKZnxzGZjuiy5aUEF/2U3D876bEt3uM0x2rRHRdhIMYYmMnlhBzsiHnuWyaG9m0n4WTF+kh0vYmCUxGQAGZDHXngr42ctR7GRy1imDwLfW8hLsdxDU/HUZvhGGOodPRqw84hlm2xXgautwh7lcth331hpsR1oXJak4krFLXYIy7+shxuuxHoWe5nprC0/9JXMiKLIazTBKYhIACMgnmpEKYIK0LBpnqvYxPJd3l8Iv4kOfDj2/OiMkY8yPMF/CtmONzEbcSEixggriuJ3aqM3zEMFaVph4iYhjrlDCEjGN11xNDiGworD8TVQiWo0poAH1cBgEFZN52ZHVPJRrHxeu6YHCGxVCpWpo61vwIcy+EiWe/ArulOcBpPbF5j9VPTUNHQ9U15T5slmSegV7eekIIqQ8iQ9omNill9bmGITZYvjOMYUIWR9RTUw+KFVnfHPbgPoWaRwJdCSggXYntdv2NI3u9l/GX8XslGmP0Dta9reZHmAw+2K0qG3N/a/yVjW/8REiqvSNMuLM8lhVFBCrM4Vvy+mqmqkKPiBeEPaFnRUJ0vz/s/BF4bbpldQjVA1dvXhQ/14/Xpe2aNkRWcyilzU1NhNdihiSggAxJ87L3qpbXVqLx8bik3stoCy0+lnccccvwzVjzI3yzR0iYjEZImMxniIVItNcKI6QI+0rmTPj1iTCCG9YTS2n/LYzw6wgHPZATJ3T0vVEWK8SY86pSfTMhf9t2vkk9lteEblvUPhJQQIZt9abltZVosIktlzTF/AjDMK8JYwc4H9gYH87MPzDZS9ypudKmDYNsmKT3hL+kKZbu1uu/TRhYls3JhvBb31C4zpCwJwg2q7lMEhiNgAKyO9rU5bW7lzTOHcacH6kLBT0SjPkRhIQPwTPDCNMxV6omo9npjXgwfFQNu025dLeqPz1D/icPGoAQRJGTDT8X1jQEV2Vl8p0hS+JlmSQwCgEFpDvWXZfXdi9xmhxjzI/UN8ZVtXhAvEBI/iaMvRWsejp+mipephSWN3NGCD1ExKOepl66S9ltAsI1DHtyIBUbHgmo2LSjnsl06ufhUzM9XPtQrALS3spjLK9tL3W+K4aaHzk5qoAo/VBDVZgfQUh4BpkQroaNpq45Q1aI2XqaeuluqoBw3cHK2epnEzOWA3v41NRP1B6Vp4Bsbuypltfm+qgNMT9CsEK+BV/SUkl21p8eRlRZeieblgBPzWmOpbtdBKQLD1a9efhUF2Jem0xAATmEau7ltckNNvGFfedHUoZi1qty6kpAGKKpLwGeuMr/X9zUS3erOvbh1saHsDcePtVGyfd7Edh3ATk7qLHENpfltb0acYJMXeZHjgl/mLhlL0XXxO7vW4exw7paAoyYTJnmWLo7poBwbw+fmvIJ2qOy9llA2M3LSpXfCMtpeW3Oj1/K/MhLowJM3hK1t0/iXHaGsx4TVq3cqi8B7nPPLnmmXrpb922MHkh1fw+f6vIUeG0SgX0VkBsGHT7oCExn6kagPj9SP7WPu9wmjL0HzGvskh4Vma8SxrAWaX0J8JBhXup+zrF0dyoB8fCpXZ5I824ksK8Cwlp/dkOf4XPRmwDLXC8Nq0fi/UD8zgcVcwi7Jk4FZN/D42s3qi8BpleyafXULuXOsXR3KgGhHA+f2uXpMO9lCOyjgPDNlhVCV/V52InAKZGb1WrVwVLV0BPxroZKT40bXRjGwUr1VC0BZlc2QjJUFOA5lu5OKSCUNXcdh3o2vE8GBPZRQIhxdKWwR2fAv2QXOIebzXdsaIMn+w2OHKFC23qLDJUxvLUtCnCqS3Mt3Z1aQDx8KvWJ8LpWAvsoIATQI8TGWEe+tkJfyAX1I1d/N+pEFFhCk4yR2oZemqIAd/FlrqW7UwsI5Xn4VJcnw2sbCeybgNwnSDDRy5nYpt0IENKFECB3D+MkvJvvdrvW3K9YCRTHvDal9SjAqUuA51y6O4eAePhU6+PmBSkE9k1A3hFQGLPnoB7TbgS+LLJfHEaol6nG1Yns+6SVcG3zniGtLkuA51y6O4eAUKaHT+32/Js7COyTgDDhy7kUJ9jyrQQuH1cQmr7N2DBIMEISJw6y6zk1b9O9yf/YLR5yCBeHPb25tRaHLmhbAjz30t25BIRyPXwq8SHyss0E9klAUoZAcnhOELm2D+5t7w/xAf7F8IGQIm3G+RQs3eUIVq5lXuSNCfm23beKn0WU3qZED5JhyHd1aLCmJcBzL92dU0A8fKrDA+SllyWwLwKy7QzsnJ4L9lCwM/55O3wIp374N32Ikz81bRoS3HU4i82dBFS8UYsTffecrC8BZh4nl/+DMXeiN+H08KnUp93rLkMgl3+csZsmp2+ZbXUtKXpq05zEriJSHfRETKxtiTkYJu8/3AZ1w/ssAX56GPMlD1mJVo/bDJplDgGhAh4+NWgz7s/N9kFAGNLhLG6GfUpI1b4Gvhnmnl4YDr4y7EUbHN1FRIhT9pSwVycA2CXGE0t3HxFGsEiWAs8dBXguAXl51J1eL8O8JgkkE9gHAeEDgsiwTLyWkOqrm3L3lx3iF4TRw9uU+orIQdyMvMwHpaT/iouIMPCFlItX16wv3a2WAN8t3j8tLHUJcIciWy+dQ0Bc0tvaLF7QRGAfBGSXYY65npznR8F8+37BXA4klpuyq7+PiNw+yickyh0S/ajvik/MckTT0t2j4gb0/ugJThkFGL/nEJCHRbnMERKKxiSBTgSWLiB8m+RIVTa7lZRYGvvksO/M3GlCmdws7IEtfnYVEfaWfCiMb8epiXkQhqE+kpAhdelu2xLghKI6XTKHgLg3qlMTeXGdwNIF5C1RWb7JvrXAZi/hHxtxvkfYXRP4dhWRd8c9WTH1noR7c8lBWOqwV9dFFWNHAa6qOLWA3CQKZu7jpomMvUwChxFYsoDcImrKRGy10a20pud0PlYY8eGVa7pVOMamPzZppqQuIvKcuCFfAJ6bcuO45pphhHe/VsL1Xfyo326sKMBzCQj/H6z6I+qxSQKdCSxZQF4cNDg06iWdqeSTgUnhK4exZyPH1OdgrtQP7/tFhRH/bRsK15mwIuxZYQQLbEpDRN0dMgpw3c+peyCEw2f+g5VsJgl0JrBUAeFbKAdGXbszkbwytK1ymtvbq4cD7w27RkdHUkQkdUNhveiUyfQho+4OEQW47j/tzYf6QUeefS6/c2QiLtxJfTKbRwIQWKqAEHCPQ6NOL7yZbxD+E332uIzrkSIGm9xPyZe6obB+/22T6WNF3R1iCTA9o4eGcdTAFOn1UQjLpM+bojDLWCaBpQoIQz4cctQlLEeuLfzacIzjXV+XqYMfC78Yyvp4D//aRKTLhsKq+IN40TSZPnbU3b5LgPHr/JWA9MDYOYuBRTsjM8MmAksUkCHGuHN6WrqsdJrDb1ZJ4SNDWX3SNhHZJgZNZTVNpqcu3e1Th015UpYA0yNCPE4Me9VQBSfcZ8hhvITivGSpBJYoIB+MxuLQqAsX1GgMx1VRanOr1hvCIY4HJgpv39QkIl03FFblb5pM77p0t29d1vNtiwKMqCEeU6a5OExZR8uaiMDSBOROwY3VO0wQLikdRGVS9zhMXW9WunHk7Mt2LHiTiPTZUIgbmybT24bLdnS/NXt9CfCxcTUf5E9rzTXsBWPNAQ3rpXcrhsDSBGSpE4PHxBPF4U3E9MotPTMcYtMjy2d3TZs+5LtuKKx8qE+m5zSsyRLgi8KY85g6zS2iU9fX8kYmsCQBYTftmWGE1lhi+sOoFFFv+cafU2IjIdGOHzeQU+sfckSIZUgqdUNh5cZBvKh6bY75H5proccz5VzLQI+Et8mVwJIEhJAMrFg6O1fYO/p168h/ahjzOzkllp5yMiFB+YZKfPAfGfaMMOZ+2JHfNTGZTs+IwJQcTjX1XENXf8e8Pqce2Jj19N4TE1iKgBwd3PiWebWJ+U1d3PuiQOZ33j91wVvKu2e8x0mKnKkxVCIyLGE27htGrzI1IToMEd129RNh4wz13EQ3tT59r2NHe5X430A8p9pf0tdn8xVIYCkCMvQwSq5NOca3/V3ryoc1Z63cbtcbrT7o6XWcE0YQzJQx++NrosHO8HPDOKaWn2zwI2LwHQfwraRbHKw5u/57SXXR14wJLEVAPhOMmWD+bMash3CNUxU/H3bFIW420D2GmHtikQDCQfj2B4XRm6zSuogQ4qTeyyCAYiUa9DbWU5cw7wMh8TYS2A8CSxCQEqLWDvk0PTtuRpyvM4a86Q73It7Y28Ku0/MeDLc8eCUcTUuBERHmMhAOYkXVexmXtpR7EO/nugS6JzKzSSAPAksQkF13QufREuleDPGNP7209isJGUPMKuYfuqST42J6HRgf8m3p3ivhSDkwqn6vLmHe23zwfQlIoEagdAHpu1O59IfgzVGBh4dxXkYO6VPhBD2RTyc4w2QuooHoMFx1SUKeXS9JCfO+axnml8DeEShdQPauwVYVvlf8RDz5Vp5DuiCcYDKdMDLbEiurWLGFcLDkeqo09TkbU9XLciQwKwEFZFb8OxXe5Vv/TgUlZObIYPaBMBeyKXHuBL2OR4bNcfqdApLQiF4iga4EFJCuxPK5/rRwhQnlJ2Tg0rYhoovDP4JBckrgXOH1CV9OsMeDDFjpggQWQ0ABKbcprxuuvynsehlUgc1+ROU9a4MvrBpjKe3cSfGYuwUsf3EEFJCym5QNd/RC6vsm5qgR8x+cnMhJkCYJSGBPCCgg5Td0Lt+sc/Gj/Ba1BhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3AgoILm1iP5IQAISKISAAlJIQ+mmBCQggdwIKCC5tYj+SEACEiiEgAJSSEPppgQkIIHcCCggubWI/khAAhIohIACUkhD6aYEJCCB3Aj8Hx4yigVCdpliAAAAAElFTkSuQmCC" , "Agent5" , "11/13/2017" , "Active" , "And@And.com", "4294956988" ]
, [ "CWTC" , null , "Texas Tire Co." , "Opertor5" , "jakmua@cwtc.com" , "34234" , "43 Address 4" , "Manila" , "Arizona" , "32154" , "Agent5" , "iVBORw0KGgoAAAANSUhEUgAAAZAAAADICAYAAADGFbfiAAAVI0lEQVR4Xu2dC/B2xRzHy5QQkoSm4VVqoiZ3JUVvEopB0mAww1RuXVwq9xn/jNCQUojKlOkiEWEql+6kKXdGmHJtMEIoabqM/L7jv5x3nfOcffbs77zn/+xnZ37z/t/n2f3t7md39vucs7d11yFAAAIQgAAEMgism5GGJBCAAAQgAIF1EBA6AQQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrCRCAIQgAAEEBD6AAQgAAEIZBFAQLKwkQgCEIAABBAQ+gAEIAABCGQRQECysJEIAhCAAAQQEPoABCAAAQhkEUBAsrBNNtG7GiU7YrKlpGAQgMBCEEBAFqIZ/1uJpeW/drB/rzM7ZLGqR20gAIEpEUBAptQa5cqyp7k62Gyvci7xBAEIQGBNAgjIYvaIraxaF5htvZjVo1YQgMAUCCAgU2gFnzLcZW5pXx+2eIUABBhgFroPXGu106sszYUQIAABCBQnwC/U4kgn4/B8K8nxy6+yJlMoCgIBCCwOAQRkcdoyrslx9oGeQiQiBAhAAALFCSAgxZFOxqH2hKh9lyZTIgoCAQgsFAEEZKGac43KICCL27bUDAKTIICATKIZXAqBgLhgxSkEIBAIICCL2xcQkMVtW2oGgUkQQEAm0QwuhUBAXLDiFAIQ4Alk8fsAArL4bUwNIbBWCfAEMh7+iy0r8d5tpCwRkJFAkw0EaiWAgIzX8mdYVk8w22akLBGQkUCTDQRqJYCAjNfyGtAPN9vS7IYRskVARoBMFhComQACMl7ra0Df3eyrZkeOkC0CMgJksoBAzQQQkPFaXwP6xmbPM9tihGwRkBEgkwUEaiaAgIzX+mFA39myPMrsQuesERBnwLiHQO0EEJDxekAY0K+xLPcxe5Fz1lMVkHBvO3e2O3cA3EPAmwAC4k34f/6bA/pN9vHmZjc7Zj9FAfmo1fdhZjeabWr2LMf64xoCEHAmgIA4A264bw7oR9vnvzP7kGP2UxSQS6y+evK41OwnZvua6YmMAAEIrEACCMh4jdYc0B9p2Z5jtq1j9lMUEC1f3s7sT2b7me1ktr8jA1xDAAKOBBAQR7iR63hA/6Z9/xazK5yKMDUB0SsrPXU8sFHfv9vfDzHTKz0CBCCwwgggIOM1WDygv8Ky3tXslU5FmJqAqK56fbW6Ud+pldGpKXALgcUkgICM165tg+Udlv09ze50KMbUBufXWR31+urARl3va39fb7aRQ/1xCQEIOBNAQJwB9/za/ph9/2OzExyKIQHRr/3LzJYc/M/rUrvvbzF7b5TwZPv/lWafnOFwamI4b92JD4GFJICAjNesbYPg4yz7k8we71CMqQnIMVbH35gdG9VVCwk+a6ank66AgDh0EFxCYCgBBGQowfT0XYPgd83FAWbfS3eVFHNqAvIJK7XqemJL6b9in0lgdE5YW0BAkpqcSBAYlwACMh7vrkHwtVaE7c00R1AyTE1ATlsWiNNbKvkq+0xPYa9GQEp2AXxBwJcAAuLLt+m9S0DWs0i3mq1fuChTE5DPW/0kIl9oqafEQ08oui+lLaQ+gWhO6QVmDy7MEncQgEALAQRkvG4xaxA81YqhXdqfKlicqQlI32uqu6zuXf0xVUAUT8ejfMYsnmspiBZXEICACCAg4/WDWYNgOKF3l4LFmZqAXG51e4fZNzrq+B37XK+wNE8Sh3kERH369WY6Mv9vBXniCgIQiAggION1ib5BMJzS+9NCRZqagMwSCFV51iR7H7uALMT7vn2gDZrPL8QSNxCAQAsBBOT/oejWwLeZPb1wj+kbBN9k+emE3kML5Ts1AZEw7m32s476zZpI72MXC8iSfaC5Fr0SPLcQT9xAAAI8gST1gass1sFmVyfFTovUNwjex9zohF7tzi4RvATkYiucfnjsNmchtQfkKWa/7Ug3ayK9j12bgGh3u/K835zlJDoEIJBIgCeQdlC6drb0K5CUQVCTvzql9+zE9psVbWoCohN4dQrxn2cUumsiPYWd3MbxwlzIGwrwxAUEIBARQEC6u0Tp+ypSBkG9NtMJvXsU6KlTExAdY6ITef85o25d8yQp7NoERJ+F+ZAfFGCKCwhAoEEAAenuDi+1r/Y0e1mhHpM6CP7a8tvVTK9fhgQvATnfCnV/syfNWbhZy3SDq66J9FR2bfEOMufbmOmVJAECEChIAAGZDbPvvf08TZE6CGqpq07ofec8zlviegnImZaXzvB6xBzlu5fF1SusDXvSdE2kp7Jri1fyqW6OKhMVAotPAAGZ3cbal/BYs9cU6Aqpg6AuXNIJvQ8amKeXgOTs9n6A1UWrsPQKa1bomkhPZdcWTxdW6dKuhw7kSXIIQCAigID0d4m/WJStzW7sjzozRuogKCdfMtMpvV8ekKeXgOg4di05vsccZdPgrQ2EqxLStL3qSmXXFU/zLpuY6cgYAgQgUIgAAtIPUvsyNjM7rD9qMQF5tnnSIYvPGZCnl4DI71uXmbTt9G4bxPW6S/sytAqrL7RNpA8VEJ10rDvYNaFOgAAEChFAQNJA3mbRtE/j9rTorbFSB8GQeOj8i6eA6JWeFhi0rWxqq2ffYYlNYG0T6ansuuJ92jL4otlZA9qPpBCAQEQAAUnrEksWTa9WjkiLXkRAtJx3YzP92s8JngLyYiuQduu37fJuG8S1gVA3Ej41oSJtE+lDBaRE+yUUnSgQqIsAApLW3ne3aDebbZAWvYiADN2ZfryVYkuzb5tpAC0VNJjPOvG2bbB/pqV543K6vnK0Pa0MFRAJnjaHvqQvc76HAATSCSAg6aw+aFH/YHZ0epI1YqYOgs1Esy5h6ivG1y3C781+5SAg2gPyc7N4h7dWre1vdl6Up87AermZ7upICfFEeiq7rnhaSac717X8mAABCBQigICkg9TmuWvNtJonJ6QOgk3fO9l/JFhPzshQZ07prnE9OS1lpO9KonpoUlx7VeLTbnewz3Rx1MlRntqMqacQiUhKiCfSU9l1xVNZtZpO+1EIEIBAIQIIyHwgP27RtZJHE73zhtRBMPabcxRHGDCPMmdq46V5CzsjvuqhG/8kbo+J4ulVn5bMvifKs+/K2ji7eCI9ld2seBJU3btyfUEWuIJA1QQQkPmaf579DLHn1EEwTneAffBEMw3CqSG8stHKIw8B0R4QLTNuO+n2BvtcTz4HNgqrV12rzDQPkhJiwUllNyueXulJUC9MKQBxIACBfgIISD+jOMbp9sEFZmfMmTR1EGxze4d9qKeKOxPzDJPGunvDQ0Dks+vWvx/ad9eZ7dMo69vtbx1jomNaUkI8kZ7KblY8LSrQvM1HUgpAHAhAoJ8AAtLPKI6xrX2gX9jbzZk0dRBsc/th+/AXZscl5hnyCpPRS4npUqIF3+HI+3gviO4+150mzXmbnLo3J9JT08+Kl+ojhQFxIAABI4CA5HUD7X84xUyviFLDkAFMp8kqr9QDDMPGOaUr/QQiEdNigqeZtd34d6p9rv0eWkIcQk7dmxPpqelT46W2GfEgAIEZBBCQvO6h1UZ6JbLjHMmHDm4XWV7ajKcbAftCOLrjuQ4CouPcVfdnmGm3/LFRYd5v/z/ErLniKafuzYn01PSp8fr48T0EIJBAAAFJgNQRRZOx7zPTwJ4Shg5umlPQRrgXJmQWDg98s4OA6OlDx5jovK4tzOK9IKqnJssfZRaur82pe/NVYWr61HgJCIkCAQj0EUBA+gh1f7+7faXjPHTfREooMbj90TLa3kwrnbpC8/jyEnnG+YS5ia5rf5WnhE5HsYRXfLnlWDIfyk8h5VVcbj4p7UccCEAgIoCADOsSV1ly3XR3dYKbEoNbGFBnncnVvECpRJ7Nqm1l/9EKNB1v/2gzzYHEe0GU52qzy8xUXoUh5dDVwpeY6S714K8L95B8EpqQKBCAQJMAAjKsP3T9Cm/zWmJwS7lsqnmFa4k8m3XRqysJ5l5mG5lpDiTeC6I8453qQ8vxL/P5bgRkWGclNQRKE0BAhhPVL+R9za7pcTV0EA3uP2d/aJXVOR35Nfc7lMozZCXx0NOHJskV/mqmeZDmvSDKU6Kic69WLccrXY646uH+es3PpLzqGt7qeIAABFjGW6APhMFL5z3NCqUGUS2f1YY8zcG0heaO61J5hnzCEl6JlELbMSshzyA2usmxdDnieodzylQ+BKRAp8YFBFII8ASSQqk/jl7l6M6LsOqoLUXJQVQ7zPX6TDur49A886lknsonLOHVPIiCbhmM94KEPHex78IqtdLlaOOr+SjtgtcJxEv9TUYMCEBgKAEEZCjB/6TXMeY6f0o39XWFkoOoXiE93EzHiTRDfOpsyTyVT1jCq6NKFI4xi/eChDzvbd+F4+9Ll6ON8ZJ9qA2Ml5vpbwIEIOBMAAEpB1jHhWt+QK9s2kLJQXQ9y+BWs/WjjOJ7L5SnTshNPYOqj4aW1Db7TDgPq7kXJNQziI1e7ZWse1cZtblT80K69wMB6WtJvodAAQIISAGIyy4OtX83MztsBAFRFiea6bbBkxr5td289w/7Xpv6fjmwqs0lvMFV2yq0IBZnW6RwZtgYAqIy3WKm+Znca4AHIiI5BOoigICUbe/bzJ2uor29xW3pQVT7L04x01NHCF156CBGXeb0rQHVbS7hDW7a9oI0yxB4aMPlGJPbbScBD6gySSEAgVkEEJCy/WPJ3Ok1T9tGv9ICopJLEPTkc+VyNcIhime1VOsK+0zX8mriOyfES3jlo20vSLOeYaOlxGcMAcmpF2kgAIFMAghIJriOZJpv0BWyG7R87yEg8VWx4RBFLa9tC7pu9mtmullx3hAv4Q3p470gzXqGGxx1gyECMi9x4kNg4gQQkPINpF/5YfVR07uHgMj/TWabLwtXOERRE+xd4QT7QmdqLc1Z9XgJb0ge7wVp1jP8HSbf581zziISHQIQGJMAAlKedtjUtknk2ktAdHy6ngLONNNrKl272xdUFj0V6Fra1BAv4Q3p4r0gCEgqUeJBYIUTQEB8GjC8utGdFiF4CUi4p30/y0gn4O6RWCXtWdGdHjpyJCXES3hDmngvCAKSQpM4EFgAAgiITyOGQX3VCAKiLM4z29QsTFqn1mpvi6hlxzv3JGhbwhuSxHtBEJBU+sSDwAongID4NeDp5lpHfpyxnIXXE0iowZL9IZs36O7y08y0s70rtC3hDXHjvSAIyLwtQHwIrFACCIhfwzVv1FMu3gIypCa6v/xHZh/ocKJd3tpLEk7hbUaL94IgIENagrQQWEEEEBDfxjrX3Guzn27mm7KAiMKGZofPwLHU8V28FwQB8e1TeIfAZAggIL5NoV/uOlpjxxUgIENINPeCxAKy2hxrAp5DDocQJi0EJkgAAfFvlIssiyPNdNz7om6ma+4FiZ+0wpNL1xOMfwuQAwQg4EIAAXHBuobTMBeiwwUXVUCae0EusXrqKJdL/dGSAwQgsDYJICDj0Nev70W+qyLsBdGTiMRj9ThYyQUCEFibBBCQ8ejr+BAdb37QeFmOltOuy8IRDpLk6WM09GQEgbVHAAFZe+wXLWcd5Hg3Mx0zT4AABCoggIBU0MhUEQIQgIAHAQTEgyo+IQABCFRAAAGpoJGpIgQgAAEPAgiIB1V8QgACEKiAAAJSQSNTRQhAAAIeBBAQD6r4hAAEIFABAQSkgkamihCAAAQ8CCAgHlTxCQEIQKACAghIBY1MFSEAAQh4EEBAPKjiEwIQgEAFBBCQChqZKkIAAhDwIICAeFDFJwQgAIEKCCAgFTQyVYQABCDgQQAB8aCKTwhAAAIVEEBAKmhkqggBCEDAgwAC4kEVnxCAAAQqIICAVNDIVBECEICABwEExIMqPiEAAQhUQAABqaCRqSIEIAABDwIIiAdVfEIAAhCogAACUkEjU0UIQAACHgQQEA+q+IQABCBQAQEEpIJGpooQgAAEPAggIB5U8QkBCECgAgIISAWNTBUhAAEIeBBAQDyo4hMCEIBABQQQkAoamSpCAAIQ8CCAgHhQxScEIACBCgggIBU0MlWEAAQg4EEAAfGgik8IQAACFRBAQCpoZKoIAQhAwIMAAuJBFZ8QgAAEKiCAgFTQyFQRAhCAgAcBBMSDKj4hAAEIVEAAAamgkakiBCAAAQ8CCIgHVXxCAAIQqIAAAlJBI1NFCEAAAh4EEBAPqviEAAQgUAEBBKSCRqaKEIAABDwIICAeVPEJAQhAoAICCEgFjUwVIQABCHgQQEA8qOITAhCAQAUEEJAKGpkqQgACEPAggIB4UMUnBCAAgQoIICAVNDJVhAAEIOBBAAHxoIpPCEAAAhUQQEAqaGSqCAEIQMCDAALiQRWfEIAABCoggIBU0MhUEQIQgIAHAQTEgyo+IQABCFRAAAGpoJGpIgQgAAEPAgiIB1V8QgACEKiAAAJSQSNTRQhAAAIeBBAQD6r4hAAEIFABAQSkgkamihCAAAQ8CCAgHlTxCQEIQKACAghIBY1MFSEAAQh4EEBAPKjiEwIQgEAFBP4NYKTh57v6HPQAAAAASUVORK5CYII=" , "Agent Title5" , "11/06/2017" , "Active" , "jakmua@cwtc.com", "4294947276" ]
 ]); 
DLG1_DlgObj._listViewData['BUSCAT'] = A5DataArrayToObject(['CategoryID','BusinessCategory','__a5crc'],[ [ "1" , "Category1", "4294915754" ]
, [ "2" , "Category2", "4294930520" ]
 ]); 
DLG1_DlgObj._listViewData['GENADMINLIST'] = A5DataArrayToObject(['fname','lname','address','city','state','zip','regstatus','UserType','companyid','BusinessName','__primaryKey','__a5crc'],[ [ "Aandy" , "Boni" , "435 Jakol St" , "Nashville" , "" , null , "" , "Generator Admin" , "CWTI" , "Colorado Waste Tire Inc." , "And@And.com", "4294923046" ]
, [ "Jak" , "Mua" , "45 Texas Lane" , "Dallas" , "Texas" , "56001" , "ACTIVE" , "Generator Admin" , "CWTC" , "Texas Tire Co." , "jakmua@cwtc.com", "4294917518" ]
, [ "Jose" , "Rizal" , null , "Laguna" , "North Dakota" , "2323" , "Active" , "Generator Admin" , "CWTC" , null , "Jose@yahoo.com", "4294942990" ]
, [ "Richard" , "Gordon" , "70 Blanchard Rd" , "Burlington" , "Massachusetts" , "26001" , "Active" , "Generator Admin" , "CWTG" , "Colorado Tires Inc" , "gens1@gens.com", "4294920808" ]
 ]);
;
DLG1_DlgObj.setStateInfo({ 	"__dialogGuid": "65649d57-fae9-453b-bb6c-65fe76765a28", 	"argumentsBoundToCotrols": "currcom|Character={companyid}\n", 	"__sgr": "", 	"__dtfmt": "MM/dd/yyyy", 	"__tfmt": "" });
DLG1_DlgObj._viewBoxSettings['EDITOR_AN_KEYPAD'] = {
	"inputId": "EDITOR_AN_KEYPAD",
	"variableName": "EDITOR_AN_KEYPAD",
	"theme": "Alpha",
	"multiple": false,
	"loopNavigate": false,
	"loopNavigateNullSelection": true,
	"allowNullSelection": false,
	"allowTextSelection": false,
	"allowNullDeselection": false,
	"autoRefresh": true,
	"allowAnyValue": true,
	"captureFocus": false,
	"scroll": false,
	"getDisplayValue": function() {var v = this.value[0];
if(typeof v == 'undefined') v = '';
if(this.data.settings.cursor.allow){
	v = v.split('');
	v.push('&nbsp;');
	var hasCursor = false;
	for(var i=0;i<v.length;i++){
		if(i == this.data.settings.cursor.index || (i == v.length-1 && !hasCursor)){
			v[i] = '<div a5-item="cursor:'+i+'" id="EDITOR_AN_KEYPAD.CHAR'+i+'" class="displayChar cursor">'+v[i]+'</div>';
			this.data.settings.cursor.index = i;
			hasCursor = true;
		} else{
			v[i] = '<div a5-item="cursor:'+i+'" id="EDITOR_AN_KEYPAD.CHAR'+i+'" class="displayChar">'+v[i]+'</div>';
		}
	}
	v = v.join('');
} else{
	if(this.data.formatter) v = this.data.formatter(v);
	if(v == '') v = '&nbsp;';
}
return v;},
	"move": function(e,ci) {if(ci._mk.a){
	var index = -1;
	var coors = $e.getCoors(e);
	var limit = 12;
	if(coors.clientY-ci._mk.coors.clientY > limit*2) index = -2;
	else {
		var doSel = true;
		if(ci._mk.index == -1){
			if(Math.abs(coors.clientX-ci._mk.coors.clientX) <= limit && ci._mk.coors.clientY-coors.clientY < limit) doSel = false;
		}
		if(doSel){
			var valuesLen = ci._mk.values.length-1;
			index = Math.min(valuesLen,Math.max(0,Math.round(ci._mk.startIndex-((ci._mk.coors.clientX-coors.clientX)/50))));
		}
	}
	if(ci._mk.index != index){
		ci._mk.index = index;
		var mkEle = $('EDITOR_AN_KEYPAD.MULTIKEY');
		if(index == -2){
			mkEle.style.display = 'none';
		} else if(index > -1){
			mkEle.style.display = '';
			for(var i=0;i<=valuesLen;i++){
				if(i == index) mkEle.children[0].children[i].className = 'menuItem menuItemSelected';
				else mkEle.children[0].children[i].className = 'menuItem';
			}
		}
	}
} else if(ci._d.a){
	var coors = $e.getCoors(e);
	var dEle = $('EDITOR_AN_KEYPAD.DISPLAY');
	if(ci._d.s){
		dEle.scrollLeft = ci._d.sl-coors.clientX+ci._d.coors.clientX;
	} else if(Math.abs(coors.clientX-ci._d.coors.clientX) > 5){
		ci._d.s = true;
		ci._d.sl = dEle.scrollLeft;
	}
}},
	"hideMenu": function() {var mkEle = $('EDITOR_AN_KEYPAD.MULTIKEY');
mkEle.style.display = 'none';},
	"keyPadResize": function(e,ci) {var layout = 'Default';
var mode = 'auto';
if(typeof ci._mode != 'undefined') {
	mode = ci._mode;
}
if(mode == 'auto') { 
	if(this.offsetWidth > 690 && this.offsetHeight > 410) { 
		layout = 'full';
	};
} else if (mode == 'full') { 
	layout = 'full';
};
if(ci.layout != layout) { 
	ci.setLayout(layout);
};},
	"layout": "Default",
	"layouts": {
		'Default' : {
			type: 'template',
			template: [
			'<div class="keypad {*if !(settings.allowLowerCase && settings.lowerCase)}keypadUpper{*endif}">',
			'	<div>',
			'		<div id="EDITOR_AN_KEYPAD.DISPLAY" class="keypadValue" style="text-align: {settings.align};">',
			'			<div>{[scope].getDisplayValue()}</div>',
			'		</div>',
			'		<div class="keypadKeys">',
			'			<div class="keypadKeysCol">',
			'				{*if settings.customKeys.allow && settings.customKeys.primary.allow}',
			'				<button id="EDITOR_AN_KEYPAD.K0" a5-item="key:customKey:primary" class="multi">{settings.customKeys.primary.html}</button><br />',
			'				{*endif}',
			'				{*if settings.customKeys.allow && settings.customKeys.secondary.allow}',
			'				<button id="EDITOR_AN_KEYPAD.K1" a5-item="key:customKey:secondary" class="multi">{settings.customKeys.secondary.html}</button><br />',
			'				{*endif}',
			'				<button a5-item="key:clear" id="EDITOR_AN_KEYPAD.CLEAR" class="clearKey {*if !settings.customKeys.allow || !settings.customKeys.secondary.allow}dblHeight{*endif}">C</button><br />',
			'				<button a5-item="key:back" id="EDITOR_AN_KEYPAD.BACK" class="clearKey {*if !settings.customKeys.allow || !settings.customKeys.primary.allow}dblHeight{*endif}">{A5.u.icon.html(\'svgIcon=#alpha-icon-backspace\\\\:icon\')}</button>',
			'			</div>',
			'			<div style="display: inline-block;">',
			'			{*if settings.keypad == \'a\'}',
			'				<div>',
			'					<button a5-item="key:multi" a5-value="abc" id="EDITOR_AN_KEYPAD.ABC" class="multiKey">abc</button>',
			'					<button a5-item="key:multi" a5-value="def" id="EDITOR_AN_KEYPAD.DEF" class="multiKey">def</button>',
			'					<button a5-item="key:multi" a5-value="ghi" id="EDITOR_AN_KEYPAD.GHI" class="multiKey">ghi</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:multi" a5-value="jkl" id="EDITOR_AN_KEYPAD.JKL" class="multiKey">jkl</button>',
			'					<button a5-item="key:multi" a5-value="mno" id="EDITOR_AN_KEYPAD.MNO" class="multiKey">mno</button>',
			'					<button a5-item="key:multi" a5-value="pqr" id="EDITOR_AN_KEYPAD.PQR" class="multiKey">pqr</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:multi" a5-value="stu" id="EDITOR_AN_KEYPAD.STU" class="multiKey">stu</button>',
			'					<button a5-item="key:multi" a5-value="vwx" id="EDITOR_AN_KEYPAD.VWX" class="multiKey">vwx</button>',
			'					<button a5-item="key:multi" a5-value="yz" id="EDITOR_AN_KEYPAD.YZ" class="multiKey">yz</button>',
			'				</div>',
			'				<div>',
			'					{*if settings.allowLowerCase}<button id="EDITOR_AN_KEYPAD.CASE" a5-item="key:case">',
			'						<svg viewBox="0 0 26 26" class="icon">',
			'							<path d="m 7.5,15.5 5.5,-7 5.5,7 z" fill="{*if settings.lowerCase}none{*else}inherit{*endif}" stroke="inherit" stroke-width="1" />',
			'							{*if !settings.lowerCase && [scope]._caseSticky}<rect x="7.5" y="17.5" width="11" height="1" stroke="inherit" stroke-width="1" />{*endif}',
			'						</svg></button>',
			'					{*endif}',
			'					<button a5-item="key: " id="EDITOR_AN_KEYPAD.SPACE"{*if !settings.allowLowerCase} class="dblWidth"{*endif} {*if !settings.allowSpace}style="visibility: hidden;"{*endif}><svg viewBox="0 0 26 26" class="icon"><path d="m 3,16 v 4 h 20 v -4" fill="none" stroke="inherit" stroke-width="2" /></svg></button>',
			'					<button a5-item="key:numKeypad" id="EDITOR_AN_KEYPAD.NUMPAD" class="multiKey">123</button>',
			'				</div>',
			'			{*else}',
			'				<div>',
			'					<button a5-item="key:7" id="EDITOR_AN_KEYPAD.7">7</button>',
			'					<button a5-item="key:8" id="EDITOR_AN_KEYPAD.8">8</button>',
			'					<button a5-item="key:9" id="EDITOR_AN_KEYPAD.9">9</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:4" id="EDITOR_AN_KEYPAD.4">4</button>',
			'					<button a5-item="key:5" id="EDITOR_AN_KEYPAD.5">5</button>',
			'					<button a5-item="key:6" id="EDITOR_AN_KEYPAD.6">6</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:1" id="EDITOR_AN_KEYPAD.1">1</button>',
			'					<button a5-item="key:2" id="EDITOR_AN_KEYPAD.2">2</button>',
			'					<button a5-item="key:3" id="EDITOR_AN_KEYPAD.3">3</button>',
			'				</div>',
			'				<div>',
			'					{*if settings.allowSpace}<button a5-item="key: " id="EDITOR_AN_KEYPAD.SPACE"><svg viewBox="0 0 26 26" class="icon"><path d="m 3,16 v 4 h 20 v -4" fill="none" stroke="inherit" stroke-width="2" /></svg></button>{*endif}',
			'					<button a5-item="key:0" id="EDITOR_AN_KEYPAD.0" {*if !settings.allowSpace}class="dblWidth"{*endif}>0</button>',
			'					<button a5-item="key:alphaKeypad" id="EDITOR_AN_KEYPAD.APAD" class="multiKey">ABC</button>',
			'				</div>',
			'			{*endif}',
			'			</div>',
			'		</div>',
			'	</div>',
			'</div>',
			'<div id="EDITOR_AN_KEYPAD.MULTIKEY" class="menu multiKeyMenu" style="display: none; position: absolute; top: 0px; left: 0px;"></div>'
			].join('')
		},
		'full' : {
			type: 'template',
			template: [
			'<div id="EDITOR_AN_KEYPAD.MULTIKEY" class="menu multiKeyMenu" style="display: none; position: absolute;"></div>',
			'<div class="keypad {*if !(settings.allowLowerCase && settings.lowerCase)}keypadUpper{*endif}">',
			'	<div>',
			'		<div id="EDITOR_AN_KEYPAD.DISPLAY" class="keypadValue" style="text-align: {settings.align};" a5-item="display">',
			'			<div>{[scope].getDisplayValue()}</div>',
			'		</div>',
			'		<div class="keypadKeys">',
			'			<div>',
			'				<button a5-item="key:1" id="EDITOR_AN_KEYPAD.1">1</button>',
			'				<button a5-item="key:2" id="EDITOR_AN_KEYPAD.2">2</button>',
			'				<button a5-item="key:3" id="EDITOR_AN_KEYPAD.3">3</button>',
			'				<button a5-item="key:4" id="EDITOR_AN_KEYPAD.4">4</button>',
			'				<button a5-item="key:5" id="EDITOR_AN_KEYPAD.5">5</button>',
			'				<button a5-item="key:6" id="EDITOR_AN_KEYPAD.6">6</button>',
			'				<button a5-item="key:7" id="EDITOR_AN_KEYPAD.7">7</button>',
			'				<button a5-item="key:8" id="EDITOR_AN_KEYPAD.8">8</button>',
			'				<button a5-item="key:9" id="EDITOR_AN_KEYPAD.9">9</button>',
			'				<button a5-item="key:0" id="EDITOR_AN_KEYPAD.0">0</button>',
			'			</div>',
			'			<div>',
			'				<button a5-item="key:q" id="EDITOR_AN_KEYPAD.q">q</button>',
			'				<button a5-item="key:w" id="EDITOR_AN_KEYPAD.w">w</button>',
			'				<button a5-item="key:e" id="EDITOR_AN_KEYPAD.e">e</button>',
			'				<button a5-item="key:r" id="EDITOR_AN_KEYPAD.r">r</button>',
			'				<button a5-item="key:t" id="EDITOR_AN_KEYPAD.t">t</button>',
			'				<button a5-item="key:y" id="EDITOR_AN_KEYPAD.y">y</button>',
			'				<button a5-item="key:u" id="EDITOR_AN_KEYPAD.u">u</button>',
			'				<button a5-item="key:i" id="EDITOR_AN_KEYPAD.i">i</button>',
			'				<button a5-item="key:o" id="EDITOR_AN_KEYPAD.o">o</button>',
			'				<button a5-item="key:p" id="EDITOR_AN_KEYPAD.p">p</button>',
			'			</div>',
			'			<div>',
			'				<button a5-item="key:a" id="EDITOR_AN_KEYPAD.a">a</button>',
			'				<button a5-item="key:s" id="EDITOR_AN_KEYPAD.s">s</button>',
			'				<button a5-item="key:d" id="EDITOR_AN_KEYPAD.d">d</button>',
			'				<button a5-item="key:f" id="EDITOR_AN_KEYPAD.f">f</button>',
			'				<button a5-item="key:g" id="EDITOR_AN_KEYPAD.g">g</button>',
			'				<button a5-item="key:h" id="EDITOR_AN_KEYPAD.h">h</button>',
			'				<button a5-item="key:j" id="EDITOR_AN_KEYPAD.j">j</button>',
			'				<button a5-item="key:k" id="EDITOR_AN_KEYPAD.k">k</button>',
			'				<button a5-item="key:l" id="EDITOR_AN_KEYPAD.l">l</button>',
			'				<button a5-item="key:back" id="EDITOR_AN_KEYPAD.BACK" class="clearKey dblHeight" style="float: right;">{A5.u.icon.html(\'svgIcon=#alpha-icon-backspace\\\\:icon\')}</button>',
			'			</div>',
			'			<div>',
			'				{*if settings.allowLowerCase}<button id="EDITOR_AN_KEYPAD.CASE" class="dblWidth" a5-item="key:case">',
			'					<svg viewBox="0 0 26 26" class="icon">',
			'						<path d="m 7.5,15.5 5.5,-7 5.5,7 z" fill="{*if settings.lowerCase}none{*else}inherit{*endif}" stroke="inherit" stroke-width="1" />',
			'						{*if !settings.lowerCase && [scope]._caseSticky}<rect x="7.5" y="17.5" width="11" height="1" stroke="inherit" stroke-width="1" />{*endif}',
			'					</svg></button>',
			'				{*endif}',
			'				<button a5-item="key:z" id="EDITOR_AN_KEYPAD.z">z</button>',
			'				<button a5-item="key:x" id="EDITOR_AN_KEYPAD.x">x</button>',
			'				<button a5-item="key:c" id="EDITOR_AN_KEYPAD.c">c</button>',
			'				<button a5-item="key:v" id="EDITOR_AN_KEYPAD.v">v</button>',
			'				<button a5-item="key:b" id="EDITOR_AN_KEYPAD.b">b</button>',
			'				<button a5-item="key:n" id="EDITOR_AN_KEYPAD.n">n</button>',
			'				<button a5-item="key:m" id="EDITOR_AN_KEYPAD.m">m</button>',
			'			</div>',
			'			<div>',
			'				<button a5-item="key: " id="EDITOR_AN_KEYPAD.SPACE" class="spaceKey{*if !settings.customKeys.allow || (!settings.customKeys.primary.allow && !settings.customKeys.secondary.allow)}Wide{*endif}" {*if !settings.allowSpace}style="visibility: hidden;"{*endif}><svg viewBox="0 0 26 26" class="icon"><path d="m 3,16 v 4 h 20 v -4" fill="none" stroke="inherit" stroke-width="2" /></svg></button>',
			'				{*if settings.customKeys.allow && settings.customKeys.primary.allow}',
			'				<button id="EDITOR_AN_KEYPAD.K0" a5-item="key:customKey:primary" class="multi {*if !settings.customKeys.secondary.allow}dblWidth{*endif}">{settings.customKeys.primary.html}</button>',
			'				{*endif}',
			'				{*if settings.customKeys.allow && settings.customKeys.secondary.allow}',
			'				<button id="EDITOR_AN_KEYPAD.K1" a5-item="key:customKey:secondary" class="multi">{settings.customKeys.secondary.html}</button>',
			'				{*endif}',
			'				<button a5-item="key:clear" id="EDITOR_AN_KEYPAD.CLEAR" class="clearKey">C</button>',
			'			</div>',
			'		</div>',
			'	</div>',
			'</div>'
			].join('')
		}
	},
	"onDraw": function(ele) { 
var dEle = $('EDITOR_AN_KEYPAD.DISPLAY');
if(dEle){
	if(this.data.settings.scale){
		var fEle = dEle.children[0];
		var fw = fEle.offsetWidth;
		var ow = dEle.offsetWidth-24;
		if(fw > ow){
			fEle.style.transformOrigin = '0px 50%';
			fEle.style.transform = 'scale('+((1/fw)*ow)+')';
		}
	} else{
		if(this.data.settings.cursor.allow){
			var cEle = $('EDITOR_AN_KEYPAD.CHAR'+this.data.settings.cursor.index);
			dEle.scrollLeft = cEle.offsetLeft-dEle.offsetWidth+10;
		} else dEle.scrollLeft = dEle.scrollWidth;
	}
}},
	"onPopulate": function(data) { 
var ele = $(this.contId);
ele = ele.parentNode.parentNode.parentNode.parentNode.parentNode;
this.keyPadResize.call(ele,null,this)},
	"onUp": function(v,ia,i,ele) { 
if(this._mk.a){
	this._mk.a = false;
	if(this._mk.index > -1){
		this.items.key.onClick.call(this,this._mk.values[this._mk.index],'multi-key',this.items.key);
	}
} else if(this._d.a){
	this._d.a = false;
}},
	"_onInitialize": function() { $acn(this.contId,'DLG1_' + this.variableName); this._mk = {a: false, char: 0, chars: '', coors: {clientX: -1, clientY: -1}};
this._d = {a: false, s: false, sl: 0, coors: {clientX: -1, clientY: -1}};
var ele = $(this.contId);
$e.add(ele,'abstractmove',this.move,this);
$e.add(ele.parentNode.parentNode.parentNode.parentNode.parentNode,'a5resize',this.keyPadResize,this);
if(ele.style.position != 'absolute') ele.style.position = 'relative'; },
	"items": {
		'key' : {
			itemName: 'key',
			selectable: false,
			onClick: function(v,ia,i,ele) { 				
				var val = this.value[0] || '';
		if(ia.indexOf('customKey') == 0){
			var cKey = ia.split(':').pop();
			cKey = this.data.settings.customKeys[cKey];
			ia = 'multi';
			if(cKey.value.length == 1) ia = cKey.value[0];
		}
		if(ia == 'clear'){
			val = '';
		} else if(ia == 'back'){
			if(this.data.settings.cursor.allow){
				if(this.data.settings.cursor.index > 0){
					var indx = this.data.settings.cursor.index;
					indx = Math.min(indx,val.length);
					val = val.substr(0,indx-1)+val.substr(indx);
					this.data.settings.cursor.index = indx -1;;
				}
			} else{
				val = val.substr(0,val.length-1);
			}
		} else if(ia == 'case'){
			this.data.settings.lowerCase = !this.data.settings.lowerCase;
			this._caseSticky = false;
		} else if(ia == 'numKeypad'){
			this.data.settings.keypad = '1';
		} else if(ia == 'alphaKeypad'){
			this.data.settings.keypad = 'a';
		} else if(ia != 'multi'){
			if(ia == 'multi-key') ia = v;
			var len = this.data.settings.size;
			var addChar = true
			if(len > 0){
				if(val.length >= len) addChar = false;
			}
			if(addChar){
				if(!(this.data.settings.allowLowerCase && this.data.settings.lowerCase)) ia = ia.toUpperCase();
				if(this.data.settings.cursor.allow){
					val = val.substr(0,this.data.settings.cursor.index)+ia+val.substr(this.data.settings.cursor.index);
					this.data.settings.cursor.index += ia.length;
				} else{
					val = val+''+ia;
				}
			}
			if(!this._caseSticky) this.data.settings.lowerCase = true;
		}
		if(ia != 'multi'){
			this.value[0] = val;
			this.refresh();
		}
			}
						,
			onDblClick: function(v,ia,i,ele) { 				
				if(ia == 'case'){
			var ci = this;
			setTimeout(function(){
				ci.data.settings.lowerCase = false;
				ci._caseSticky = true;
				ci.refresh();
				delete ci;
			},0);
		}
			}
						,
			onDown: function(v,ia,i,ele) { 			 var mkEle = $('EDITOR_AN_KEYPAD.MULTIKEY');
		if(ia.indexOf('customKey') == 0){
			var cKey = ia.split(':').pop();
			cKey = this.data.settings.customKeys[cKey];
			if(cKey.value.length > 1){
				ia = 'multi';
				v = cKey.value;
			}
		}
		if(ia == 'multi'){
			if(!(this.data.settings.allowLowerCase && this.data.settings.lowerCase) && typeof v == 'string') v = v.toUpperCase();
			this._mk.a = true;
			this._mk.index = -1;
			this._mk.values = v;
			this._mk.coors = $e.getCoors(arguments[4]);
			this._mk.startIndex = 0;
			clearTimeout(this._mk.to);
			var html = ['<div class="">'];
			for(var i=0;i<=v.length-1;i++){
				html.push('<div a5-item="key:multi-key" a5-value="'+v[i]+'" class="menuItem">'+v[i]+'</div>');
			}
			html.push('</div>')
			html.push('<div style="position: absolute; left: 50%; margin-left: -10px" class="pointerDown"></div>');
			mkEle.innerHTML = html.join('');
			mkEle.style.display = '';
			var cEle = $(this.contId);
			var oL = 0;
			var oT = 0;
			if(ele.offsetParent != cEle){
				oL = ele.offsetParent.offsetLeft;
				oT = ele.offsetParent.offsetTop;
			}
			var cW = cEle.offsetWidth;
			var bL = ele.offsetLeft+oL;
			var bT = ele.offsetTop+oT;
			var bW = ele.offsetWidth;
			var bH = ele.offsetHeight;
			var mkW = mkEle.offsetWidth;
			var mkH = mkEle.offsetHeight;
			bL = Math.round(bL+(bW/2))
			var mkL = Math.max(Math.round(bL-(mkW/2)),0);
			if(mkL+mkW > cW) mkL = cW-mkW;
			var mkT = bT-10-mkH;
			mkEle.style.top = mkT+'px';
			mkEle.style.left = mkL+'px';
			bL = bL-mkL;
			mkEle.lastChild.style.left = bL+'px';
			this._mk.startIndex = Math.floor((bL/mkW)*v.length);
		} else if(ia != 'multi-key' && this._mk.a != false){
			this._mk.a = false;
			mkEle.style.display = 'none';
		} 
				}
		},
		'cursor' : {
			itemName: 'cursor',
			selectable: false,
			onClick: function(v,ia,i,ele) { 				
				var indx = Number(ia);
		if(this.data.settings.cursor.index == indx) indx++;
		this.data.settings.cursor.index = indx;
		$('EDITOR_AN_KEYPAD.DISPLAY').children[0].innerHTML = this.getDisplayValue();
			}
						,
			onDown: function(v,ia,i,ele) { 			 if(!this.data.settings.scale){
			this._d.a = true;
			this._d.s = false;
			this._d.coors = $e.getCoors(arguments[4]);
		} 
				}
		},
		'display' : {
			itemName: 'display',
			selectable: false,
			onClick: function(v,ia,i,ele) { 				
				if(this.data.settings.cursor.allow){
			var val = this.value[0];
			if(typeof val == 'undefined') val = '';
			this.data.settings.cursor.index = val.length;
			$('EDITOR_AN_KEYPAD.DISPLAY').children[0].innerHTML = this.getDisplayValue();
		}
			}
						,
			onDown: function(v,ia,i,ele) { 			 if(!this.data.settings.scale){
			this._d.a = true;
			this._d.s = false;
			this._d.coors = $e.getCoors(arguments[4]);
		} 
				}
		}
		}
};
DLG1_DlgObj._viewBoxSettings['EDITOR_NUM_KEYPAD'] = {
	"inputId": "EDITOR_NUM_KEYPAD",
	"variableName": "EDITOR_NUM_KEYPAD",
	"theme": "Alpha",
	"multiple": false,
	"loopNavigate": false,
	"loopNavigateNullSelection": true,
	"allowNullSelection": false,
	"allowTextSelection": false,
	"allowNullDeselection": false,
	"autoRefresh": true,
	"allowAnyValue": true,
	"captureFocus": true,
	"scroll": false,
	"getDisplayValue": function() {var v = this.value[0];
if(this.data.settings.decimal.allow){
	var decChar = this.data.settings.decimal.char;
	var decCharIsLast = false;
	var decCharHas = v.indexOf(decChar) != -1;
	var decPlaces = v.length-v.indexOf(decChar);
	if(v[v.length-1] == decChar) decCharIsLast = true;
}
if(this.data.formatter) v = this.data.formatter(v);
if(this.data.settings.decimal.allow){
	if(decCharIsLast && v.indexOf(decChar) == -1) v = v+decChar;
	var decIndx = v.indexOf(decChar);
	if(!decCharHas && decIndx != -1) v = v.substr(0,decIndx);
	if(decCharHas) v = v.substr(0,decIndx+decPlaces);
}
if(v == '') v = '&nbsp;';
return v;},
	"keyMove": function(e,ci) {if(ci._mk.a){
	var index = -1;
	var coors = $e.getCoors(e);
	var limit = 12;
	if(coors.clientY-ci._mk.coors.clientY > limit*2) index = -2;
	else {
		var doSel = true;
		if(ci._mk.index == -1){
			if(Math.abs(coors.clientX-ci._mk.coors.clientX) <= limit && ci._mk.coors.clientY-coors.clientY < limit) doSel = false;
		}
		if(doSel){
			var valuesLen = ci._mk.values.length-1;
			index = Math.min(valuesLen,Math.max(0,Math.round(ci._mk.startIndex-((ci._mk.coors.clientX-coors.clientX)/limit))));
		}
	}
	if(ci._mk.index != index){
		ci._mk.index = index;
		var mkEle = $('EDITOR_NUM_KEYPAD.MULTIKEY');
		if(index == -2){
			mkEle.style.display = 'none';
		} else if(index > -1){
			mkEle.style.display = '';
			for(var i=0;i<=valuesLen;i++){
				if(i == index) mkEle.children[0].children[i].className = 'menuItem menuItemSelected';
				else mkEle.children[0].children[i].className = 'menuItem';
			}
		}
	}
}},
	"hideMenu": function() {var mkEle = $('EDITOR_NUM_KEYPAD.MULTIKEY');
mkEle.style.display = 'none';},
	"layout": "default",
	"layouts": {
		'default' : {
			type: 'template',
			template: [
			'<div class="keypad {*if !(settings.allowLowerCase && settings.lowerCase)}keypadUpper{*endif}">',
			'	<div>',
			'		<div id="EDITOR_NUM_KEYPAD.DISPLAY" class="keypadValue" style="text-align: {settings.align};">',
			'			<div>{[scope].getDisplayValue()}</div>',
			'		</div>',
			'		<div class="keypadKeys">',
			'			<div class="keypadKeysCol">',
			'				{*if settings.customKeys.allow && settings.customKeys.primary.allow}',
			'				<button id="EDITOR_NUM_KEYPAD.K0" a5-item="key:customKey:primary" class="multi">{settings.customKeys.primary.html}</button><br />',
			'				{*endif}',
			'				{*if settings.customKeys.allow && settings.customKeys.secondary.allow}',
			'				<button id="EDITOR_NUM_KEYPAD.K1" a5-item="key:customKey:secondary" class="multi">{settings.customKeys.secondary.html}</button><br />',
			'				{*endif}',
			'				<button a5-item="key:clear" id="EDITOR_NUM_KEYPAD.CLEAR" class="clearKey {*if !settings.customKeys.allow || !settings.customKeys.secondary.allow}dblHeight{*endif}">C</button><br />',
			'				<button a5-item="key:back" id="EDITOR_NUM_KEYPAD.BACK" class="clearKey {*if !settings.customKeys.allow || !settings.customKeys.primary.allow}dblHeight{*endif}">{A5.u.icon.html(\'svgIcon=#alpha-icon-backspace\\\\:icon\')}</button>',
			'			</div>',
			'			<div style="display: inline-block;">',
			'				<div>',
			'					<button a5-item="key:7" id="EDITOR_NUM_KEYPAD.7">7</button>',
			'					<button a5-item="key:8" id="EDITOR_NUM_KEYPAD.8">8</button>',
			'					<button a5-item="key:9" id="EDITOR_NUM_KEYPAD.9">9</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:4" id="EDITOR_NUM_KEYPAD.4">4</button>',
			'					<button a5-item="key:5" id="EDITOR_NUM_KEYPAD.5">5</button>',
			'					<button a5-item="key:6" id="EDITOR_NUM_KEYPAD.6">6</button>',
			'				</div>',
			'				<div>',
			'					<button a5-item="key:1" id="EDITOR_NUM_KEYPAD.1">1</button>',
			'					<button a5-item="key:2" id="EDITOR_NUM_KEYPAD.2">2</button>',
			'					<button a5-item="key:3" id="EDITOR_NUM_KEYPAD.3">3</button>',
			'				</div>',
			'				<div>',
			'					{*if settings.negative.allow}<button a5-item="key:+/-" id="EDITOR_NUM_KEYPAD.NEG"><svg viewBox="0 0 26 26" class="icon"><path d="M 6,21 20,5 m -5,13 h 8 M 3,8 h 8 M 7,4 v 8" fill="none" stroke="inherit" stroke-width="2" /></svg></button>{*elseif !settings.decimal.allow}<button class="keyMissing">&nbsp;</button>{*endif}',
			'					<button a5-item="key:0" id="EDITOR_NUM_KEYPAD.0" {*if settings.negative.allow != settings.decimal.allow}class="dblWidth"{*endif}>0</button>',
			'					{*if settings.decimal.allow}<button a5-item="key:decimal" id="EDITOR_NUM_KEYPAD.DECIMAL">.</button>{*elseif !settings.negative.allow}<button class="keyMissing">&nbsp;</button>{*endif}',
			'				</div>',
			'			</div>',
			'		</div>',
			'	</div>',
			'</div>',
			'<div id="EDITOR_NUM_KEYPAD.MULTIKEY" class="menu multiKeyMenu" style="display: none; position: absolute;"></div>'
			].join('')
		}
	},
	"onDraw": function(ele) { 
var dEle = $('EDITOR_NUM_KEYPAD.DISPLAY');
if(dEle){
	if(this.data.settings.scale){
		var fEle = dEle.children[0];
		var fw = fEle.offsetWidth;
		var ow = dEle.offsetWidth-24;
		if(fw > ow){
			fEle.style.transformOrigin = '0px 50%';
			fEle.style.transform = 'scale('+((1/fw)*ow)+')';
		}
	} else{
		dEle.scrollLeft = dEle.scrollWidth;
	}
}},
	"onUp": function(v,ia,i,ele) { 
if(this._mk.a){
	this._mk.a = false;
	if(this._mk.index > -1){
		var char = this._mk.values[this._mk.index];
		var val = this.value[0];
		var len = this.data.settings.size;
		var addChar = true
		if(len > 0){
			if(val.length >= len) addChar = false;
		}
		if(addChar){
			if(!this._caseSticky) this.data.settings.lowerCase = true;
			this.value[0] = val+''+char;
			this.refresh();
		}
	}
}},
	"_onInitialize": function() { $acn(this.contId,'DLG1_' + this.variableName); this._mk = {a: false, char: 0, chars: '', coors: {clientX: -1, clientY: -1}};
$e.add(this.contId,'abstractmove',this.keyMove,this); },
	"items": {
		'key' : {
			itemName: 'key',
			selectable: false,
			onClick: function(v,ia,i,ele) { 				
				var val = this.value[0] || '';
		var len = this.data.settings.size;
		var decAllow = this.data.settings.decimal.allow;
		var decChar = this.data.settings.decimal.char;
		var decLen = this.data.settings.decimal.places;
		if(ia.indexOf('customKey') == 0){
			var cKey = ia.split(':').pop();
			cKey = this.data.settings.customKeys[cKey];
			ia = 'multi';
			if(cKey.value.length == 1) ia = cKey.value[0];
		}
		if(ia == '+/-'){
			if(val[0] == '-') val = val.substr(1,val.length-1);
			else val = '-'+val;
		} else if(ia == 'decimal'){
			if(decAllow){
				if(val.indexOf(decChar) == -1)  val = val+''+decChar;
			}
		} else if(ia == 'clear'){
			val = '';
		} else if(ia == 'back'){
			val = val.substr(0,val.length-1);
		} else if(ia != 'multi'){
			if(ia == 'multi-key') ia = v;
			var addChar = true
			if(len > 0){
				if(val.length >= len) addChar = false;
			}
			if(decAllow && val.indexOf(decChar) != -1){
				if(decLen > 0){
					if(val.substr(val.indexOf(decChar)).length > decLen) addChar = false;
				}
			}
			if(addChar) val = val+''+ia;
		}
		if(ia != 'multi'){
			this.value[0] = val;
			this.refresh();
		}
			}
						,
			onDown: function(v,ia,i,ele) { 			 var mkEle = $('EDITOR_NUM_KEYPAD.MULTIKEY');
		if(ia.indexOf('customKey') == 0){
			var cKey = ia.split(':').pop();
			cKey = this.data.settings.customKeys[cKey];
			if(cKey.value.length > 1){
				ia = 'multi';
				v = cKey.value;
			}
		}
		if(ia == 'multi'){
			if(!(this.data.settings.allowLowerCase && this.data.settings.lowerCase) && typeof v == 'string') v = v.toUpperCase();
			this._mk.a = true;
			this._mk.index = -1;
			this._mk.values = v;
			this._mk.coors = $e.getCoors(arguments[4]);
			this._mk.startIndex = 0;
			clearTimeout(this._mk.to);
			var html = ['<div class="">'];
			for(var i=0;i<=v.length-1;i++){
				html.push('<div a5-item="key:multi-key" a5-value="'+v[i]+'" class="menuItem">'+v[i]+'</div>');
			}
			html.push('</div>')
			html.push('<div style="position: absolute; left: 50%; margin-left: -10px" class="pointerDown"></div>');
			mkEle.innerHTML = html.join('');
			mkEle.style.display = '';
			var cEle = $(this.contId);
			var oL = 0;
			var oT = 0;
			if(ele.offsetParent != cEle){
				oL = ele.offsetParent.offsetLeft;
				oT = ele.offsetParent.offsetTop;
			}
			var cW = cEle.offsetWidth;
			var bL = ele.offsetLeft+oL;
			var bT = ele.offsetTop+oT;
			var bW = ele.offsetWidth;
			var bH = ele.offsetHeight;
			var mkW = mkEle.offsetWidth;
			var mkH = mkEle.offsetHeight;
			bL = Math.round(bL+(bW/2))
			var mkL = Math.max(Math.round(bL-(mkW/2)),0);
			if(mkL+mkW > cW) mkL = cW-mkW;
			var mkT = bT-10-mkH;
			mkEle.style.top = mkT+'px';
			mkEle.style.left = mkL+'px';
			bL = bL-mkL;
			mkEle.lastChild.style.left = bL+'px';
			this._mk.startIndex = Math.floor((bL/mkW)*v.length);
		} else if(ia != 'multi-key' && this._mk.a != false){
			this._mk.a = false;
			mkEle.style.display = 'none';
		} 
				}
		}
		}
};
DLG1_DlgObj._viewBoxData['EDITOR_AN_KEYPAD'] = {
	formatter: false,
	settings: {
		size: -1,
		align: 'left',
		keypad: 'a',
		cursor: {
			allow: true,
			index: 0
		},
		customKeys: {
			allow: true,
			primary: {allow: true, value: ['@'], html: "@"},
			secondary: {allow: true, value: ['.'], html: "."}
		}
	}
};
DLG1_DlgObj._viewBoxData['EDITOR_NUM_KEYPAD'] = {
	formatter: false,
	settings: {
		size: -1,
		align: 'right',
		scale: true,
		keypad: 'a',
		customKeys: {
			allow: false,
			primary: {allow: true, value: ['*'], html: '*'},
			secondary: {allow: true, value: ['/'], html: '/'}
		},
		negative: {
			allow: false
		},
		decimal: {
			allow: false,
			char: '.',
			places: -1
		}
	}
};
DLG1_DlgObj._controls['EDITOR_AN_KEYPAD'] =  { type: 'viewBox',  data: DLG1_DlgObj._viewBoxData['EDITOR_AN_KEYPAD'],  onInitialize: function() { if(this._onInitialize) {this._onInitialize();} },  settings: DLG1_DlgObj._viewBoxSettings['EDITOR_AN_KEYPAD'] }
DLG1_DlgObj._controls['EDITOR_NUM_KEYPAD'] =  { type: 'viewBox',  data: DLG1_DlgObj._viewBoxData['EDITOR_NUM_KEYPAD'],  onInitialize: function() { if(this._onInitialize) {this._onInitialize();} },  settings: DLG1_DlgObj._viewBoxSettings['EDITOR_NUM_KEYPAD'] }
DLG1_DlgObj._inkSettings = {};
DLG1_DlgObj._inkSettings['EDITOR_SIGNATURE_SIGNATUREINK'] = {
	theme: 'Alpha',
	autoCommit: false,
	layout: 'editor',
	previewSize: 512,
	split: {
		layout: 'v-view-editor',
		size: '300px'
	},
	page: {
		width: 400,
		height: 200,
		unit: 'px',
		dpu: 2,
		background: {
		}
	},
	view: {
		detached: {
		},
		scale: {
			fit: 'both',
			margin: 10,
			lock: true
		},
		overlay: {
			show: true,
			html: '<div style="position: absolute; bottom: -1px; right: 0px; left: 0px; text-align: center;">\n\t<div class="inkPopup" style="display: inline-block; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;">\n\t\t<div a5-item="sign" class="inkPopupButton" style="display: inline-block;">Sign</div>\n\t\t<div a5-item="cancel" class="inkPopupButton" style="display: inline-block;">Cancel</div>\n\t</div>\n</div>\n'
		},
		zoomBox: {
			className: 'null',
			navigateClassName: 'null',
			scale: {
				allow: false
			}
		}
	},
	editor: {
		scale: {
			fit: 'both',
			margin: 10,
			lock: false
		},
		page: {
			className: 'EDITOR_SIGNATURE_SIGNATUREINKActivePage',
			offset: 0
		},
		overlay: {
			show: true,
			html: '<div style="position: absolute; bottom: -1px; right: 0px; left: 0px; text-align: center;">\n\t<div class="inkPopup" style="display: inline-block; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px;">\n\t\t<div a5-item="clear" class="inkPopupButton" style="display: inline-block;">Clear</div>\n\t\t<div a5-item="cancel" class="inkPopupButton" style="display: inline-block;">Cancel</div>\n\t\t<div a5-item="accept" class="inkPopupButton" style="display: inline-block;">Accept</div>\n\t</div>\n</div>\n\n'
		}
	},
	items: {clear: {onClick: function(ele,part,data){
this.clear()
}},cancel: {onClick: function(ele,part,data){
if(this.oldValue){
	this.setValue(this.oldValue);
} else{
	this.clear();
}
this.layout = 'view';
this.refresh();
DLG1_DlgObj.editorCancel('editor:EDITOR_SIGNATURE');
}},accept: {onClick: function(ele,part,data){
this.commit();
this.layout = 'view';
this.refresh();
}},sign: {onClick: function(ele,part,data){
this.oldValue = this.value;
this.clear();
this.layout = 'editor';
this.refresh();
}}},
	tools: {
		pen: {
			smooth: 2,
			base: {
				color: '#000',
				width: 6,
				lineCap: 'round'
			},
			preview: {
				size: 40,
				width: {
					show: 'never'
				},
				clip: {
					shape: 'circle'
				}
			},
			memory: {
				load: 'current',
				clear: 'current'
			}
		},
		eraser: {
			size: 50
		}
	},
	status: {
		messages: {
			'tool:pen': '',
			'tool:eraser': 'Eraser',
			'tool:pan': 'Drag to pan',
			'item:naviagte': 'Drag to pan',
			'item:naviagte:new-line': 'Drag to move between lines'
		}
	},
	onCommit: function(value){
var closeEditorAfterCommit = true;
DLG1_DlgObj.editorCommit('editor:EDITOR_SIGNATURE',closeEditorAfterCommit);
}
}
DLG1_DlgObj._controls['EDITOR_SIGNATURE_SIGNATUREINK'] = { type: 'ink',   settings:  DLG1_DlgObj._inkSettings['EDITOR_SIGNATURE_SIGNATUREINK']    }
DLG1_DlgObj._forms = {}; DLG1_DlgObj._listsWithLinkedForms = {};
DLG1_DlgObj._forms['FORMVIEW_1'] = {
	"from": "list",
	"row": -1,
	"lists": {name: 'GENERATORSLIST'},
	"contId": "DLG1.V.R1.FORMVIEW_1",
	"autoCommit": false,
	"loopNavigate": false,
	"loopNavigateNullSelection": true,
	"allowNullSelection": true,
	"captureFocus": true,
	"viewBoxSettings": {
		"_lookupCategoryID": function(argumentIn) {var lObj = DLG1_DlgObj.getControl('BUSCAT');
var keyField = 'CategoryID';
var returnField = 'BusinessCategory';
var _d = lObj._data; 
			var ix = -1;
			for(var i = 0; i < _d.length; i++) { 
				if(_d[i][keyField] == argumentIn) { 
					ix = i;
					break;
				}
			}
			if(ix == -1) return 'Undefined';
			else return _d[ix][returnField];
			}
	},
	"fields": {
	'CategoryID' : {editor: ['EDITORSET_4','EDITOR_7'],fieldType: 'Unspecified',settings: {helpText: 'Business Category',title: 'Business Category'}},
	'BusinessName' : {editor: ['EDITORSET_4','EDITOR_4'],fieldType: 'Unspecified',settings: {helpText: 'Business Name',title: 'Business Name'}},
	'OpMan' : {editor: ['EDITORSET_4','EDITOR_4'],fieldType: 'Unspecified',settings: {helpText: 'Operator/Manager',title: 'Operator/Manager'}},
	'userid' : {editor: ['EDITORSET_4','EDITOR_4'],fieldType: 'Unspecified',settings: {helpText: 'Email',title: 'Email'}},
	'telephone' : {editor: ['EDITORSET_4','EDITOR_AN'],fieldType: 'Unspecified',settings: {helpText: 'Phone',title: 'Phone'}},
	'address' : {fieldType: 'Unspecified',group: 'adrressgrp',settings: {helpText: 'Address',title: 'Address'}},
	'city' : {fieldType: 'Unspecified',group: 'adrressgrp',settings: {helpText: 'City',title: 'City'}},
	'state' : {fieldType: 'Unspecified',group: 'adrressgrp',settings: {helpText: 'State',title: 'State'}},
	'zip' : {editor: ['EDITORSET_4','EDITOR_NUM'],fieldType: 'Unspecified',settings: {helpText: 'Zip',title: 'Zip'}},
	'AuthorizedAgent' : {editor: ['EDITORSET_4','EDITOR_4'],fieldType: 'Unspecified',settings: {helpText: 'Authorized Agent',title: 'Authorized Agent'}},
	'AgentSignature' : {editor: ['EDITORSET_4','EDITOR_SIGNATURE'],fieldType: 'Unspecified',settings: {helpText: 'Agent Signature',title: 'Agent Signature'}},
	'AgentTitle' : {editor: ['EDITORSET_4','EDITOR_4'],fieldType: 'Unspecified',settings: {helpText: 'Agent Title',title: 'Agent Title'}},
	'Gendate' : {editor: ['EDITORSET_4','EDITOR_DATE'],fieldType: 'Unspecified',settings: {helpText: 'Date',title: 'Date'}},
	'Status' : {editor: ['EDITORSET_4','EDITOR_STATUS'],fieldType: 'Unspecified',settings: {helpText: 'Status',title: 'Status'}}
},
	"groups": {
	'adrressgrp' : {columns: ['address','city','state'],settings: {},editor: ['EDITORSET_4','EDITOR_3']}
},
	"layout": "default",
	"state": {},
	"layouts": 	{
				'default' : {
					type: 'template',
					template: [
				'<div>',
				'<div id="DLG1.FORMVIEW_1.CategoryID" a5-item="*edit" a5-value="CategoryID"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'CategoryID\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Business Category</div> <div class="edit"><span id="DLG1.FORMVIEW_1.CategoryID.DISPLAY">{@[scope]._lookupCategoryID(CategoryID)}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'CategoryID\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.BusinessName" a5-item="*edit" a5-value="BusinessName"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'BusinessName\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Business Name</div> <div class="edit"><span id="DLG1.FORMVIEW_1.BusinessName.DISPLAY">{BusinessName}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'BusinessName\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.OpMan" a5-item="*edit" a5-value="OpMan"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'OpMan\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Operator/Manager</div> <div class="edit"><span id="DLG1.FORMVIEW_1.OpMan.DISPLAY">{OpMan}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'OpMan\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.userid" a5-item="*edit" a5-value="userid"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'userid\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Email</div> <div class="edit"><span id="DLG1.FORMVIEW_1.userid.DISPLAY">{userid}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'userid\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.telephone" a5-item="*edit" a5-value="telephone"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'telephone\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Phone</div> <div class="edit"><span id="DLG1.FORMVIEW_1.telephone.DISPLAY">{telephone}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'telephone\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.address" a5-item="*edit" a5-value="address"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'address\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Address</div> <div class="edit"><span id="DLG1.FORMVIEW_1.address.DISPLAY">{address}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'address\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.city" a5-item="*edit" a5-value="city"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'city\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">City</div> <div class="edit"><span id="DLG1.FORMVIEW_1.city.DISPLAY">{city}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'city\',[temp].state)}</div>',
				'</div>',
				'<div>',
				'<div id="DLG1.FORMVIEW_1.state" a5-item="*edit" a5-value="state"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'state\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">State</div> <div class="edit"><span id="DLG1.FORMVIEW_1.state.DISPLAY">{state}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'state\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.zip" a5-item="*edit" a5-value="zip"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'zip\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Zip</div> <div class="edit"><span id="DLG1.FORMVIEW_1.zip.DISPLAY">{zip}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'zip\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.AuthorizedAgent" a5-item="*edit" a5-value="AuthorizedAgent"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'AuthorizedAgent\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Authorized Agent</div> <div class="edit"><span id="DLG1.FORMVIEW_1.AuthorizedAgent.DISPLAY">{AuthorizedAgent}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'AuthorizedAgent\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.AgentSignature" a5-item="*edit" a5-value="AgentSignature"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'AgentSignature\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; ;padding-right: 4px;" ><div class="label" style="font-size: 75%">Agent Signature</div> <div class="edit"><span id="DLG1.FORMVIEW_1.AgentSignature.DISPLAY">{AgentSignature}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'AgentSignature\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.AgentTitle" a5-item="*edit" a5-value="AgentTitle"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'AgentTitle\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Agent Title</div> <div class="edit"><span id="DLG1.FORMVIEW_1.AgentTitle.DISPLAY">{AgentTitle}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'AgentTitle\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.Gendate" a5-item="*edit" a5-value="Gendate"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'Gendate\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Date</div> <div class="edit"><span id="DLG1.FORMVIEW_1.Gendate.DISPLAY">{Gendate}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'Gendate\',[temp].state)}</div>',
				'<div id="DLG1.FORMVIEW_1.Status" a5-item="*edit" a5-value="Status"  class="formView {@DLG1_DlgObj.formViewGetItemClassName(\'FORMVIEW_1\',\'Status\',[temp].state)}" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100%; display:inline-block; border-style: solid; border-width: 1px;;padding-right: 4px;" ><div class="label" style="font-size: 75%">Status</div> <div class="edit"><span id="DLG1.FORMVIEW_1.Status.DISPLAY">{Status}&nbsp;</span></div> {@DLG1_DlgObj.formViewGetItemErrors(\'FORMVIEW_1\',\'Status\',[temp].state)}</div>',
				'</div>'
				].join(''),
					items: {
				}
				}
	},
	"items": 		{
		}
,
	"onBeforeCommit": false,
	"onCommit": false,
	"onBeforeUpdate": false,
	"onUpdate": false,
	"onDraw": false,
	"onBeforeDraw": false,
	"onSelect": false,
	"onSelectComplete": false,
	"resolveConflict": function(column,conflictObj) { 
}
,
	"onInitialize": false,
	"selectedClassName": "formValueSelected",
	"echoClassName": "formValueEcho",
	"dirtyClassName": "formValueDirty",
	"errorClassName": "formValueError",
	"conflictClassName": "formValueWriteConflict",
	"errorTextClassName": "formErrorText",
	"version": 1
};
DLG1_DlgObj._listsWithLinkedForms['GENERATORSLIST'] = ['FORMVIEW_1'];
DLG1_DlgObj._controlBars = {}; 
DLG1_DlgObj._controlBars['CONTROLBAR_1'] = {
	"cb": {
		"actions": [
			{
				"name": "Action1",
				"javascript": "alert('You selected action1');\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "Action2",
				"javascript": "alert('You selected action2');\n"
			},
			{
				"name": "Action3",
				"javascript": "\nalert('You selected action3');\n",
				"editorstatejson": "{\n\t\"start\": 507,\n\t\"end\": 537\n}"
			},
			{
				"name": "Action4",
				"javascript": "\nalert('You selected action4');\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			}		
],
		"items": [
			{
				"name": "Html1",
				"itemType": "html",
				"item": {
					"html": {
						"html": "Generators",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu",
				"itemType": "disclosure-button",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"disclosure": {
						"name": "layout:menuLayout",
						"type": "outside-before",
						"size": "none",
						"flagAnimate": true,
						"animation": {
							"duration": "200",
							"tween": "ease-in-out"
						},
						"autoHide": true,
						"bind": {
							"show": "",
							"disabled": ""
						},
						"rectangle": {
							"left": "100",
							"right": "100",
							"top": "100",
							"bottom": "100",
							"edge": "top",
							"fill": "width",
							"method": "SpecifyNow",
							"javascript": ""
						},
						"show": {
							"layout": "Image only",
							"icon": "svgIcon=#alpha-icon-bars:icon,12",
							"html": "Button",
							"hasCustomHideButton": false,
							"subTheme": "",
							"disabledIcon": "",
							"tip": "",
							"style": "",
							"className": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": "",
							"hoverIcon": "",
							"pressedIcon": ""
						},
						"hide": {
							"layout": "Text only",
							"html": "Button",
							"subTheme": "",
							"icon": "",
							"disabledIcon": "",
							"tip": "",
							"style": "",
							"className": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": "",
							"hoverIcon": "",
							"pressedIcon": ""
						},
						"className": "",
						"coverClassName": "",
						"autoHideDisclosure": "always",
						"margin": {
							"top": "",
							"bottom": "",
							"left": "",
							"right": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu1",
				"itemType": "button",
				"itemAction": {
					"click": "Action1",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-comment:icon,24",
						"html": "Menu 1",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu2",
				"itemType": "button",
				"itemAction": {
					"click": "Action2",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-chartBar:icon,24",
						"html": "Menu 2",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu3",
				"itemType": "button",
				"itemAction": {
					"click": "Action3",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-cart:icon,24",
						"html": "Menu 3",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu4",
				"itemType": "button",
				"itemAction": {
					"click": "Action4",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-gear:icon,24",
						"html": "Menu 4",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{panelName}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html3",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{busName}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html4",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "panelName",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var name = dialog.activePanelName;\\n\\nname = name.split('_')[1];\\n\\nreturn name;\",\n\t\"initialvalue\": \"\"\n}",
				"display": "{data=1}{B=White,Light Blue}panelName"
			},
			{
				"name": "busName",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_1')\\n\\nvar newValue = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName')\\n\\ncbObj.update('busName',newValue);\\n\\nreturn newValue;\\n\",\n\t\"initialvalue\": \"\"\n}",
				"display": "{data=2}{B=White,Light Blue}busName"
			}		
],
		"layouts": [
			{
				"name": "Layout1",
				"lines": [
					{
						"before": "Menu",
						"middle": "Html1",
						"after": "",
						"showexpression": "",
						"className": "",
						"style": "",
						"linetype": "Default",
						"customHTML": ""
					}				
],
				"default": false
			},
			{
				"name": "menuLayout",
				"default": false,
				"lines": [
					{
						"before": "Menu1,Menu2,Menu3",
						"middle": "",
						"after": "",
						"linetype": "Default",
						"customHTML": "",
						"showexpression": "",
						"className": "",
						"style": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-in",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "1\n",
		"selected_item_C": "8\n",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Data",
		"selected_data_c": "2"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_1",
    "disclosuresClassName": "DLG1_CONTROLBAR_1",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "Html1": {
            "size": "",
            "type": "html",
            "html": "Generators",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Menu": {
            "type": "disclosure-button",
            "disclosure": {
                "name": "layout:menuLayout",
                "type": "outside-before",
                "size": "none",
                "animation": {
                    "duration": 200,
                    "tween": "ease-in-out"
                },
                "autoHide": true
            },
            "autoHideDisclosure": "always",
            "settings": {
                "show": {
                    "theme": "Alpha",
                    "layout": "icon",
                    "html": "Button",
                    "icon": "svgIcon=#alpha-icon-bars:icon,12"
                },
                "hide": {
                    "theme": "Alpha",
                    "layout": "icon",
                    "html": "Button",
                    "icon": "svgIcon=#alpha-icon-bars:icon,12"
                }
            },
            "actions": {}
        },
        "Menu1": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action1"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-comment:icon,24",
                "html": "Menu 1"
            }
        },
        "Menu2": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action2"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-chartBar:icon,24",
                "html": "Menu 2"
            }
        },
        "Menu3": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action3"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-cart:icon,24",
                "html": "Menu 3"
            }
        },
        "Menu4": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action4"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-gear:icon,24",
                "html": "Menu 4"
            }
        },
        "Html2": {
            "size": "",
            "type": "html",
            "html": "{panelName}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html3": {
            "size": "",
            "type": "html",
            "html": "{busName}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html4": {
            "size": "",
            "type": "html",
            "html": "&nbsp;",
            "bind": {
                "show": ""
            },
            "actions": {}
        }
    },
    "actions": {
        "Action1": function(data) {alert('You selected action1');},
        "Action2": function(data) {alert('You selected action2');},
        "Action3": function(data) {alert('You selected action3');},
        "Action4": function(data) {alert('You selected action4');}
    },
    "layout": "Layout1",
    "layouts": {
        "Layout1": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "Menu"
                        ]
                    },
                    "middle": {
                        "items": [
                            "Html1"
                        ]
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        },
        "menuLayout": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "Menu1",
                            "Menu2",
                            "Menu3"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"panelName": "",
	"busName": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_1"
}
DLG1_DlgObj._controlBars['CONTROLBAR_2'] = {
	"cb": {
		"actions": [
			{
				"name": "Action1",
				"javascript": "\n//value is an array because a buttonList allows multiple buttons to be \n//selected (if the option for multi-select is turned on)\n//read the first item in the array\nvar panelNumber = this.data.buttonList.value[0];\nvar targetPanel = 'PANELCARD_' + panelNumber;\nDLG1_DlgObj.panelSetActive(targetPanel)\n\n//if (targetPanel == 'PANELCARD_3')\n//{\n//var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_1');\n//var newValue = 'Generators';\n//cbObj.update('busName',newValue);\n//\treturn 'Layout1';\n//} else { \n//\treturn 'Layout2'; \n//}\n\n\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "SetActivePanel_PANELCARD_GENERATORS_LIST",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_GENERATORS_LIST');\nvar cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');\nif(cbObj) cbObj.setLayout('LayoutSearchSave',{\"type\": \"slide-left\",\"duration\": 200,\"tween\": \"ease-in-out\"});",
				"editorstatejson": "{\n\t\"start\": 649,\n\t\"end\": 667\n}"
			},
			{
				"name": "SetActivePanel_PANELCARD_SEARCH",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_SEARCH');\nvar cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');\nif(cbObj) cbObj.setLayout('LayoutSearchSave',{\"type\": \"slide-left\",\"duration\": 200,\"tween\": \"ease-in-out\"});\n\n\n\n\n",
				"editorstatejson": "{\n\t\"start\": 614,\n\t\"end\": 722\n}"
			},
			{
				"name": "SetActivePanel_PANELCARD_SAVE_EXIT",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_SAVE_EXIT');\nvar cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');\nif(cbObj) cbObj.setLayout('LayoutSearchSave',{\"type\": \"slide-left\",\"duration\": 200,\"tween\": \"ease-in-out\"});\n\n\n////New Code Below\n//var cbObj2 = DLG1_DlgObj.getControl('CONTROLBAR_1')\n//var newValue = ''\n//cbObj2.update('busName',newValue);\n//return newValue;\n",
				"editorstatejson": "{\n\t\"start\": 561,\n\t\"end\": 725\n}"
			},
			{
				"name": "Search2",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_SEARCH');\nvar cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');\nif(cbObj) cbObj.setLayout('LayoutSearchSave',{\"type\": \"slide-left\",\"duration\": 200,\"tween\": \"ease-in-out\"});\n//New Code Below\n//var cbObj2 = DLG1_DlgObj.getControl('CONTROLBAR_1')\n//var newValue = ''\n//cbObj2.update('busName','');\n\n\nreturn newValue;",
				"editorstatejson": "{\n\t\"start\": 641,\n\t\"end\": 641\n}"
			},
			{
				"name": "Button3_onClick",
				"javascript": "alert('this action not yet defined');",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "btnPeople_onClick",
				"javascript": "var searchFor = DLG1_DlgObj.getValue('companyid');\nvar listObj = DLG1_DlgObj.getControl('GENADMINLIST');\nlistObj.filterListClientSide(searchFor);\nDLG1_DlgObj.panelSetActive('PANELCARD_7',true);\nvar cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');\nif(cbObj) cbObj.setLayout('LayoutSearchSave',{\"type\": \"slide-left\",\"duration\": 200,\"tween\": \"ease-in-out\"});\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "SetActivePanel_PANELCARD_8",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_8');"
			},
			{
				"name": "SetActivePanel_PANELCARD_9",
				"javascript": "DLG1_DlgObj.panelSetActive('PANELCARD_9');"
			}		
],
		"items": [
			{
				"name": "Buttonlist1",
				"itemType": "button-list",
				"itemAction": {
					"click": "Action1",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"buttonList": {
						"autoHideDisclosure": "auto",
						"allowMultiple": false,
						"settingsJSON": "{\n\t\"defineMethod\": 1,\n\t\"defaultHTML\": \"\",\n\t\"variableName\": \"buttonList\",\n\t\"valuevariable\": \"value\",\n\t\"multistatesettingsvariable\": \"data\",\n\t\"statesJSON\": \"\",\n\t\"states\": [\n\t\t{\n\t\t\t\"html\": \"Search\",\n\t\t\t\"icon\": \"svgIcon=#alpha-icon-magGlass:icon,24\",\n\t\t\t\"value\": \"SEARCH\",\n\t\t\t\"bubbleHelp\": \"Search Panel\"\n\t\t},\n\t\t{\n\t\t\t\"html\": \"Save\",\n\t\t\t\"icon\": \"svgIcon=#alpha-icon-gear:icon,24\",\n\t\t\t\"value\": \"SAVE_EXIT\",\n\t\t\t\"bubbleHelp\": \"Save/Exit/Back to Website\"\n\t\t}\t\n]\n}",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"allowNullSelection": false,
						"fillWidth": true,
						"button": {
							"keepPressed": "true",
							"layout": "Image only",
							"subTheme": "",
							"style": "",
							"className": "",
							"firstClassName": "",
							"lastClassName": "",
							"middleClassName": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": ""
						},
						"nullSelectionClassName": "",
						"initialSelections": "",
						"className": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Buttonlist2",
				"itemType": "button-list",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"buttonList": {
						"autoHideDisclosure": "auto",
						"allowMultiple": false,
						"settingsJSON": "{\n\t\"defineMethod\": 1,\n\t\"defaultHTML\": \"\",\n\t\"variableName\": \"\",\n\t\"valuevariable\": \"value\",\n\t\"multistatesettingsvariable\": \"data\",\n\t\"statesJSON\": \"\",\n\t\"states\": [\n\t\t{\n\t\t\t\"html\": \"Search\",\n\t\t\t\"icon\": \"svgIcon=#alpha-icon-magGlass:icon,24\",\n\t\t\t\"value\": \"SEARCH\",\n\t\t\t\"bubbleHelp\": \"Search Screen\"\n\t\t},\n\t\t{\n\t\t\t\"html\": \"Save\",\n\t\t\t\"icon\": \"svgIcon=#alpha-icon-gear:icon,24\",\n\t\t\t\"value\": \"SAVE_EXIT\",\n\t\t\t\"bubbleHelp\": \"Save/Exit to Website\"\n\t\t},\n\t\t{\n\t\t\t\"html\": \"Generators List\",\n\t\t\t\"icon\": \"svgIcon=#alpha-icon-people:icon,24\",\n\t\t\t\"value\": \"3\"\n\t\t}\t\n]\n}",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"allowNullSelection": false,
						"fillWidth": true,
						"nullSelectionClassName": "",
						"initialSelections": "",
						"className": "",
						"button": {
							"keepPressed": "true",
							"layout": "Image only",
							"subTheme": "",
							"style": "",
							"className": "",
							"firstClassName": "",
							"lastClassName": "",
							"middleClassName": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "SetActivePanel_PANELCARD_GENERATORS_LIST",
				"itemType": "button",
				"item": {
					"button": {
						"layout": "Image only",
						"icon": "svgIcon=#alpha-icon-people:icon,24",
						"disabledIcon": "",
						"html": "Set Panel",
						"bind": {
							"disabled": "SetActivePanel_PANELCARD_GENERATORS_LIST_disabled",
							"show": ""
						},
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"subTheme": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto"
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "SetActivePanel_PANELCARD_GENERATORS_LIST",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "SetActivePanel_PANELCARD_SEARCH",
				"itemType": "button",
				"item": {
					"button": {
						"layout": "Image only",
						"icon": "svgIcon=#alpha-icon-magGlass:icon,24",
						"disabledIcon": "",
						"html": "Set Panel",
						"bind": {
							"disabled": "SetActivePanel_PANELCARD_SEARCH_disabled",
							"show": ""
						},
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"subTheme": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto"
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "SetActivePanel_PANELCARD_SEARCH",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "SetActivePanel_PANELCARD_SAVE_EXIT",
				"itemType": "button",
				"item": {
					"button": {
						"layout": "Image only",
						"icon": "svgIcon=#alpha-icon-gear:icon,24",
						"disabledIcon": "",
						"html": "Set Panel",
						"bind": {
							"disabled": "SetActivePanel_PANELCARD_SAVE_EXIT_disabled",
							"show": ""
						},
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"subTheme": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto"
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "SetActivePanel_PANELCARD_SAVE_EXIT",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Button3",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Search",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image only",
						"subTheme": "",
						"icon": "svgIcon=#alpha-icon-magGlass:icon,24",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "Search2",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "btnPeople",
				"itemType": "button",
				"item": {
					"button": {
						"html": "btnPeople",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image only",
						"subTheme": "",
						"icon": "svgIcon=#alpha-icon-people:icon,24",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "btnPeople_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "SetActivePanel_PANELCARD_8",
				"itemType": "button",
				"item": {
					"button": {
						"layout": "Text only",
						"icon": "",
						"disabledIcon": "",
						"html": "Set Panel",
						"bind": {
							"disabled": "SetActivePanel_PANELCARD_8_disabled",
							"show": ""
						},
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"subTheme": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto"
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "SetActivePanel_PANELCARD_8",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "SetActivePanel_PANELCARD_9",
				"itemType": "button",
				"item": {
					"button": {
						"layout": "Text only",
						"icon": "",
						"disabledIcon": "",
						"html": "Set Panel",
						"bind": {
							"disabled": "SetActivePanel_PANELCARD_9_disabled",
							"show": ""
						},
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"subTheme": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": "",
						"autoHideDisclosure": "auto"
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				},
				"itemAction": {
					"click": "SetActivePanel_PANELCARD_9",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "SetActivePanel_PANELCARD_GENERATORS_LIST_disabled",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \" return ;\",\n\t\"initialvalue\": \"\"\n}"
			},
			{
				"name": "SetActivePanel_PANELCARD_SEARCH_disabled",
				"datavalue": "watch:{controlsToWatch: '', initial: '{javascript}true', javascript: ' return ;'}"
			},
			{
				"name": "SetActivePanel_PANELCARD_SAVE_EXIT_disabled",
				"datavalue": "watch:{controlsToWatch: '', initial: '{javascript}true', javascript: ' return ;'}"
			},
			{
				"name": "SetActivePanel_PANELCARD_8_disabled",
				"datavalue": "watch:{controlsToWatch: '', initial: '{javascript}true', javascript: ' return ;'}"
			},
			{
				"name": "SetActivePanel_PANELCARD_9_disabled",
				"datavalue": "watch:{controlsToWatch: '', initial: '{javascript}true', javascript: ' return ;'}"
			}		
],
		"layouts": [
			{
				"name": "Layout1",
				"lines": [
					{
						"middle": "btnPeople",
						"linetype": "Default",
						"before": "SetActivePanel_PANELCARD_SEARCH",
						"after": "SetActivePanel_PANELCARD_SAVE_EXIT",
						"showexpression": "",
						"className": "",
						"style": "",
						"customHTML": ""
					}				
],
				"default": false
			},
			{
				"name": "Layout2",
				"default": false,
				"lines": [
					{
						"before": "",
						"middle": "Buttonlist1",
						"after": "",
						"linetype": "Default",
						"customHTML": "",
						"showexpression": "",
						"className": "",
						"style": ""
					}				
]
			},
			{
				"name": "LayoutSearchSave",
				"default": true,
				"lines": [
					{
						"before": "Button3",
						"middle": "",
						"after": "SetActivePanel_PANELCARD_SAVE_EXIT",
						"linetype": "Default",
						"customHTML": "",
						"showexpression": "",
						"className": "",
						"style": ""
					}				
]
			},
			{
				"name": "BlankLayout",
				"default": false,
				"lines": [
					{
						"before": "<separator>",
						"middle": "",
						"after": "",
						"linetype": "Default",
						"customHTML": "",
						"showexpression": "",
						"className": "",
						"style": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "bottom",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": true,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-in",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true,
			"selectActiveLayoutJavascript": "\n\n//var varGetPanel = DLG1_DlgObj.panelGetId('PANELCARD_3','body');\n//var targetPanel = 'PANELCARD_3';\n//var targetPanelList = 'PANELCARD_GENERATORS_LIST';\n//if (targetPanel == 'PANELCARD_3') \n//{\n//\treturn 'Layout1';\n//} else { \n//\treturn 'Layout2'; \n//}\n\n\n//var varGetPanel = DLG1_DlgObj.panelGetId('PANELCARD_3','panel');\n//if (targetPanelList == 'PANELCARD_GENERATORS_LIST') \n//{\n//\treturn 'Layout2';\n//}\n//\n//if (targetPanel == 'PANELCARD_SEARCH') \n//{\n//\treturn 'Layout2';\n//}\n//\n//if (varGetPanel == 'PANELCARD_3') \n//{\n//\treturn 'Layout1';\n//} else {\n//\treturn 'Layout2'\n//\t}\n\n//var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_1');\n//var newValue = 'Generators';\n//cbObj.update('busName',newValue);"
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_item_C": "6\n",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Actions",
		"selected_action_C": "5\n",
		"selected_data_c": "1"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_2",
    "disclosuresClassName": "DLG1_CONTROLBAR_2",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "bottom",
    "items": {
        "Buttonlist1": {
            "size": "100%",
            "type": "button-list",
            "autoHideDisclosure": "auto",
            "settings": {
                "multiple": false,
                "allowNullSelection": false,
                "button": {
                    "keepPressed": true,
                    "layout": "icon"
                },
                "fill": "width"
            },
            "bind": {
                "value": "buttonList.value",
                "data": "buttonList.data"
            },
            "actions": {
                "click": "Action1"
            }
        },
        "Buttonlist2": {
            "size": "100%",
            "type": "button-list",
            "autoHideDisclosure": "auto",
            "settings": {
                "multiple": false,
                "allowNullSelection": false,
                "button": {
                    "keepPressed": true,
                    "layout": "icon"
                },
                "fill": "width"
            },
            "bind": {
                "value": "ButtonList_2.value",
                "data": "ButtonList_2.data"
            },
            "actions": {}
        },
        "SetActivePanel_PANELCARD_GENERATORS_LIST": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {
                "disabled": "SetActivePanel_PANELCARD_GENERATORS_LIST_disabled"
            },
            "actions": {
                "click": "SetActivePanel_PANELCARD_GENERATORS_LIST"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-people:icon,24",
                "html": "Set Panel"
            }
        },
        "SetActivePanel_PANELCARD_SEARCH": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {
                "disabled": "SetActivePanel_PANELCARD_SEARCH_disabled"
            },
            "actions": {
                "click": "SetActivePanel_PANELCARD_SEARCH"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-magGlass:icon,24",
                "html": "Set Panel"
            }
        },
        "SetActivePanel_PANELCARD_SAVE_EXIT": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {
                "disabled": "SetActivePanel_PANELCARD_SAVE_EXIT_disabled"
            },
            "actions": {
                "click": "SetActivePanel_PANELCARD_SAVE_EXIT"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-gear:icon,24",
                "html": "Set Panel"
            }
        },
        "Button3": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Search2"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-magGlass:icon,24",
                "html": "Search"
            }
        },
        "btnPeople": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "btnPeople_onClick"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-people:icon,24",
                "html": "btnPeople"
            }
        },
        "SetActivePanel_PANELCARD_8": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {
                "disabled": "SetActivePanel_PANELCARD_8_disabled"
            },
            "actions": {
                "click": "SetActivePanel_PANELCARD_8"
            },
            "settings": {
                "layout": "text",
                "html": "Set Panel"
            }
        },
        "SetActivePanel_PANELCARD_9": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {
                "disabled": "SetActivePanel_PANELCARD_9_disabled"
            },
            "actions": {
                "click": "SetActivePanel_PANELCARD_9"
            },
            "settings": {
                "layout": "text",
                "html": "Set Panel"
            }
        }
    },
    "actions": {
        "Action1": function(data) {var panelNumber = this.data.buttonList.value[0];
var targetPanel = 'PANELCARD_' + panelNumber;
DLG1_DlgObj.panelSetActive(targetPanel)},
        "SetActivePanel_PANELCARD_GENERATORS_LIST": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_GENERATORS_LIST');
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('LayoutSearchSave',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});},
        "SetActivePanel_PANELCARD_SEARCH": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_SEARCH');
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('LayoutSearchSave',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});},
        "SetActivePanel_PANELCARD_SAVE_EXIT": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_SAVE_EXIT');
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('LayoutSearchSave',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});},
        "Search2": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_SEARCH');
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('LayoutSearchSave',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});
return newValue;},
        "Button3_onClick": function(data) {alert('this action not yet defined');},
        "btnPeople_onClick": function(data) {var searchFor = DLG1_DlgObj.getValue('companyid');
var listObj = DLG1_DlgObj.getControl('GENADMINLIST');
listObj.filterListClientSide(searchFor);
DLG1_DlgObj.panelSetActive('PANELCARD_7',true);
var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_2');
if(cbObj) cbObj.setLayout('LayoutSearchSave',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});},
        "SetActivePanel_PANELCARD_8": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_8');},
        "SetActivePanel_PANELCARD_9": function(data) {DLG1_DlgObj.panelSetActive('PANELCARD_9');}
    },
    "layout": "LayoutSearchSave",
    "layouts": {
        "Layout1": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "SetActivePanel_PANELCARD_SEARCH"
                        ]
                    },
                    "middle": {
                        "items": [
                            "btnPeople"
                        ]
                    },
                    "after": {
                        "items": [
                            "SetActivePanel_PANELCARD_SAVE_EXIT"
                        ]
                    }
                }
            ]
        },
        "Layout2": {
            "lines": [
                {
                    "before": {
                        "items": []
                    },
                    "middle": {
                        "items": [
                            "Buttonlist1"
                        ]
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        },
        "LayoutSearchSave": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "Button3"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": [
                            "SetActivePanel_PANELCARD_SAVE_EXIT"
                        ]
                    }
                }
            ]
        },
        "BlankLayout": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "-"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"buttonList": {
		"value": [],
		"data": [
			{
				"html": "Search",
				"icon": "svgIcon=#alpha-icon-magGlass:icon,24",
				"value": "SEARCH",
				"tip": "Search Panel"
			},
			{
				"html": "Save",
				"icon": "svgIcon=#alpha-icon-gear:icon,24",
				"value": "SAVE_EXIT",
				"tip": "Save/Exit/Back to Website"
			}		
]
	},
	"ButtonList_2": {
		"value": [],
		"data": [
			{
				"html": "Search",
				"icon": "svgIcon=#alpha-icon-magGlass:icon,24",
				"value": "SEARCH",
				"tip": "Search Screen"
			},
			{
				"html": "Save",
				"icon": "svgIcon=#alpha-icon-gear:icon,24",
				"value": "SAVE_EXIT",
				"tip": "Save/Exit to Website"
			},
			{
				"html": "Generators List",
				"icon": "svgIcon=#alpha-icon-people:icon,24",
				"value": "3",
				"tip": ""
			}		
]
	},
	"SetActivePanel_PANELCARD_GENERATORS_LIST_disabled": "",
	"SetActivePanel_PANELCARD_SEARCH_disabled": "",
	"SetActivePanel_PANELCARD_SAVE_EXIT_disabled": "",
	"SetActivePanel_PANELCARD_8_disabled": "",
	"SetActivePanel_PANELCARD_9_disabled": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_2"
}
DLG1_DlgObj._controlBars['CONTROLBAR_4'] = {
	"cb": {
		"actions": [
			{
				"name": "btnSearch_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENERATORSLIST').searchList({searchMode : 'auto'});\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "btnClear_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENERATORSLIST').clearSearchList({searchMode : 'auto'});",
				"editorstatejson": "{\n\t\"start\": 590,\n\t\"end\": 590\n}"
			}		
],
		"items": [
			{
				"name": "btnSearch",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Search",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"icon": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "btnSearch_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "btnClear",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Clear",
						"specialType": "None",
						"special": {
							"setActivePanel": {
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
						}
					},
					"edit": {
						"update": "default",
						"bind": {
						},
						"settings": {
							"watermark": {
							}
						}
					}
				},
				"itemAction": {
					"click": "btnClear_onClick"
				}
			},
			{
				"name": "Html1",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{busName2}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "busName2",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4');\\n\\nvar newValue2 = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName');\\n\\ncbObj.update('busName2',newValue2);\\n\\nreturn newValue2;\\n\",\n\t\"initialvalue\": \"\"\n}"
			}		
],
		"layouts": [
			{
				"name": "Default",
				"default": true,
				"lines": [
					{
						"before": "btnSearch",
						"linetype": "Default",
						"middle": "",
						"after": "btnClear",
						"showexpression": "",
						"className": "",
						"style": "",
						"customHTML": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-left",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "1\n",
		"selected_item_C": "3\n",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Actions",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"selected_data_c": "1"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_4",
    "disclosuresClassName": "DLG1_CONTROLBAR_4",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "btnSearch": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "btnSearch_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Search"
            }
        },
        "btnClear": {
            "type": "button",
            "autoHideDisclosure": "auto",
            "actions": {
                "click": "btnClear_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Clear"
            }
        },
        "Html1": {
            "size": "",
            "type": "html",
            "html": "{busName2}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html2": {
            "size": "",
            "type": "html",
            "html": "&nbsp;",
            "bind": {
                "show": ""
            },
            "actions": {}
        }
    },
    "actions": {
        "btnSearch_onClick": function(data) {DLG1_DlgObj.getControl('GENERATORSLIST').searchList({searchMode : 'auto'});},
        "btnClear_onClick": function(data) {DLG1_DlgObj.getControl('GENERATORSLIST').clearSearchList({searchMode : 'auto'});}
    },
    "layout": "Default",
    "layouts": {
        "Default": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "btnSearch"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": [
                            "btnClear"
                        ]
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"busName2": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_4"
}
DLG1_DlgObj._controlBars['CONTROLBAR_5'] = {
	"cb": {
		"actions": [
			{
				"name": "btnSearch_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENERATORSLIST').searchList({searchMode : 'auto'});\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "btnClear_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENERATORSLIST').clearSearchList({searchMode : 'auto'});",
				"editorstatejson": "{\n\t\"start\": 590,\n\t\"end\": 590\n}"
			}		
],
		"items": [
			{
				"name": "btnSearch",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Search",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"icon": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "btnSearch_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "btnClear",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Clear",
						"specialType": "None",
						"special": {
							"setActivePanel": {
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
						}
					},
					"edit": {
						"update": "default",
						"bind": {
						},
						"settings": {
							"watermark": {
							}
						}
					}
				},
				"itemAction": {
					"click": "btnClear_onClick"
				}
			},
			{
				"name": "Html1",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{busName2}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "busName2",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4');\\n\\nvar newValue2 = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName');\\n\\ncbObj.update('busName2',newValue2);\\n\\nreturn newValue2;\\n\",\n\t\"initialvalue\": \"\"\n}"
			}		
],
		"layouts": [
			{
				"name": "Default",
				"default": true,
				"lines": [
					{
						"before": "btnSearch",
						"linetype": "Default",
						"middle": "",
						"after": "btnClear",
						"showexpression": "",
						"className": "",
						"style": "",
						"customHTML": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-left",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "1\n",
		"selected_item_C": "3\n",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Actions",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"selected_data_c": "1"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_5",
    "disclosuresClassName": "DLG1_CONTROLBAR_5",
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "btnSave2": {
            "type": "button",
            "autoHideDisclosure": "auto",
            "actions": {
                "click": "btnSave_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Save"
            }
        },
        "btnCancel2": {
            "type": "button",
            "autoHideDisclosure": "auto",
            "actions": {
                "click": "btnCancel_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Cancel"
            }
        }
    },
    "actions": {
        "btnSave_onClick": function(data) {var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.updateListFromUXControls();
DLG1_DlgObj.panelSetActive('PANELCARD_SAVE_EXIT',true);},
        "btnCancel_onClick": function(data) {var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.resetForm({prompt: true});}
    },
    "layout": "Layout1",
    "layouts": {
        "Layout1": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "btnSave2"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": [
                            "btnCancel2"
                        ]
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {},
	"id": "DLG1.V.R1.CONTROLBAR_5"
}
DLG1_DlgObj._controlBars['CONTROLBAR_7'] = {
	"cb": {
		"actions": [
			{
				"name": "Action1",
				"javascript": "alert('You selected action1');\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "Action2",
				"javascript": "alert('You selected action2');\n"
			},
			{
				"name": "Action3",
				"javascript": "\nalert('You selected action3');\n",
				"editorstatejson": "{\n\t\"start\": 507,\n\t\"end\": 537\n}"
			},
			{
				"name": "Action4",
				"javascript": "\nalert('You selected action4');\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			}		
],
		"items": [
			{
				"name": "Html1",
				"itemType": "html",
				"item": {
					"html": {
						"html": "Generators",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu",
				"itemType": "disclosure-button",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"disclosure": {
						"name": "layout:menuLayout",
						"type": "outside-before",
						"size": "none",
						"flagAnimate": true,
						"animation": {
							"duration": "200",
							"tween": "ease-in-out"
						},
						"autoHide": true,
						"bind": {
							"show": "",
							"disabled": ""
						},
						"rectangle": {
							"left": "100",
							"right": "100",
							"top": "100",
							"bottom": "100",
							"edge": "top",
							"fill": "width",
							"method": "SpecifyNow",
							"javascript": ""
						},
						"show": {
							"layout": "Image only",
							"icon": "svgIcon=#alpha-icon-bars:icon,12",
							"html": "Button",
							"hasCustomHideButton": false,
							"subTheme": "",
							"disabledIcon": "",
							"tip": "",
							"style": "",
							"className": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": "",
							"hoverIcon": "",
							"pressedIcon": ""
						},
						"hide": {
							"layout": "Text only",
							"html": "Button",
							"subTheme": "",
							"icon": "",
							"disabledIcon": "",
							"tip": "",
							"style": "",
							"className": "",
							"hoverClassName": "",
							"pressedClassName": "",
							"disabledClassName": "",
							"iconStyle": "",
							"iconClassName": "",
							"hoverIcon": "",
							"pressedIcon": ""
						},
						"className": "",
						"coverClassName": "",
						"autoHideDisclosure": "always",
						"margin": {
							"top": "",
							"bottom": "",
							"left": "",
							"right": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu1",
				"itemType": "button",
				"itemAction": {
					"click": "Action1",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-comment:icon,24",
						"html": "Menu 1",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu2",
				"itemType": "button",
				"itemAction": {
					"click": "Action2",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-chartBar:icon,24",
						"html": "Menu 2",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu3",
				"itemType": "button",
				"itemAction": {
					"click": "Action3",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-cart:icon,24",
						"html": "Menu 3",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Menu4",
				"itemType": "button",
				"itemAction": {
					"click": "Action4",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"button": {
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image followed by text",
						"icon": "svgIcon=#alpha-icon-gear:icon,24",
						"html": "Menu 4",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{panelName}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html3",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{busName}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html4",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "panelName",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var name = dialog.activePanelName;\\n\\nname = name.split('_')[1];\\n\\nreturn name;\",\n\t\"initialvalue\": \"\"\n}",
				"display": "{data=1}{B=White,Light Blue}panelName"
			},
			{
				"name": "busName",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"BusinessName\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_7')\\n\\nvar newValue = DLG1_DlgObj.getValue('BusinessName')\\nvar str2 = \\\" Admin\\\"\\nvar res = newValue.concat(str2);\\ncbObj.update('busName',res);\\n\\nreturn res;\\n\",\n\t\"initialvalue\": \"\"\n}"
			}		
],
		"layouts": [
			{
				"name": "Layout1",
				"lines": [
					{
						"before": "",
						"middle": "Html3",
						"after": "",
						"showexpression": "",
						"className": "",
						"style": "",
						"linetype": "Default",
						"customHTML": ""
					}				
],
				"default": true
			},
			{
				"name": "menuLayout",
				"default": false,
				"lines": [
					{
						"before": "Menu1,Menu2,Menu3",
						"middle": "",
						"after": "",
						"linetype": "Default",
						"customHTML": "",
						"showexpression": "",
						"className": "",
						"style": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-in",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "4\n",
		"selected_item_C": "2\n",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Data",
		"selected_data_c": "2"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_7",
    "disclosuresClassName": "DLG1_CONTROLBAR_7",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "Html1": {
            "size": "",
            "type": "html",
            "html": "Generators",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Menu": {
            "type": "disclosure-button",
            "disclosure": {
                "name": "layout:menuLayout",
                "type": "outside-before",
                "size": "none",
                "animation": {
                    "duration": 200,
                    "tween": "ease-in-out"
                },
                "autoHide": true
            },
            "autoHideDisclosure": "always",
            "settings": {
                "show": {
                    "theme": "Alpha",
                    "layout": "icon",
                    "html": "Button",
                    "icon": "svgIcon=#alpha-icon-bars:icon,12"
                },
                "hide": {
                    "theme": "Alpha",
                    "layout": "icon",
                    "html": "Button",
                    "icon": "svgIcon=#alpha-icon-bars:icon,12"
                }
            },
            "actions": {}
        },
        "Menu1": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action1"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-comment:icon,24",
                "html": "Menu 1"
            }
        },
        "Menu2": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action2"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-chartBar:icon,24",
                "html": "Menu 2"
            }
        },
        "Menu3": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action3"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-cart:icon,24",
                "html": "Menu 3"
            }
        },
        "Menu4": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "Action4"
            },
            "settings": {
                "layout": "icon text",
                "icon": "svgIcon=#alpha-icon-gear:icon,24",
                "html": "Menu 4"
            }
        },
        "Html2": {
            "size": "",
            "type": "html",
            "html": "{panelName}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html3": {
            "size": "",
            "type": "html",
            "html": "{busName}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html4": {
            "size": "",
            "type": "html",
            "html": "&nbsp;",
            "bind": {
                "show": ""
            },
            "actions": {}
        }
    },
    "actions": {
        "Action1": function(data) {alert('You selected action1');},
        "Action2": function(data) {alert('You selected action2');},
        "Action3": function(data) {alert('You selected action3');},
        "Action4": function(data) {alert('You selected action4');}
    },
    "layout": "Layout1",
    "layouts": {
        "Layout1": {
            "lines": [
                {
                    "before": {
                        "items": []
                    },
                    "middle": {
                        "items": [
                            "Html3"
                        ]
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        },
        "menuLayout": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "Menu1",
                            "Menu2",
                            "Menu3"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": []
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"panelName": "",
	"busName": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_7"
}
DLG1_DlgObj._controlBars['CONTROLBAR_6'] = {
	"cb": {
		"actions": [
			{
				"name": "btnSearch_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENADMINLIST').searchList({searchMode : 'auto'});\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "btnClear_onClick",
				"javascript": "DLG1_DlgObj.getControl('GENADMINLIST').clearSearchList({searchMode : 'auto'});",
				"editorstatejson": "{\n\t\"start\": 502,\n\t\"end\": 502\n}"
			}		
],
		"items": [
			{
				"name": "btnSearch",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Search",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"icon": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "btnSearch_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "btnClear",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Clear",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Text only",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"icon": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "btnClear_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Html1",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "{busName2}",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "busName2",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4');\\n\\nvar newValue2 = DLG1_DlgObj.getValue('list::GENADMINLIST::BusinessName');\\n\\ncbObj.update('busName2',newValue2);\\n\\nreturn newValue2;\\n\",\n\t\"initialvalue\": \"\"\n}"
			}		
],
		"layouts": [
			{
				"name": "Default",
				"default": true,
				"lines": [
					{
						"before": "btnSearch",
						"linetype": "Default",
						"middle": "",
						"after": "btnClear",
						"showexpression": "",
						"className": "",
						"style": "",
						"customHTML": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-left",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "2\n",
		"selected_item_C": "2\n",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Actions",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"selected_data_c": "1"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_6",
    "disclosuresClassName": "DLG1_CONTROLBAR_6",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "btnSearch": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "btnSearch_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Search"
            }
        },
        "btnClear": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "btnClear_onClick"
            },
            "settings": {
                "layout": "text",
                "html": "Clear"
            }
        },
        "Html1": {
            "size": "",
            "type": "html",
            "html": "{busName2}",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html2": {
            "size": "",
            "type": "html",
            "html": "&nbsp;",
            "bind": {
                "show": ""
            },
            "actions": {}
        }
    },
    "actions": {
        "btnSearch_onClick": function(data) {DLG1_DlgObj.getControl('GENADMINLIST').searchList({searchMode : 'auto'});},
        "btnClear_onClick": function(data) {DLG1_DlgObj.getControl('GENADMINLIST').clearSearchList({searchMode : 'auto'});}
    },
    "layout": "Default",
    "layouts": {
        "Default": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "btnSearch"
                        ]
                    },
                    "middle": {
                        "items": []
                    },
                    "after": {
                        "items": [
                            "btnClear"
                        ]
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"busName2": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_6"
}
DLG1_DlgObj._controlBars['CONTROLBAR_3'] = {
	"cb": {
		"actions": [
			{
				"name": "prev_onClick",
				"javascript": "DLG1_DlgObj.formViewNavigate('FORMVIEW_1','prev');\n",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			},
			{
				"name": "next_onClick",
				"javascript": "DLG1_DlgObj.formViewNavigate('FORMVIEW_1','next');",
				"editorstatejson": "{\n\t\"start\": 1,\n\t\"end\": 1\n}"
			}		
],
		"items": [
			{
				"name": "prev",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Prev",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image only",
						"icon": "svgIcon=#alpha-icon-chevronLeft:24",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "prev_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "next",
				"itemType": "button",
				"item": {
					"button": {
						"html": "Next",
						"specialType": "None",
						"special": {
							"setActivePanel": {
								"PanelName": ""
							}
						},
						"layout": "Image only",
						"icon": "svgIcon=#alpha-icon-chevronRight:24",
						"autoHideDisclosure": "auto",
						"bind": {
							"show": "",
							"disabled": ""
						},
						"subTheme": "",
						"disabledIcon": "",
						"tip": "",
						"style": "",
						"className": "",
						"hoverClassName": "",
						"pressedClassName": "",
						"disabledClassName": "",
						"iconStyle": "",
						"iconClassName": "",
						"hoverIcon": "",
						"pressedIcon": ""
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						},
						"subTheme": ""
					}
				},
				"itemAction": {
					"click": "next_onClick",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"groupName": "",
				"itemSize": ""
			},
			{
				"name": "Html1",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "<font size=\"2\">{busName}</font>",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			},
			{
				"name": "Html2",
				"itemType": "html",
				"groupName": "",
				"itemSize": "",
				"itemAction": {
					"click": "",
					"downhold": "",
					"up": "",
					"down": "",
					"swipe": "",
					"keyup": "",
					"done": ""
				},
				"item": {
					"html": {
						"html": "&nbsp;",
						"bind": {
							"show": "",
							"disabled": ""
						}
					},
					"edit": {
						"update": "default",
						"bind": {
							"value": "",
							"show": ""
						},
						"subTheme": "",
						"settings": {
							"watermark": {
								"text": "",
								"className": ""
							},
							"style": ""
						}
					}
				}
			}		
],
		"javascriptLocal": [		
],
		"data": [
			{
				"name": "busName",
				"datavalue": "watch:{\n\t\"controlsToWatch\": \"\",\n\t\"javascript\": \"var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_3')\\n\\nvar newValue = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName')\\n\\ncbObj.update('busName',newValue);\\n\\nreturn newValue;\",\n\t\"initialvalue\": \"\"\n}"
			}		
],
		"layouts": [
			{
				"name": "Layout1",
				"default": false,
				"lines": [
					{
						"before": "prev,Html2",
						"after": "next",
						"linetype": "Default",
						"middle": "Html1",
						"showexpression": "",
						"className": "",
						"style": "",
						"customHTML": ""
					}				
]
			}		
],
		"disclosures": [		
],
		"controlBarProperties": {
			"edge": "top",
			"javascript": {
			},
			"disclosure": {
				"animation": {
					"duration": 300
				}
			},
			"selectActiveLayoutDynamically": false,
			"refreshOnContainerResize": true,
			"animateRefresh": false,
			"animationType": "slide-left",
			"animationDuration": "200",
			"animationTween": "ease-in-out",
			"showSystemCommentsInJavascript": true
		}
	},
	"_state": {
		"showPane": {
			"css": true,
			"javascript": true,
			"items": true,
			"preview": true
		},
		"selected_action_C": "1\n",
		"selected_item_C": "3\n",
		"selected_layout_C": "1\n",
		"selected_layoutLine_c": "1",
		"cssMode": 1,
		"jsMode": 1,
		"mode_items": "Filter",
		"mode_actions": "Filter",
		"mode_Layouts": "Filter",
		"mode_disclosures": "Filter",
		"previewSize": "433px",
		"tabPage": "Items",
		"selected_data_c": "1"
	},
	"settings": {
    "className": "DLG1_CONTROLBAR_3",
    "disclosuresClassName": "DLG1_CONTROLBAR_3",
    "__listNavigationState": function(listName) {var lObj = DLG1_DlgObj.getControl(listName);
if(!lObj) return false;
var ls = lObj._state;
var flagFirst = true;
var flagPrev = true; 
var flagNext = true; 
var flagLast = true; 
if(ls.pageCount == 1) { 
	flagFirst = false;
	flagPrev = false;
	flagNext = false;
	flagLast = false;
} else { 
	if(ls.page ==1) { 
		flagFirst = false;
		flagPrev = false;
	} else if (ls.page == ls.pageCount) { 
		flagNext = false;
		flagLast = false;
	}
};
var txtPageNumber = '' + ls.page + '/' + ls.pageCount;
var _d = this.data;
var name;
name = 'LISTNAV_' + listName.toUpperCase() + '_first';
if(typeof _d[name] != 'undefined') _d[name] = !flagFirst;	
name = 'LISTNAV_' + listName.toUpperCase() + '_prev';
if(typeof _d[name] != 'undefined') _d[name] = !flagPrev;	
name = 'LISTNAV_' + listName.toUpperCase() + '_next';
if(typeof _d[name] != 'undefined') _d[name] = !flagNext;	
name = 'LISTNAV_' + listName.toUpperCase() + '_last';
if(typeof _d[name] != 'undefined') _d[name] = !flagLast;	
name = 'LISTNAV_' + listName.toUpperCase() + '_pageNumber';
if(typeof _d[name] != 'undefined') _d[name] = txtPageNumber;	
this.refresh();},
    "theme": "Alpha",
    "edge": "top",
    "items": {
        "prev": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "prev_onClick"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-chevronLeft:24",
                "html": "Prev"
            }
        },
        "next": {
            "size": "",
            "type": "button",
            "autoHideDisclosure": "auto",
            "bind": {},
            "actions": {
                "click": "next_onClick"
            },
            "settings": {
                "layout": "icon",
                "icon": "svgIcon=#alpha-icon-chevronRight:24",
                "html": "Next"
            }
        },
        "Html1": {
            "size": "",
            "type": "html",
            "html": "<font size=\"2\">{busName}</font>",
            "bind": {
                "show": ""
            },
            "actions": {}
        },
        "Html2": {
            "size": "",
            "type": "html",
            "html": "&nbsp;",
            "bind": {
                "show": ""
            },
            "actions": {}
        }
    },
    "actions": {
        "prev_onClick": function(data) {DLG1_DlgObj.formViewNavigate('FORMVIEW_1','prev');},
        "next_onClick": function(data) {DLG1_DlgObj.formViewNavigate('FORMVIEW_1','next');}
    },
    "layout": "Layout1",
    "layouts": {
        "Layout1": {
            "lines": [
                {
                    "before": {
                        "items": [
                            "prev",
                            "Html2"
                        ]
                    },
                    "middle": {
                        "items": [
                            "Html1"
                        ]
                    },
                    "after": {
                        "items": [
                            "next"
                        ]
                    }
                }
            ]
        }
    },
    "disclosures": {}
},
	"data": {
	"busName": ""
},
	"id": "DLG1.V.R1.CONTROLBAR_3"
}
DLG1_DlgObj._spinListData['EDITOR_DATE_S_MONTH'] = [
{html: '&nbsp;', value: '0'},
{html: 'Jan', value: '1'},
{html: 'Feb', value: '2'},
{html: 'Mar', value: '3'},
{html: 'Apr', value: '4'},
{html: 'May', value: '5'},
{html: 'Jun', value: '6'},
{html: 'Jul', value: '7'},
{html: 'Aug', value: '8'},
{html: 'Sep', value: '9'},
{html: 'Oct', value: '10'},
{html: 'Nov', value: '11'},
{html: 'Dec', value: '12'}
];
DLG1_DlgObj._spinListData['EDITOR_DATE_S_DAY'] = [
{html: '1', value: '1'},
{html: '2', value: '2'},
{html: '3', value: '3'},
{html: '4', value: '4'},
{html: '5', value: '5'},
{html: '6', value: '6'},
{html: '7', value: '7'},
{html: '8', value: '8'},
{html: '9', value: '9'},
{html: '10', value: '10'},
{html: '11', value: '11'},
{html: '12', value: '12'},
{html: '13', value: '13'},
{html: '14', value: '14'},
{html: '15', value: '15'},
{html: '16', value: '16'},
{html: '17', value: '17'},
{html: '18', value: '18'},
{html: '19', value: '19'},
{html: '20', value: '20'},
{html: '21', value: '21'},
{html: '22', value: '22'},
{html: '23', value: '23'},
{html: '24', value: '24'},
{html: '25', value: '25'},
{html: '26', value: '26'},
{html: '27', value: '27'},
{html: '28', value: '28'},
{html: '29', value: '29'},
{html: '30', value: '30'},
{html: '31', value: '31'}
];
DLG1_DlgObj._spinListData['EDITOR_DATE_S_YEAR'] = [
{html: '&nbsp', value: '0'},
{html: '1950', value: '1950'},
{html: '1951', value: '1951'},
{html: '1952', value: '1952'},
{html: '1953', value: '1953'},
{html: '1954', value: '1954'},
{html: '1955', value: '1955'},
{html: '1956', value: '1956'},
{html: '1957', value: '1957'},
{html: '1958', value: '1958'},
{html: '1959', value: '1959'},
{html: '1960', value: '1960'},
{html: '1961', value: '1961'},
{html: '1962', value: '1962'},
{html: '1963', value: '1963'},
{html: '1964', value: '1964'},
{html: '1965', value: '1965'},
{html: '1966', value: '1966'},
{html: '1967', value: '1967'},
{html: '1968', value: '1968'},
{html: '1969', value: '1969'},
{html: '1970', value: '1970'},
{html: '1971', value: '1971'},
{html: '1972', value: '1972'},
{html: '1973', value: '1973'},
{html: '1974', value: '1974'},
{html: '1975', value: '1975'},
{html: '1976', value: '1976'},
{html: '1977', value: '1977'},
{html: '1978', value: '1978'},
{html: '1979', value: '1979'},
{html: '1980', value: '1980'},
{html: '1981', value: '1981'},
{html: '1982', value: '1982'},
{html: '1983', value: '1983'},
{html: '1984', value: '1984'},
{html: '1985', value: '1985'},
{html: '1986', value: '1986'},
{html: '1987', value: '1987'},
{html: '1988', value: '1988'},
{html: '1989', value: '1989'},
{html: '1990', value: '1990'},
{html: '1991', value: '1991'},
{html: '1992', value: '1992'},
{html: '1993', value: '1993'},
{html: '1994', value: '1994'},
{html: '1995', value: '1995'},
{html: '1996', value: '1996'},
{html: '1997', value: '1997'},
{html: '1998', value: '1998'},
{html: '1999', value: '1999'},
{html: '2000', value: '2000'},
{html: '2001', value: '2001'},
{html: '2002', value: '2002'},
{html: '2003', value: '2003'},
{html: '2004', value: '2004'},
{html: '2005', value: '2005'},
{html: '2006', value: '2006'},
{html: '2007', value: '2007'},
{html: '2008', value: '2008'},
{html: '2009', value: '2009'},
{html: '2010', value: '2010'},
{html: '2011', value: '2011'},
{html: '2012', value: '2012'},
{html: '2013', value: '2013'},
{html: '2014', value: '2014'},
{html: '2015', value: '2015'},
{html: '2016', value: '2016'},
{html: '2017', value: '2017'},
{html: '2018', value: '2018'},
{html: '2019', value: '2019'},
{html: '2020', value: '2020'},
{html: '2021', value: '2021'},
{html: '2022', value: '2022'},
{html: '2023', value: '2023'},
{html: '2024', value: '2024'},
{html: '2025', value: '2025'},
{html: '2026', value: '2026'},
{html: '2027', value: '2027'},
{html: '2028', value: '2028'},
{html: '2029', value: '2029'},
{html: '2030', value: '2030'},
{html: '2031', value: '2031'},
{html: '2032', value: '2032'},
{html: '2033', value: '2033'},
{html: '2034', value: '2034'},
{html: '2035', value: '2035'},
{html: '2036', value: '2036'},
{html: '2037', value: '2037'},
{html: '2038', value: '2038'},
{html: '2039', value: '2039'},
{html: '2040', value: '2040'},
{html: '2041', value: '2041'},
{html: '2042', value: '2042'},
{html: '2043', value: '2043'},
{html: '2044', value: '2044'},
{html: '2045', value: '2045'},
{html: '2046', value: '2046'},
{html: '2047', value: '2047'},
{html: '2048', value: '2048'},
{html: '2049', value: '2049'},
{html: '2050', value: '2050'},
{html: '', value: ''}
];
DLG1_DlgObj._controls['GENERATORSLIST'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['GENERATORSLIST'],  onInitialize: function() { var that = this; setTimeout(function() {that._onSelect(); delete that; },10);
		var pe = $(this.contId).parentElement;
		if(typeof this.listVariableName != 'undefined') { 
			var _cn = 'DLG1_' + this.listVariableName.toUpperCase() + '_2';
			$acn(pe,_cn);
		}
},  settings: DLG1_DlgObj._listViewSettings['GENERATORSLIST'] }
DLG1_DlgObj._controls['BUSCAT'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['BUSCAT'],  onInitialize: function() { 
		var pe = $(this.contId).parentElement;
		if(typeof this.listVariableName != 'undefined') { 
			var _cn = 'DLG1_' + this.listVariableName.toUpperCase() + '_2';
			$acn(pe,_cn);
		}
},  settings: DLG1_DlgObj._listViewSettings['BUSCAT'] }
DLG1_DlgObj._controls['GENADMINLIST'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['GENADMINLIST'],  onInitialize: function() { var that = this; setTimeout(function() {that._onSelect(); delete that; },10);
		var pe = $(this.contId).parentElement;
		if(typeof this.listVariableName != 'undefined') { 
			var _cn = 'DLG1_' + this.listVariableName.toUpperCase() + '_2';
			$acn(pe,_cn);
		}
},  settings: DLG1_DlgObj._listViewSettings['GENADMINLIST'] }
DLG1_DlgObj._controls['EDITOR_DATE_S_MONTH'] = { type: 'spinList', data: DLG1_DlgObj._spinListData['EDITOR_DATE_S_MONTH'],   settings:  {theme: 'Alpha',height: 2,onSelect: function() { if(typeof DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE != 'undefined') { 
	DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
} } } }
DLG1_DlgObj._controls['EDITOR_DATE_S_DAY'] = { type: 'spinList', data: DLG1_DlgObj._spinListData['EDITOR_DATE_S_DAY'],   settings:  {theme: 'Alpha',height: 2} }
DLG1_DlgObj._controls['EDITOR_DATE_S_YEAR'] = { type: 'spinList', data: DLG1_DlgObj._spinListData['EDITOR_DATE_S_YEAR'],   settings:  {theme: 'Alpha',height: 2,onSelect: function() { if(typeof DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE != 'undefined') { 
	DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
} } } }
DLG1_DlgObj.setVariables({});
DLG1_DlgObj._dataBoundControls = [];
DLG1_DlgObj._primaryTableAlias = '';
DLG1_DlgObj._actions = {};
DLG1_DlgObj._actions['Act1'] = 'DLG1_ACTION_Act1(1,\'1\',this);';
DLG1_DlgObj._actions['getCbdata'] = '/* actionJavascript:db909034-c4c1-49b7-9fd7-07351d953c35      */\nvar cbObj = DLG1_DlgObj.getControl(\'CONTROLBAR_2\');\nif(cbObj) cbObj.setLayout(\'Layout2\',{"type": "slide-left","duration": 200,"tween": "ease-in-out"});\n\nDLG1_DlgObj.panelSetActive(\'PANELCARD_3\',true);\nDLG1_DlgObj.panelSetActive(\'PANELCARD_SAVE_EXIT\',true);';
;
window['DLG1_ACTION_Act1'] = function(rowNum,rowId,objEle) {
var windowName = 'WINDOW_d752075d_4e33_43ce_93ab_c3ab7768d317';
var currWindow = DLG1_DlgObj.getWindow(windowName);
var go = new Object();
go.ajaxFailedMessage = '';
go.ajaxCallbackTimeout = DLG1_DlgObj.ajaxCallbackTimeout;
go.objectId = objEle.id;
go.dialog2Name = 'Stewardship_Account';
go.type = 'dialog2';
go.alias = 'DLG1_STEWARDSHI_KCNS';
go.submitCurrentFieldValues = true;
go.sourceGridPart = 'O';
go.sourceGridRowNumber = '1';
go.workingMessage = '<img src=\'css/A5System/Images/wait.gif\' />Working...';
go.placeholderValues = '';
go.argumentBinding = '';
go._thisGridAlias = DLG1_DlgObj.gridId;
if(typeof DLG1_DlgObj.gridId != 'undefined') go._thisGridAlias = DLG1_DlgObj.gridId;
if(typeof DLG1_DlgObj.dialogId != 'undefined') {
	go._thisGridAlias = DLG1_DlgObj.dialogId;
}
go._thisGridGUID = DLG1_DlgObj.componentGUID;
go._gridCurrentFilter = DLG1_DlgObj._gridFilter;
go._gridCurrentOrder = DLG1_DlgObj._gridOrder;
go._gridCurrentArguments = DLG1_DlgObj._gridArguments;
go._gridCurrentDBType = DLG1_DlgObj._gridDBType;
go.overrideSettings = 'Style_name = `Alpha`||Style_name = `Alpha`'+'||';
go.a5_default_path = 'C_colon_|a5|projects|uswtn|uswtn.WebProjects|Default.WebProject';
go.windowName = windowName;
go.showWindowParameters = '';
var runMethod = 'ajax';
if(runMethod == 'ajax') {
go.ajaxFailedMessage = '';
go.ajaxCallbackTimeout = DLG1_DlgObj.ajaxCallbackTimeout;
if(typeof DLG1_DlgObj._onlineStatus != 'undefined') { 
	if(DLG1_DlgObj._onlineStatus == 'offline') { 
		( function() {  }() );
		DLG1_DlgObj._executeEvent('onAjaxCallbackNotAvailable', {xbasicFunctionName: '', ajaxEvent: 'OpenComponent'})
		return false;
	}
}		
};
if(!currWindow) {
	currWindow = DLG1_DlgObj.createWindow(windowName,'modal-resizable',
	{
	body: {
		content: {
			type: 'blank',
			elementId: '~'
		}
	},
	height: '5in',
	width: '8in',
	title: {
		html: 'Window',
		location: 'top',
		direction: 'ltr',
		show: true
	},
	disableMove: false,
	theme: 'Alpha',
	onBeforeHide: function() {
var isDirty = false;
if(typeof window['DLG1_STEWARDSHI_KCNS_DlgObj'] != 'undefined') {
	isDirty = window['DLG1_STEWARDSHI_KCNS_DlgObj']._isDirty;
}
if(isDirty) {
	window['DLG1_STEWARDSHI_KCNS_DlgObj']._confirmAction();
	return false;
} else return true;
}
}
	);		
	go.dialog2Div = currWindow.getWindowId('body');
	A5.component.runGenericComponent(go)
	currWindow.show();
} else {
		var ele = 'DLG1_Stewardshi_kcns.GRID_PART.FORM_CONTAINER_DIV';
	var pele = $(ele);
	if(pele) pele.innerHTML = '<img src=\'css/A5System/Images/wait.gif\' /> Working...';
	go.dialog2Div = currWindow.getWindowId('body');
	go.parentGridId = 'DLG1';
	go.specialDialogMode = 'refreshUX';
window[go.alias.toUpperCase() + '_DlgObj'].synchronizeDialog(go);
	currWindow.show();
};
}
DLG1_DlgObj._listControlsInfo = {};
DLG1_DlgObj._functions.__fillContainer_GENERATORSLIST = function() {
	var path = DLG1_PanelObj._panelPath['PANELCARD_GENERATORS_LIST'];
	if(typeof path != 'undefined') {
		var panel = DLG1_PanelObj.getPanel(path);
		var id = panel.src.getPanelId('body');
	} else {
		var id = DLG1_PanelObj.getPanelId('body');
	}
	//removing scrolling from the PanelBody since we will be obliterating the Panel with a control that fills the body
	if($(id + '.SCROLLWRAPPER')) {
		A5.u.drag.remove(id,'scroll');
	}
	DLG1_DlgObj._listViewSettings['GENERATORSLIST'].containerId = id;
	//blow away any existing content in the panel
	$(id).innerHTML = '';
}
DLG1_DlgObj._functions.__fillContainer_GENERATORSLIST();
DLG1_DlgObj._functions.__fillContainer_GENADMINLIST = function() {
	var path = DLG1_PanelObj._panelPath['PANELCARD_7'];
	if(typeof path != 'undefined') {
		var panel = DLG1_PanelObj.getPanel(path);
		var id = panel.src.getPanelId('body');
	} else {
		var id = DLG1_PanelObj.getPanelId('body');
	}
	//removing scrolling from the PanelBody since we will be obliterating the Panel with a control that fills the body
	if($(id + '.SCROLLWRAPPER')) {
		A5.u.drag.remove(id,'scroll');
	}
	DLG1_DlgObj._listViewSettings['GENADMINLIST'].containerId = id;
	//blow away any existing content in the panel
	$(id).innerHTML = '';
}
DLG1_DlgObj._functions.__fillContainer_GENADMINLIST();
DLG1_DlgObj._hasPanels = true;
DLG1_DlgObj._hasOnSynchronizeEvent = false;
A5.__dtfmt = 'MM/dd/yyyy';A5.__tfmt = '';
A5.__flagWorkingPreview = false;
A5.__flagIIS = false;
A5.__flagSimulateIIS = true;
DLG1_DlgObj._functions.calcOrientation = function() {
	if(typeof DLG1_DlgObj == 'undefined') return '';
	var orientation = DLG1_DlgObj.getOrientation();
	if( orientation == 'landscape') {
			//landscape
			if(DLG1_DlgObj._orientation != 'landscape') {
				DLG1_DlgObj._fireWatches(1);
				DLG1_DlgObj._orientation = 'landscape';
				DLG1_DlgObj._executeEvent('onOrientationChange',{orientation: 'landscape'});
				DLG1_DlgObj._functions.listControlOrientationChange();
			}
	} else {
		//portrait
		if(DLG1_DlgObj._orientation != 'portrait') {
				DLG1_DlgObj._fireWatches(1);
				DLG1_DlgObj._orientation = 'portrait';
				DLG1_DlgObj._executeEvent('onOrientationChange',{orientation: 'portrait'});
				DLG1_DlgObj._functions.listControlOrientationChange();
			}
	}
}
	A5.flags.cordovaLoaded = true;
	try {
		document.addEventListener('deviceready', function() {
			DLG1_DlgObj._cordovaReady = true;
			//alert('fire on cordova ready 2')
			DLG1_DlgObj._executeEvent('onCordovaReady',{});
			DLG1_DlgObj._executeEvent('onPhoneGapReady',{});
			navigator.geolocation.getAccuratePosition = function(geolocationSuccess, geolocationError, options) {
	var _lastCheckedPosition = null;
	var _locationEventCount = 0;
	options = options || {};
	options.context = this;
    function _checkLocation(pos) {
        _lastCheckedPosition = pos;
        _locationEventCount++;
        if ((pos.coords.accuracy <= options.desiredAccuracy) && (_locationEventCount > options.ignoreResultCount)) {
            clearTimeout(_timerID);
            navigator.geolocation.clearWatch(_watchID);
            _foundPosition(pos);
        } 
    }
    function _stopLocationCheck() {
    	 var error = {};
    	 error.code = 0;
    	 error.message = 'Timeout: No results';
        navigator.geolocation.clearWatch(_watchID);
        _lastCheckedPosition ? _foundPosition(_lastCheckedPosition) : geolocationError.call(options.context,error);
    }
    function _onError(error) {
        clearTimeout(_timerID);
        navigator.geolocation.clearWatch(_watchID);
        geolocationError.call(options.context,error);
    }
    function _foundPosition(pos) {
        geolocationSuccess.call(options.context,pos);
    }
    if (!options.maxWait) {            
    	options.maxWait = 10000; 
    }	
    if (!options.desiredAccuracy) {
    	  options.desiredAccuracy = 20; 
    }
    if (!options.timeout) {
        options.timeout = options.maxWait;
	 }
	 if (!options.ignoreResultCount) {
	 		options.ignoreResultCount = 1;
	 }
    options.maximumAge = 0; 
    options.enableHighAccuracy = true; 
    var _watchID = navigator.geolocation.watchPosition(_checkLocation, _onError, options);
    var _timerID = setTimeout(_stopLocationCheck, options.maxWait); 
}
		} , false);
		DLG1_DlgObj._onPhoneGapReady = function() { DLG1_DlgObj._executePhoneGapDelayed(); }
	}
	catch(err) {}
DLG1_DlgObj._waitGif = 'css/A5System/Images/wait.gif';
var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\r\n"}else{strPretty+=a+" : ["+data[a].length+" values]\r\n"}}else{strPretty+=a+" : "+data[a]+"\r\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();
(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement('canvas');canvas.width=canvas.height=1;var ctx=canvas.getContext('2d');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement('canvas');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement('canvas');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext('2d');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement('canvas');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext('2d');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext('2d');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName==='img'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName==='canvas'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender==='function'){this.onrender(target)}};if(typeof define==='function'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();
/*
Copyright (c) 2001, 2013 Alpha Software Corporation
All Rights Reserved.
This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,
Alpha Five Application Server, Alpha Anywhere Application Server,
Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically
not licensed for use on a server that does not have installed on it a
licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.
*/
	DLG1_DlgObj.imageCaptureUsingCamera = function(options) {
		options.specialMode = 'callback';
		this.detailViewImageCapture(options);
	}
	DLG1_DlgObj.detailViewImageCapture = function(options) {
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		var flagPhoneGapLoaded = false;
		var flagUseCordova = false;
		if (typeof window['cordova'] != 'undefined') {
			flagPhoneGapLoaded = true;
			if(options.captureMethod == 'phonegappreferred' || options.captureMethod == 'phonegap') {
				flagUseCordova = true;
			}
		}
		if(options.captureMethod == 'phonegap' && flagPhoneGapLoaded == false) {
			alert('PhoneGap not available'); return false;
		}
		if(!flagUseCordova) {
			this.detailViewImageCaptureHTML5(options);
		} else {
			this.detailViewImageCapturePhoneGap(options);
		}
	}
	DLG1_DlgObj.detailViewImageCaptureHTML5 = function(options) {
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		if(options.onBeforeCaptureJavascript) {
			var result = options.onBeforeCaptureJavascript.call();
			if(typeof result != 'undefined') {
				if(!result) return false;
			}
		}
		if(A5.flags.isAndroid == false) {
			if(A5.flags.isIPhone || A5.flags.isIPad){
				if (typeof A5.flags.iOSVersion != 'undefined') {
					var majorNum = A5.flags.iOSVersion.split('.')[0];
					if(parseInt(majorNum) < 6) {
						alert('HTML5 camera access not supported on this version of iOS');
						return false;
					}
				}
			}
		}
		if(A5.u.css.supportsTransition == false) {
			alert('Browser does not support HTML5 camera access');
			return false;
		}
		if(typeof options.resizePolicyHTML5 == 'undefined') options.resizePolicyHTML5 = 'Always';
		options.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();
		if(options.resizePolicyHTML5 != 'always') {
			var maxSize = 99999999999;
			if(typeof options.maxImageSizeHTML5 != 'undefined') maxSize = Number(options.maxImageSizeHTML5);
		}
		//if(typeof options.resizeImageHTML5 == 'undefined') options.resizeImageHTML5 = true;
		var ops = {};
		ops.dialogObj = this;
		if(options.specialMode == 'callback' ) {
			options.controlName = '';
		}
	 	ops.targetImage = options.controlName;
	 	ops.targetImage = ops.targetImage.toUpperCase();
	 	ops.html5 = {};
	 	ops.html5.resizeFlag = options.resizeImageHTML5;
	 	ops.html5.compressionFactor = options.imageCompressionHTML5;
	 	ops.html5.maxWidth = options.maxImageWidth;
	 	ops.html5.maxHeight = options.maxImageHeight;
	 	ops.fieldPrefix = this.dialogId + '.V.R1';
	 	ops.imageFieldName = (ops.fieldPrefix + '.' + ops.targetImage).toUpperCase();
	 	ops.hiddenFileName =  (ops.fieldPrefix + '.' + ops.targetImage + '_HIDDENA5FN').toUpperCase();
 		ops.handleFileSelect = function(evt) {
			// creates a FileList object
			var files = evt.target.files;
			// Even if multiple files are presented, only the first file will be uploaded.
			if (!files.length){
				// alerts should be ok here when fired by a timer
				setTimeout(function(){
					//alert('No files selected.');
				},50);
				return false;
			} else {
				// we're processing only 1 file at this point
				var f = files[0];
				ops.updateImage(f);
			}
		}
		$e.removeGroup('__detailViewImageCapture')
		$e.add($(this.dialogId + '._GETPHOTO'),'change',ops.handleFileSelect,'','','__detailViewImageCapture');
		ops.updateImage = function(_thisFile) {
			var _sourceFileName = _thisFile.name;
			var _thisImageName = ops.imageFieldName;
			var _thisImage = $(_thisImageName);
			var reader = new FileReader();
			reader.onload = function(e) {
				var flagResize = false;
				if(options.resizePolicyHTML5 == 'always') {
					flagResize = true;
				} else {
					if(e.target.result.length > maxSize) {
						flagResize = true;
					}
				}
				if(!flagResize) {
					//not resizing
					if(options.specialMode == 'detailview') {
						_thisImage.src = e.target.result;
						var eleH = $(ops.hiddenFileName);
						if(eleH) eleH.src = _thisImage.src;
						$sa(eleH,'a5isdirty','true');
						$sa(eleH,'a5imageSourceName',_sourceFileName);
						ops.dialogObj.refreshClientSideComputations();
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});
					} else {
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});
					}
				} else {
					//resizing
					if(options.displaySpinnerWhileResizingImage) {
						_thisImage.src = options.spinnerURI.replace(/\|/gi,'/');
					}
					var _orientation = ops.parseExifOrientation(e.target.result);
					ops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);
				}
			}
			reader.onerror = function(e) {
				setTimeout(function(){
				alert('Error reading file.');
				},0);
			}
			reader.readAsDataURL(_thisFile);
		}
		ops.parseExifOrientation = function(dataUrl) {
			try {
				var _byteString = atob(dataUrl.split(',')[1]);
				var _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);
				var _exif = EXIF.findEXIFinJPEG(_binaryFile);
				// Store EXIF orientation (if available) in data property.
				if (_exif && _exif['Orientation']) {
					return _exif['Orientation'];
				} else {
					return null;
				}
			} catch (e) {
				// Error parsing EXIF data.
				console.log('Error loading EXIF data', e);
			}
		}
		ops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {
			// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari
			var mpImg = new MegaPixImage(_file);
			mpImg.onrender = function(){
				// this timeout required to ensure _thisCanvas render complete
				setTimeout(function(){
					var dataURL = _thisCanvas.toDataURL('image/jpeg', ops.html5.compressionFactor);
					//alert('html5 size after resizing image:' + dataURL.length);
					if(options.specialMode == 'detailview') {
						var ele = $(ops.imageFieldName);
						//put the scaled image in the element
						ele.src = dataURL;
						var eleH = $(ops.hiddenFileName);
						if(eleH) eleH.src = dataURL;
						$sa(eleH,'a5isdirty','true');
						$sa(eleH,'a5imageSourceName',_sourceFileName);
						ops.dialogObj.refreshClientSideComputations();
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL, sourceFileName: _sourceFileName});
					} else {
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL, sourceFileName: _sourceFileName});
					}
				},0);
			}
			var _thisCanvas = document.createElement('canvas');
			var ctx = _thisCanvas.getContext('2d');
			// adjust based on extracted _orientation
			if (_orientation) {
				mpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});
			} else {
				mpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});
			}
		}
		//click the hidden image control
		var ele = $(this.dialogId + '._GETPHOTO');
		if (ele) {
			ele.value = '';
			ele.click();
		}
	}
	/////\\\\\
	DLG1_DlgObj.detailViewVideoCapturePhoneGap = function(opsIn) {
		//ops.fieldPrefix = this.dialogId + '.V.R1';
		//ops.videoFieldName = (ops.fieldPrefix + '.' + ops.controlName).toUpperCase();
		opsIn.dialogObj = this;
		var options = opsIn.options;
		var onSuccess = function(mediaFiles) { var e = {filename: mediaFiles[0].fullPath};
			var e_filename = e.filename;
			if(e_filename.indexOf('file:') != 0) {
				e_filename = e_filename.replace('/private','file:\/\/');
			}
			if(e_filename.indexOf('file:') != 0 && e_filename.indexOf('.wav') > 0) {
				e_filename = 'file:\/\/' + e_filename;
				//alert(e_filename);
			}
			opsIn.dialogObj.setValue(opsIn.controlName,e_filename);
			//var ele = $(ops.imageFieldName);
			//if(ele) ele.src = thisImageURL;
			//var eleH = $(ops.hiddenFileName);
			//if(eleH) eleH.src = thisImageURL;
			//$sa(eleH,'a5isdirty','true');
			opsIn.dialogObj.refreshClientSideComputations();
		};
		var onFailed = function() {
		};
		var flagAudio = false;
		if(typeof opsIn.audio != 'undefined') flagAudio = opsIn.audio;
		if(!flagAudio) {
			navigator.device.capture.captureVideo(onSuccess,onFailed,options);
		} else {
			//alert('audio');
			//debugger;
			var options = { limit: 1, duration: 10 };
			//navigator.device.capture.captureAudio(captureSuccess, captureError, options);
			//navigator.device.capture.captureAudio(onSuccess,onFailed,options);
			var _media = {
				recorder: null,
				recFile: 'myaudio/myrecording3.amr'  //if device.platform is 'Android' then use .amr, otherwise .wav
			}
			function captureStatus(e) {
				console.log('status....' + JSON.stringify(e));
			}
			var onSuccessAudio = function() {
				console.log('try to play it now');
				setTimeout(function() { _media.recorder.play(); },1000);
				//var e_filename = _media.recFile;
				//opsIn.dialogObj.setValue(opsIn.controlName,e_filename);
				//opsIn.dialogObj.refreshClientSideComputations();
			};
			_media.recorder = new Media(_media.recFile,onSuccessAudio,onFailed,captureStatus);
			console.log('about to record');
			_media.recorder.startRecord();
			console.log('start');
			setTimeout(function() { console.log('stop'); _media.recorder.stopRecord();  },5000);
			//_media.recorder.play();
		}
	}
	DLG1_DlgObj.detailViewImageCapturePhoneGap =  function(options) {
		var flagCustomOnError = false;
		if(typeof DLG1_DlgObj.customWindowErrorEvents != 'undefined') flagCustomOnError = DLG1_DlgObj.customWindowErrorEvents;
		//if(!flagCustomOnError) window.onerror = function(err) { alert('Unhandled Javascript Error - phoneGapImageCapture:  ' + JSON.stringify(err));}
		if(options.onBeforeCaptureJavascript) {
			var result = options.onBeforeCaptureJavascript.call();
			if(typeof result != 'undefined') {
				if(!result) return false;
			}
		}
		if (typeof window['cordova'] == 'undefined') {
			alert('PhoneGap not loaded');
			return false;
		}
		if(typeof options.imageSelectionCanceledMessage == 'undefined') options.imageSelectionCanceledMessage = 'Image Selection Canceled';
		if(typeof options.imageSelectionCanceledButton == 'undefined') options.imageSelectionCanceledButton = 'Done';
		if(typeof options.cameraCanceledMessage == 'undefined') options.cameraCanceledMessage = 'Camera Action Canceled';
		if(typeof options.cameraCanceledButton == 'undefined') options.cameraCanceledButton = 'Done';
		var maxSize = -1;
		if(typeof options.maxImageSizePhoneGap != 'undefined') maxSize = Number(options.maxImageSizePhoneGap);
		if(maxSize == -1) maxSize = 9999999999;
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		var ops = {};
		ops.dialogObj = this;
		if(options.specialMode == 'callback') {
			options.controlName = '';
		}
		ops.targetImage = options.controlName.toUpperCase();
		ops.cordova = {};
		ops.cordova.pictureSourceVal = options.pictureSourceVal;
		ops.cordova.imageQuality = options.imageQualityPhonegap;
		ops.cordova.allowEdit = options.allowPictureEditing
		ops.cordova.targetWidth = options.maxImageWidth;
		ops.cordova.targetHeight = options.maxImageHeight;
		ops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum
		ops.cordova.iPadEleId = '';
		ops.fieldPrefix = this.dialogId + '.V.R1';
		ops.imageFieldName = (ops.fieldPrefix + '.' + ops.targetImage).toUpperCase();
		ops.hiddenFileName = (ops.fieldPrefix + '.' + ops.targetImage + '_HIDDENA5FN').toUpperCase();
		ops.onCameraSuccess = function(imageURI) {
			if(typeof options.captureDataMode == 'undefined') options.captureDataMode = 'base64';
			try {
			    var iOps = JSON.parse(imageURI);
			    var filename = iOps.filename;
			    var metadata = iOps.json_metadata;
			    var iMD = JSON.parse(metadata);
			    if(typeof iMD.GPS != 'undefined') {
			    	//running on iOS
			    	var gpsObj = {};
			    	gpsObj.latitude = iMD.GPS.Latitude;
			    	gpsObj.longitude = iMD.GPS.Longitude;
			    	if(iMD.GPS.LongitudeRef == 'W') gpsObj.longitude = Number(gpsObj.longitude) * -1;
			    	if(iMD.GPS.LatitudeRef == 'S') gpsObj.latitude = Number(gpsObj.latitude) * -1;
			    	gpsObj.altitude = iMD.GPS.Altitude;
			    	gpsObj.dateTime = iMD.GPS.DateStamp + ' ' + iMD.GPS.TimeStamp;
			    	gpsObj.ExifJSON = metadata;
			    } else {
			    	//android
			    	var latRaw = iMD.gpsLatitude;   //":"42/1,28/1,50093/1000",
			    	var latRef = iMD.gpsLatitudeRef;  //":"N",
			    	var lngRaw = iMD.gpsLongitude; //":"71/1,12/1,16183/1000",
			    	var lngRef = iMD.gpsLongitudeRef; //":"W",
			    	var altRaw = iMD.gpsAltitude;
			    	var altRef = iMD.gpsAltitudeRef;
			    	ops.fixGPS = function(raw,ref) {
			    		//alert( ' raw: ' + raw + ' ref: ' + ref);
			    		if(raw == null) return null;
						var lat_d, lat_m, lat_s, lat;
						lat_d = eval(raw.split(',')[0]);
						lat_m = eval(raw.split(',')[1]) * ( 1/60);
						lat_s = eval(raw.split(',')[2]) * ( 1/60);
						lat = Number(lat_d) + Number(lat_m) + Number(lat_s);
						if(ref != null) {
							if(ref.toUpperCase() == 'S') lat = Number(lat) * -1;
							if(ref.toUpperCase() == 'W') lat = Number(lat) * -1;
						}
						return lat;
			    	}
			    	var lat = ops.fixGPS(latRaw,latRef);
			    	var lng = ops.fixGPS(lngRaw,lngRef);
			    	var alt = ops.fixGPS(altRaw,altRef);
			    	var gpsObj = {};
					gpsObj.latitude = lat;
					gpsObj.longitude = lng;
					gpsObj.altitude = alt;
					gpsObj.dateTime = iMD.datetime;
					gpsObj.ExifJSON = metadata;
			    }
			    options.EXIF = gpsObj;
			    ops._moveFile(filename);
				//do not call onCaptureJavascript() here ... it gets called by ops._move() ....window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);
			    //if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : imageURI});
			} catch(err) {
				//if you get here then you were not using the AA camera plugin, so EXIF info is not available
				ops._moveFile(imageURI);
				//do not call onCaptureJavascript() here ... it gets called by ops._move() ....window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError);
				//if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : imageURI});
			}
		}
		ops._moveFile = function(filename) {
			var flagMove = false;
			if(typeof options.phonegapMoveFileToPermanentStorage != 'undefined') flagMove = options.phonegapMoveFileToPermanentStorage;
			if(flagMove) {
				var _dir = DLG1_DlgObj.phoneGapGetLocalDirURL(options.phonegapFileSystemType);
				var _onFolderEnsured = function() {
					var objFn = A5.parseFilename(filename);
					var extension = objFn.name.split('.');
					extension = extension[extension.length-1];
					var targetName = A5.UUID() + '.' + extension;
					var subfolder = '';
					if(options.phonegapPermanentStorageFolder != '') {
						subfolder = options.phonegapPermanentStorageFolder + '/';
					}
					var _moveOK = function() {
						var fn = _dir + subfolder + targetName;
						window.resolveLocalFileSystemURL(fn,ops.fsOK,ops.fsError);
					}
					var _moveFail = function(e) {
						alert('Move error: '+e.code);
					}
					DLG1_DlgObj.phoneGapMoveFileURL(filename,_dir, subfolder + targetName,_moveOK,_moveFail)
				}
				var _onError = function() {
					alert('could not create folder');
				}
				if(options.phonegapPermanentStorageFolder != '') {
					DLG1_DlgObj.phoneGapEnsureDirPathURL(_dir, options.phonegapPermanentStorageFolder, _onFolderEnsured, _onError)
				} else {
					//storing in the root of the requested filesystem --
					_onFolderEnsured();
				}
			} else {
				//do not need to move the file
				window.resolveLocalFileSystemURL(filename,ops.fsOK,ops.fsError);
			}
		}
		ops.onImageSelectFail = function(msg) {
			if(typeof options.onCaptureCancel == 'function') {
				options.onCaptureCancel.call();
			} else {
				navigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);
			}
		}
		ops.onCameraCaptureFail = function(msg) {
			if(typeof options.onCaptureCancel == 'function') {
					options.onCaptureCancel.call(this,msg);
			} else {
				navigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);
			}
		}
		ops.fsOK = function(fileEntry) {
			// HTML5 File system available as fileEntry
			// Using standard HTML5 file handling here
			// get fileEntry URL for upload
			var thisImageURL = fileEntry.toURL();
			if(options.captureDataMode == 'filename') {
				if(options.specialMode == 'detailview') {
					//better be - only mode we are supporting for 'filename'
					var ele = $(ops.imageFieldName);
					if(ele) ele.src = thisImageURL;
					var eleH = $(ops.hiddenFileName);
					if(eleH) eleH.src = thisImageURL;
					$sa(eleH,'a5isdirty','true');
					var exifData = '';
					if(typeof options.EXIF != 'undefined') exifData = JSON.stringify(options.EXIF);
					$sa(eleH,'a5EXIF',exifData);
					ops.dialogObj.refreshClientSideComputations();
				}
			} else {
				fileEntry.file(function(file){
					var reader = new FileReader();
					reader.onloadend = function(e) {
						// this is Base64 encoded
						if(options.specialMode == 'detailview') {
							var ele = $(ops.imageFieldName);
							if(ele) ele.src = e.target.result;
							var eleH = $(ops.hiddenFileName);
							if(eleH) eleH.src = e.target.result;
							$sa(eleH,'a5isdirty','true');
							ops.dialogObj.refreshClientSideComputations();
							if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});
						} else {
							if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL, options: options});  //pass in options so that the user defined callback js can reference options (which has the exif data in it)
						}
					};
					reader.onerror = function(e) {
						navigator.notification.alert('File reader error');
					};
					reader.readAsDataURL(file);
				},function(error) {
					navigator.notification.alert('Image file read error');
				});
			}
		}
		ops.fsError = function() {
			navigator.notification.alert('Local File system unavailable.');
		}
		// Calculate positioning for iPad popup menu if applicable
		var cordovaPopoverOptions = null;
			if (ops.cordova.iPadEleId.length > 0) {
			var ele = $(ops.cordova.iPadEleId);
			if (ele) {
				var rect = ele.getBoundingClientRect();
				var x = rect.left;
				var y = rect.top;
				var w = rect.right - rect.left;
				var h = rect.bottom - rect.top;
				cordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);
			}
		}
		// These options define all of the objects functionality
		var cordovaOptions = {
			quality: Number(ops.cordova.imageQuality),
			allowEdit: ops.cordova.allowEdit,
			sourceType: Number(ops.cordova.pictureSourceVal),
			correctOrientation: true,
			destinationType: 1,
			targetWidth: Number(ops.cordova.targetWidth),
			targetHeight: Number(ops.cordova.targetHeight),
			saveToPhotoAlbum: ops.cordova.saveToPhotoAlbum,
			popoverOptions: cordovaPopoverOptions,
			encodingType: Camera.EncodingType.JPEG
		}
		/*
		var options = {
				destinationType: Camera.DestinationType.FILE_URI,
				sourceType: Camera.PictureSourceType.PHOTOLIBRARY,
				mediaType: Camera.MediaType.VIDEO
				//getting error: destination file type unavailable
			};
		*/
		if (cordovaOptions.sourceType != 1) {
			cordovaOptions.saveToPhotoAlbum = false;
			navigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);
		} else {
			navigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);
		}
	}
	DLG1_DlgObj._abortS3Upload = function(__guid,number,rowId) {
		var arrS3 = DLG1_DlgObj.__CORSUploads[__guid]['arrS3'];
		var options = DLG1_DlgObj.__CORSUploads[__guid]['options'];
		var _dlgObj = DLG1_DlgObj;
		var _xhr = arrS3[number].xhr;
		_xhr.abort();
		arrS3[number].aborted = true;
		if(typeof rowId != 'undefined') {
			var ele = $(rowId);
			if(ele) ele.style.display = 'none';
		}
		//uploadCompleteFunction
		var ops = DLG1_DlgObj.__CORSUploads[__guid]['ops'];
		//fire the onComplete events
		var flagAllCompleted = false;
		var c = 0;
		for(var i = 0; i < arrS3.length; i++) {
			if(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;
		}
		if(c == arrS3.length) flagAllCompleted = true;
		var f = arrS3[number];
		var e = {
			name: f.name,
			type: f.type,
			size: f.size,
			aborted: f.aborted,
			number: number,
			fileArray: arrS3,
			targetName: arrS3[number].targetName
		}
		options.onCompleteFile(e);
		if(flagAllCompleted) {
			options.onCompleteAllFiles(e);
			if(options.displayProgress) {
				var eleP = $(_dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder);
				if(eleP) eleP.style.display = 'none';
			}
			delete DLG1_DlgObj.__CORSUploads[__guid];
		}
		//end onComplete events
	}
	/////////////////////////////////////////////////////////////////////////
	DLG1_DlgObj.fileUploadAmazonS3 = function(options) {
		var eleB = '';
		var _dlgObj = this;
		var _part = options.part;
		delete ops;
		var ops = {};
		if(typeof options.onBeforeFileSelect == 'function') {
			var result = options.onBeforeFileSelect();
			if(typeof result != 'undefined') {
				if(!result) return false;
			}
		}
		ops.formatNum = function(num) {
			var suffix = 'Kb';
		 	if(num >= 1000000) {
		 		num = num/1000000;
		 		suffix = 'Mb';
			} else if(num >= 1000) {
			 	num = num / 1000;
			 	suffix = 'Kb';
			} else {
			   suffix = 'bytes'
			  }
			num = Math.round(num * 100) / 100;
			num = Number(num);
			return (num).toLocaleString() + suffix;
		}
		ops.setProgress = function(percent,message,objS3) {
			//fire system onProgress events
			if(options.displayProgress) {
				var i = objS3.number;
				//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
				id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
				var ep = $(id_i);
				if(ep) {
					if(options.progressStyle == 'text') ep.innerHTML = percent + '%';
					else ep.style.width = percent + '%';
				}
			}
			var e = {
				percent: percent,
				message: message,
				name: objS3.name,
				targetName: objS3.targetName,
				number: objS3.number,
				size: objS3.size,
				type: objS3.type
			}
			if(typeof objS3.userProgressFunction == 'function') objS3.userProgressFunction(e);;
		}
		ops.createCORSRequest = function(method, url) {
  			var xhr = new XMLHttpRequest();
			 // "withCredentials" only exists on XHR2 objects
  			if ("withCredentials" in xhr) {
  				try {
    				xhr.open(method, url, true);
    			} catch(err) {
    				alert('XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer. Try using Chrome Working Preview.');
    				return false;
    			}
			} else if (typeof XDomainRequest != "undefined") {
			    // XDomainRequest only exists in IE
    			xhr = new XDomainRequest();
			    xhr.open(method, url);
  			} else {
			  	// CORS not supported by this browser
    			xhr = null;
			  }
		  return xhr;
		}
		ops.uploadToS3 = function(file, url, objS3) {
			var targetServer = objS3.targetServer;
			if(typeof targetServer == 'undefined') targetServer = 'S3';
			if(targetServer.toUpperCase() == 'S3') {
				var xhr = ops.createCORSRequest('PUT', url);
			} else {
				//alpha server
				var additionalInfo = '';
				if(typeof options.additionalInfo == 'function') {
					additionalInfo = options.additionalInfo.call();
				}
				additionalInfo = A5.ajax.buildURLParam('__additionalInfo',additionalInfo);
				var AAURI = encodeURI(DLG1_DlgObj.ajaxURL + '&' + additionalInfo + '&__Ajax=true&__FormAction=GenericAjaxCallback&_XbasicFunction=system:multifileupload&_xbasic=' + options.xbasicFunction);
				var xhr = new XMLHttpRequest();
				xhr.open('POST',AAURI,true);
			}
			if (!xhr) {
				//ops.setProgress(0, 'CORS not supported',objS3);
				if(typeof objS3.onError == 'function') objS3.onError({errorText: 'CORS not supported', errorCode: -1, fileObject: objS3});
			  	else alert('CORS not supported');
			} else {
			//capture the xhr object so you can call cancel
			objS3.arrS3[objS3.number].xhr = xhr;
			xhr.onreadystatechange = function() {
				//this.readyState == 4 & this.status == 200 -- success
				//this.readyState == 4 && this.status = 408 - timeout
				//anything else is an error
			}
			xhr.onload = function() {
			  if(xhr.status == 200) {
				ops.setProgress(100, 'Upload completed.',objS3);
				//file number is available in objS3.number
				objS3.uploadCompleteFunction.call(objS3);
				var txt = this.responseText;
				if(txt.indexOf('Eval:') == 0) {
					txt = txt.substring(5);
					eval(txt);
				}
			  } else {
				//ops.setProgress(0, 'Upload error: ' + xhr.status);
				var responseText = '';
				if(typeof xhr.responseText != 'undefined') responseText = xhr.responseText;
				if(typeof objS3.onError == 'function') objS3.onError({errorText: 'Upload error', errorCode: xhr.status, fileObject: objS3, errorText: responseText});
			  	else alert('XHR error. Reported error:' + responseText);
			  }
			};
			xhr.onerror = function() {
			  //ops.setProgress(0, 'XHR error.');
			  if(typeof objS3.onError == 'function') objS3.onError({errorText: 'XHR Error', errorCode: xhr.status, fileObject: objS3});
			  else alert('XHR error');
			};
			xhr.upload.onprogress = function(e) {
			  if (e.lengthComputable) {
				var percentLoaded = Math.round((e.loaded / e.total) * 100);
				ops.setProgress(percentLoaded, percentLoaded == 100 ? 'Finalizing.' : 'Uploading.',objS3);
			  }
			};
			if(!options.target) options.target = 'S3';
			if(options.target.toUpperCase() == 'S3') {
				xhr.setRequestHeader('Content-Type', file.type);
				if(!objS3.authenticatedRead) {
					xhr.setRequestHeader('x-amz-acl', 'public-read');
				} else {
					xhr.setRequestHeader('x-amz-acl', 'authenticated-read');
				}
			} else {
				//don't bother with headers. they will get set automatically becuase we will be .send()ing a FormData() object
			}
			if(targetServer.toUpperCase() == 'S3') {
				xhr.send(file);
			} else {
				//uploading to alpha server - by using a FormData() object, the content-type headers get set correctly
				var formData = new FormData();
				formData.append('file',file)
				xhr.send(formData);
			}
			}
		}
		ops.handleFileSelect = function(evt) {
			delete arrS3;
			var arrS3 = [];
			ops.__guid = Number(new Date());
			var __guid = ops.__guid;
			DLG1_DlgObj.__CORSUploads = {};
			DLG1_DlgObj.__CORSUploads[__guid] = {};
			DLG1_DlgObj.__CORSUploads[__guid]['arrS3'] = arrS3;
			DLG1_DlgObj.__CORSUploads[__guid]['ops'] = ops;
			DLG1_DlgObj.__CORSUploads[__guid]['options'] = options;
			var files = evt.target.files;
			var f = '';
			var data = '';
			var targetName = '';
			var newTargetName = '';
			arrS3.length = 0;
			for(var i = 0; i < files.length; i++) {
				f = files[i];
				if(typeof f.name == 'undefined') {
					var localFileName = 'blobfile.jpg';
					if(typeof options.localFileName != 'undefined') localFileName = options.localFileName;
					f.name = localFileName;
				}
				delete obji;
				var obji = {
					number: i,
					name: f.name,
					size: f.size,
					type: f.type,
					file: f,
					completed: false,
					aborted: false
				}
				arrS3.push(obji)
			}
			var __guid = ops.__guid;
			//validate file selection -------------------------------------
			var totalSize = 0;
			if(typeof options.maxFileSize == 'undefined') options.maxFileSize = -1;
			var maxSize = options.maxFileSize;
			if(maxSize == -1) maxSize = 999999999999999;
			if(typeof options.maxFileSizeTotal == 'undefined') options.maxFileSizeTotal = -1;
			var maxSizeTotal = options.maxFileSizeTotal;
			if(maxSizeTotal == -1) maxSizeTotal = 999999999999999;
			if(typeof options.allowedFileTypes == 'undefined') options.allowedFileTypes = '';
			var fileMsg = options.customization.maxFileSize;
			var fileTotalMsg = options.customization.totalFileSize;
			var typeMsg = options.customization.fileType;
			var flagHasValidationFunction = false;
			if(typeof options.onValidationError == 'function') flagHasValidationFunction = true;
			for(var i = 0; i < arrS3.length; i++) {
				totalSize = totalSize + arrS3[i].size;
				//check size
				if(arrS3[i].size > maxSize) {
					if(flagHasValidationFunction) {
						options.onValidationError({violationType: 'size', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});
					} else {
						if(typeof fileMsg != 'undefined' && fileMsg != '') {
							var msg = fileMsg;
							var e = arrS3[i];
							msg = msg.replace('[filename]',e.name);
							msg = msg.replace('[filesize]','' + e.size);
							msg = msg.replace('[maxfilesize]','' + maxSize);
							alert(msg);
						} else {
							alert('File exceeds maximum allowed size of ' + maxSize);
						}
					}
					return false;
				}
				//check type
				if(options.allowedFileTypes != '') {
					var arrT = options.allowedFileTypes.split(',');
					for(var i2 = 0; i2 < arrT.length; i2++ ) {
						arrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());
						arrT[i2] = arrT[i2].replace('.','');
					}
					var ext = arrS3[i].name.split('.');
					ext = ext[ext.length -1];
					ext = ext.toLowerCase();
					var ia = $u.a.find(arrT,ext);
					if(ia == -1) {
						if(flagHasValidationFunction) {
							options.onValidationError({violationType: 'type', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});
						} else {
							if(typeof typeMsg != 'undefined' && typeMsg != '') {
								var msg = typeMsg;
								var e = arrS3[i];
								msg = msg.replace('[filename]',e.name);
								msg = msg.replace('[filetype]',ext);
								alert(msg);
							} else {
								alert('Invalid file type ' + ext);
							}
						}
						return false;
					}
				}
			}
			//check total size
			if(totalSize > maxSizeTotal) {
				//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].
				if(flagHasValidationFunction) {
					options.onValidationError({violationType: 'totalSize', totalSize: totalSize, maxSizeTotal: maxSizeTotal});
				} else {
					if(typeof fileTotalMsg != 'undefined' && fileTotalMsg != '') {
						var msg = fileTotalMsg;
						var e = arrS3[i];
						msg = msg.replace('[filecount]',arrS3.length);
						msg = msg.replace('[totalfilesize]','' + totalSize);
						msg = msg.replace('[maxtotalfilesize]','' + maxSizeTotal);
						alert(msg);
					} else {
						alert('Files exceeds maximum allowed size of ' + maxSizeTotal);
					}
				}
				return false;
			}
			//end validate file selection
			if(typeof options.onAfterFilesSelect == 'function') {
				var result = options.onAfterFilesSelect(arrS3);
				if(typeof result != 'undefined') {
					if(!result) return false;
				}
			}
			ops.__handleFileSelectLow(files,__guid,arrS3)
		}
		ops._generatePlaceholderId = function() {
			var txt = options.progressDisplayPlaceholder;
			var flagDV = false;
			if(typeof options.__dv != 'undefined') flagDV = options.__dv;
			var num = txt.split('.')[1];
			if(!flagDV) {
				var eleId = _dlgObj.gridId + '.V.R'+options.rowNumber+'._UNBOUND_STATICTEXT_' + num;
			} else {
				var eleId = _dlgObj.gridId + '.D.V.R'+options.rowNumber+'._UNBOUND_STATICTEXT_' + num;
			}
			return eleId;
		}
		ops.__handleFileSelectLow = function(files,__guid,arrS3) {
			if(options.displayProgress) {
				if(options.progressDisplayPlaceholder.indexOf('ELEMENT:') == 0) {
					options.resolvedProgressPlaceholder = options.progressDisplayPlaceholder.split(':')[1];
				} else {
					options.resolvedProgressPlaceholder = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder
				}
				var eleP = $(options.resolvedProgressPlaceholder);
				if(options.part == 'grid') {
					options.resolvedProgressPlaceholder = this._generatePlaceholderId()
					var eleP = $(options.resolvedProgressPlaceholder);
				}
				if(eleP) {
					eleP.style.display = '';
					var arrH = [];
					var id_i = '';
					var id_row_i = '';
					var html = '';
					var html_i = '';
					var spanTxt = '';
					var flagAllowCancel = options.allowCancel;
					if(typeof flagAllowCancel == 'undefined') flagAllowCancel = false;
					if(typeof options.progressStyle == 'undefined') options.progressStyle = 'bar';
					if(options.progressStyle == 'text') {
						for(var i = 0; i < arrS3.length; i++) {
							//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
							id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
							id_row_i = id_i + '.ROW';
							html_i = '';
							html_i += '<tr id="'+id_row_i+'">';
							if(flagAllowCancel) {
								html_i += '<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="DLG1_DlgObj._abortS3Upload(\''+__guid+'\','+i+',\''+id_row_i+'\');">X</div></td>';
							}
							html_i +='<td><div>' + arrS3[i].name + ' (' + ops.formatNum(arrS3[i].size) + ') <span id='+id_i+'></span> </div></td>';
							html_i +='</tr>'
							arrH.push(html_i)
						}
						html = arrH.join('');
						html = '<table>' + html + '</table>'
					} else if (options.progressStyle == 'bar') {
						var flagShowFilename = options.showFileNameInProgressBar;
						if(typeof flagShowFilename == 'undefined') flagShowFilename = true;
						var flagMobile = false;
						if(typeof options._flagMobile != 'undefined') flagMobile = options._flagMobile;
						html_i = '';
						if(typeof options.progressBarColor == 'undefined') options.progressBarColor = '#9fa1e8';
						if(typeof options.progressBarWidth == 'undefined') options.progressBarWidth = '1.5in';
						var color = options.progressBarColor
						var width = options.progressBarWidth;
						for(var i = 0; i < arrS3.length; i++) {
							//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
							id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
							id_row_i = id_i + '.ROW';
							html_i = '';
							html_i += '<tr id="'+id_row_i+'">';
							if(flagShowFilename) {
								html_i += '<td>' + arrS3[i].name + ' (' + ops.formatNum(arrS3[i].size) + ')</td>';
							} else {
								html_i += '<td>(' + ops.formatNum(arrS3[i].size) + ')</td>';
							}
							html_i += '<td><div style="border: solid 1px '+color+'; width: '+width+';">';
							html_i += '<div id="'+id_i+'"style="width: 0%; height: .05in;  background-color:'+color+';"></div></div></td>';
							if(flagAllowCancel) {
								html_i += '<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="DLG1_DlgObj._abortS3Upload(\''+__guid+'\','+i+',\''+id_row_i+'\');">X</div></td>';
							}
							html_i += '</tr>';
							arrH.push(html_i);
						}
						html = arrH.join('');
						//for some reason in ie, this function is getting called a second time and if we don't exit here when .length == 0, it will overwrite the progress bar with a null string
						if(arrH.length == 0) return true;
						html = '<table>' + html + '</table>'
						if(flagMobile) {
							//mobile upload limited to 1 file and don't wrap in table
							//id_i = options.resolvedProgressPlaceholder + '.' + (1);
							html = '';
						}
					}
					eleP.innerHTML = html;
				}
			}
			for(var i = 0; i < files.length; i++) {
				var f = files[i];
				var dataA = [];
				dataA.push('_mimeType=' + f.type);
				targetName = f.name;
				if(typeof options.targetName == 'function') {
					newTargetName = options.targetName( f  );
					if(typeof newTargetName != 'undefined') {
						if(newTargetName != '') targetName = newTargetName;
					}
				}
				arrS3[i].targetName = targetName;
				var targetServer = options.target;
				if(!options.target) targetServer = 'S3';
				arrS3[i].targetServer = targetServer;
				dataA.push('_name=' + urlencode(targetName));  //name of object in S3
				dataA.push('_number=' + i);
				if(options.specifyCredentials == 'Explicit') {
					dataA.push('_xbasicFunctionNameForPropertyValues=' + options.xbasicFunctionName);
					dataA.push('_method=explicit');
				} else {
					dataA.push('_namedStorageConnectionString=' + options.connectionString);
					dataA.push('_method=connectionString');
				}
				dataA.push('_authenticatedRead=' + options.authenticatedRead);
				dataA.push('_part=' + options.part);
				dataA.push('_s3timeout='+ options.s3timeout);
				data = dataA.join('&');
				//alert(data);
				if(typeof options.userProgressFunction == 'undefined') options.userProgressFunction = function(e) {};
				if(typeof options.onCompleteAllFiles == 'undefined') options.onCompleteAllFiles = function(e) {};
				if(typeof options.onCompleteFile == 'undefined') options.onCompleteFile = function(e) { };
				var obj = {
					//ajax callback to sign url onComplete
					onComplete: function() {
						var signedURL = decodeURIComponent(_dlgObj._fileCodedURL);
						var num = _dlgObj._fileCodedURLNum;
						var fi = arrS3[num].file;
						var targetServer = arrS3[num].targetServer;
						delete objS3;
						var objS3 = {
							uploadCompleteFunction: function() {
								this.arrS3[this.number].completed = true;
								var flagAllCompleted = false;
								var c = 0;
								for(var i = 0; i < this.arrS3.length; i++) {
									if(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;
								}
								if(c == this.arrS3.length) flagAllCompleted = true;
								var e = {
									name: this.name,
									type: this.type,
									size: this.size,
									number: this.number,
									fileArray: this.arrS3,
									targetName: arrS3[this.number].targetName
								}
								options.onCompleteFile(e);
								if(flagAllCompleted) {
									options.onCompleteAllFiles(e);
									if(options.displayProgress) {
										//var eleP = $(_dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder);
										var eleP = $(options.resolvedProgressPlaceholder);
										if(eleP) eleP.style.display = 'none';
									}
									delete DLG1_DlgObj.__CORSUploads[__guid];
								}
							},
							userProgressFunction: options.userProgressFunction,
							onError: options.onError,
							name: fi.name,
							size: fi.size,
							type: fi.type,
							number: num,
							arrS3: arrS3,
							targetName: arrS3[num].targetName,
							__guid: __guid,
							authenticatedRead: options.authenticatedRead
						}
						objS3.targetServer = targetServer;
						ops.uploadToS3(fi,signedURL,objS3);
					}
				}
				ops.obj = obj;
				var reader = new FileReader();
				reader.onload = function(e) {
					var eleId = '';
					var ele = '';
					if(typeof options.imageControl != 'undefined' && options.part == 'ux') {
						eleId = options.__alias + '.V.R1.' + options.imageControl.toUpperCase();
						ele = $(eleId);
						if(ele) ele.src = e.target.result;
					} else {
						var flagDV = false;
						if(typeof options.__dv != 'undefined') flagDV = options.__dv
						if(flagDV) {
							eleId = options.__alias + '.D.V.R'+options.rowNumber+'.' + options.imageControl.toUpperCase();
						} else {
							eleId = options.__alias + '.V.R'+options.rowNumber+'.' + options.imageControl.toUpperCase();
						}
						ele = $(eleId);
						if(ele) {
							var oldSrc = ele.src;
							_dlgObj.__oldImage = oldSrc;
							ele.src = e.target.result;
						}
					}
				}
				reader.onerror = function(e) {
					alert('error in reader 123');
				}
				if(typeof options.imageControl != 'undefined') reader.readAsDataURL(f);
				var flagTargetIsServer = false;
				if(typeof options.target != 'undefined') {
					if(options.target.toLowerCase() == 'server') flagTargetIsServer = true;
				}
				if(!flagTargetIsServer) {
					_dlgObj.ajaxCallback('','','a5DialogHelper_signAmazonS3FileUploadURL','',data,obj);
				} else {
					//no need to sign the url for target = 'alpha'
					_dlgObj._fileCodedURLNum = i;
					obj.onComplete();
				}
			}
		}
		//$e.add($(this.dialogId + '._GETFILEMULTI'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
		$e.removeGroup('__amazonS3fileupload')
		//bind the change event to the file selector
		if(options.allowMultipleFiles) {
			if(typeof this._getFileMultiListenerLoaded == 'undefined') {
				//this._getFileMultiListenerLoaded = true;
				//$(this.dialogId + '._GETFILEMULTI').addEventListener('change',ops.handleFileSelect,false);
				$e.add($(this.dialogId + '._GETFILEMULTI'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
			}
			eleB = $(this.dialogId + '._GETFILEMULTI');
		} else {
			if(typeof this._getFileListenerLoaded == 'undefined') {
				//this._getFileListenerLoaded = true;
				//$(this.dialogId + '._GETFILE').addEventListener('change',ops.handleFileSelect,false);
				$e.add($(this.dialogId + '._GETFILE'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
			}
			eleB = $(this.dialogId + '._GETFILE');
		}
		var flagFilePassedIn = false;
		if(typeof options.flagFilePassedIn != 'undefined') {
			flagFilePassedIn = options.flagFilePassedIn
		}
		if(!flagFilePassedIn) {
			eleB.value = '';
			eleB.click();
			eleB.value = '';
		} else {
			//options.filePassedIn
			var evt = {};
			evt.target = {};
			evt.target.files = [];
			evt.target.files[0] = options.filePassedIn;
			ops.handleFileSelect(evt);
		}
	}
	////==== upload PhoneGap /////////////////////////////////////////////////////
	DLG1_DlgObj.phoneGapFileUpload = function(arr,options) {
		var _dlgObj = this;
		//arr is an array of files to upload. arr must have a .filename property in each item
		if(typeof LocalFileSystem == 'undefined') {
			if(typeof cordova == 'undefined') {
				alert('Method not supported when not running in PhoneGap');
			} else {
				alert('Required PhoneGap plugins (\'LocalFileSystem 2\')not loaded.');
			}
			return false;
		}
		//initialize variables
		for(var i = 0; i < arr.length; i++) {
			arr[i].name = arr[i].filename;
			arr[i].number = i;
			arr[i].completed = false;
			arr[i].aborted = false;
			arr[i].succeeded = false;
		}
		///define local function for phoneGapFileUpload: generateProgressBarsHTML -------------
		var generateProgressBarsHTML = function (ops,count) {
			var eleTarget = ops.progressElement;
			if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase();
			var html = '';
			var html_i = '';
			var name_i = '';
			var progress_i = '';
			var idName = '';
			var idProgress = '';
			if(ops.individualProgress) {
				for(var  i = 0; i < count; i++) {
					name_i = 'Name: ' + i;
					progress_i = 'Progress...' + i;
					idProgress = eleTarget + '.PROGRESS.' + i;
					idName = eleTarget + '.NAME.' + i;
					progress_i = '<div style="border: solid 1px '+ops.color+'; width: '+ops.width+';">';
					progress_i += '<div id="'+idProgress+'"style="width: 0%; height: .05in;  background-color:'+ops.color+';"></div></div></td>';
					html_i = '<td id="'+idName+'">name '+name_i+'</td><td>'+progress_i+'</td>';
					html_i = '<tr>' + html_i + '</tr>';
					html = html + html_i;
				}
			}
			if(ops.showTotalProgress) {
				idProgress = eleTarget + '.PROGRESS.TOTAL';
				idName = eleTarget + '.NAME.TOTAL';
				progress_i = '<div style="border: solid 1px '+ops.color+'; width: '+ops.width+';">';
				progress_i += '<div id="'+idProgress+'"style="width: 0%; height: .05in;  background-color:'+ops.color+';"></div></div></td>';
				html_i = '<td id="'+idName+'"></td><td>'+progress_i+'</td>';
				html_i = '<tr>' + html_i + '</tr>';
				html = html + html_i
			}
			var idProgress = eleTarget + '.PROGRESSDISPLAY';
			html = '<div id="'+idProgress+'"><table>' + html + '</table><div>';
			$(eleTarget).innerHTML = html;
		}
		///define local function for phoneGapFileUpload: phoneGapUploadDoWork -------------
		var phoneGapUploadDoWork = function(arr,options) {
			if(options.target.toLowerCase() == 's3') {
				//s3
				var xbasicFunction = 'a5dialogHelper_systemSignS3Policy';
				var o2 = {};
				$u.o.assign(o2,options);
				/////compute localTargetName before making the callback
				var filenameURI;
				var actionOptions = options;
				for(var i = 0; i < arr.length; i++) {
					filenameURI = arr[i].filename;
					var fileName = filenameURI.substr(filenameURI.lastIndexOf('/')+1);
					var targetName = fileName;
					if(typeof actionOptions.onComputeS3Filename == 'function') {
						var e = {name: targetName, object: arr[i]};
						var newTargetName = actionOptions.onComputeS3Filename(e);
						if(typeof newTargetName == 'undefined') newTargetName = targetName;
						if(newTargetName == '') newTargetName = targetName;
						targetName = newTargetName;
					}
					//on iphone video name is always 'capturedvideo.mov' (in a unique subfolder)
					if(targetName.toLowerCase() == 'capturedvideo.mov') {
						targetName = A5.UUID() + '_video.MOV';
					}
					arr[i].targetName = targetName;
				}
				///--------end compute s3 target name
				o2.arr = arr;
				var data = A5.ajax.buildURLParam('_jsonOptions',JSON.stringify(o2));
				var ajaxObj = {
					errorFunction: function() {
						if(typeof options.onAjaxFailed == 'function') options.onAjaxFailed();
					},
					onComplete: function() {
						var startUploadLocal = function() {
							var totalSize = 0;
							for(var i = 0; i < arr.length; i++) {
								totalSize = totalSize + Number(arr[i].size);
							}
							var _sysObj = {};
							_sysObj.totalBytesToUpload = totalSize;
							var flagMobile = false;
							if(typeof options._flagMobile != 'undefined') flagMobile = options._flagMobile;
							options._flagMobile = flagMobile;
							if(options.showProgress && !flagMobile) generateProgressBarsHTML(options.progress,arr.length);
							//alert('ready to start uploading files: total ' + totalSize);
							startUploadFilesToS3(_sysObj,options);
						}
						var _sTop = {};
						getFileSizesForAllItemsInArray(startUploadLocal,_sTop);
					},
					deviceOfflineFunction: function() {
						if(typeof options.onDeviceOffline == 'function') options.onDeviceOffline();
					}
				}
				//alert('ajax callback');
				DLG1_DlgObj.ajaxCallback('','',xbasicFunction,'',data,ajaxObj);
			} else {
				//alpha server
				var startUploadLocal = function() {
					var totalSize = 0;
					for(var i = 0; i < arr.length; i++) {
						totalSize = totalSize + Number(arr[i].size);
					}
					var _sysObj = {};
					_sysObj.totalBytesToUpload = totalSize;
					if(options.showProgress) generateProgressBarsHTML(options.progress,arr.length);
					startUploadFilesToS3(_sysObj,options);
				}
				var _sTop = {};
				getFileSizesForAllItemsInArray(startUploadLocal,_sTop);
			}
		}
		///define local function for phoneGapFileUpload: getFileSizesForAllItemsInList
		var getFileSizesForAllItemsInArray = function(allDone_GotAllFileSizes_Callback, _sTop)  {
			var _s = {count: 0};
			var getFileSizesForAllItemsInArrayLow = function (arr,r,count,callback,_s,_sTop) {
				var rowNumber = r;
				var url = arr[r].filename;
				var resolveLocalFileURL_SUCCESS = function(fileEntry) {
					var file_SUCCESS = function(f) {
						arr[r].size = f.size;
						_s.count = _s.count + 1;
						if(_s.count == count) {
							callback(_sTop);
						}
					}
					fileEntry.file(file_SUCCESS);
				}
				//on iphone, video capture does not return a file with the file:// prefix
				var urlToResolve = url;
				if(url.indexOf('file:') != 0) {
					urlToResolve = urlToResolve.replace('/private','file:\/\/');
				}
				window.resolveLocalFileSystemURL(urlToResolve, resolveLocalFileURL_SUCCESS, function() { } );
			}
			for(var i = 0; i < arr.length; i++) {
				getFileSizesForAllItemsInArrayLow(arr,i,arr.length,allDone_GotAllFileSizes_Callback,_s,_sTop)
			}
		}
		///define local function for phoneGapFileUpload: startUploadFilesToS3
		var startUploadFilesToS3 = function(_sysObj,options) {
			//_sysObj.totalBytesToUpload;
			for(var i = 0; i < arr.length; i++) {
				upLoadFilesToS3Work(arr[i].filename,arr,i,_sysObj,options)
			}
		}
		///define local function for phoneGapFileUpload: s3SignedPolicy
		var s3SignedPolicy = function() {
			var obj = {};
			obj.hasError = DLG1_DlgObj._pgS3.hasError;
			obj.policyBase64 = DLG1_DlgObj._pgS3.policyBase64;
			obj.signature = DLG1_DlgObj._pgS3.signature;
			obj.userKey = DLG1_DlgObj._pgS3.accessKey;
			obj.acl = DLG1_DlgObj._pgS3.acl;
			obj.bucket = DLG1_DlgObj._pgS3.bucket;
			return obj;
		}
		///define local function for phoneGapFileUpload: uploadFilesToS3Work
		var upLoadFilesToS3Work = function(filenameURI,arr,fileNumber,_sysObj, actionOptions) {
			//this code to compute the targetName now gets run before the ajax callback to sign the url is made because the v4 amz signing method
			//needs to include the s3 object name in the url that gets signed
			var fileName = filenameURI.substr(filenameURI.lastIndexOf('/')+1);
			var targetName = fileName;
			if(typeof actionOptions.onComputeS3Filename == 'function') {
				var e = {name: targetName, object: arr[fileNumber]};
				var newTargetName = actionOptions.onComputeS3Filename(e);
				if(typeof newTargetName == 'undefined') newTargetName = targetName;
				if(newTargetName == '') newTargetName = targetName;
				targetName = newTargetName;
			}
			//on iphone video name is always 'capturedvideo.mov' (in a unique subfolder)
			if(targetName.toLowerCase() == 'capturedvideo.mov') {
				targetName = A5.UUID() + '_video.MOV';
			}
			if(typeof actionOptions.target != 'undefined') {
				if(actionOptions.target == 'alphaanywhere') {
					arr[fileNumber].targetName = targetName
				}
			}
			//
			//do not do this here when target is S3. it has already been done before the ajax callback.
			//arr[fileNumber].targetName = targetName; //use name that event returned
			var ft = new FileTransfer();
			var options = new FileUploadOptions();
			options.fileKey = "file";
			options.fileName = targetName;
			options.mimeType = "image/jpeg";
			options.chunkedMode = false;
			if(actionOptions.target == 'alphaanywhere') {
				var s3URI = encodeURI( $u.s.aTrim(DLG1_DlgObj.ajaxURL));
				//s3URI = 'junk'; //force a file upload error
				//alert('remember to turn this off');
				var xbasicAfterUpload = actionOptions.xbasicAfterFileUploaded
				var specialMode = '';
				if(typeof actionOptions.specialMode != 'undefined') specialMode = actionOptions.specialMode;
				options.params = {
					"_XbasicFunction" : "system:phonegapfileupload",
					"__Ajax" : "true",
					"__FormAction" : "GenericAjaxCallback",
					"__FormID" : "",
					"__xbasicAfterUpload" : xbasicAfterUpload,
					"__arrayIndex" : fileNumber,
					"__actionOptions" : JSON.stringify(actionOptions),
					"__specialMode" : specialMode,
					"__targetName" : targetName,
					"__arrayItem" : JSON.stringify(arr[fileNumber]),
					"__ajaxURL" : $u.s.aTrim(DLG1_DlgObj.ajaxURL)
				}
			} else {
				//s3
				var obj = s3SignedPolicy();
				var s3URI = encodeURI('https://' + obj.bucket + '.s3.amazonaws.com/'),
					policyBase64 = obj.policyBase64,
					signature = obj.signature,
					awsKey = obj.userKey,
					acl = obj.acl;
				//this is computed on the server
				s3URI = DLG1_DlgObj._pgS3.signedURI;
				var arr2 = JSON.parse(DLG1_DlgObj._pgS3.signedURIArrayJSON);
				var _uri = arr2[fileNumber].uri;
				var _mime = arr2[fileNumber].mimeType;
				s3URI = _uri;
				//alert('s3URI: ' + s3URI);
				options.params = {
					"key": targetName,
					"AWSAccessKeyId": awsKey,
					"acl": acl,
					"policy": policyBase64,
					"signature": signature,
					"Content-Type": "image/jpeg"
				};
			}
			var setProgress = function(progressId,fileNumber,pctComplete) {
				var id = '';
				var countCompleted = 0;
				if(fileNumber == 'total') {
					id = progressId + '.PROGRESS.TOTAL';
					for(var i = 0; i < arr.length; i++) {
						if(arr[i].completed) countCompleted = countCompleted + 1;
					}
					var idN = progressId + '.NAME.TOTAL';
					var ele = $(idN);
					//if(ele) ele.innerHTML = 'Completed: ' + countCompleted +  ' of ' + arr.length;
				} else {
					id = progressId + '.PROGRESS.' + fileNumber;
				}
				var ele = $(id);
				if(ele) ele.style.width = pctComplete + '%';
				var idP = progressId + '.PROGRESSDISPLAY';
				ele = $(idP);
				if(ele) ele.style.display = '';
			}
			ft.onprogress = function(progressEvent) {
				var totalBytesToTransfer = _sysObj.totalBytesToUpload
				if(typeof _sysObj.workDone == 'undefined') {
					_sysObj.workDone = [];
					for(var i = 0; i < arr.length; i++) {
						_sysObj.workDone[i] = 0;
					}
				 };
				_sysObj.workDone[fileNumber] = progressEvent.loaded;
				var gTotal = 0;
				for(var i = 0; i < _sysObj.workDone.length; i++) {
					if(typeof _sysObj.workDone[i] != 'undefined') {
						gTotal = gTotal + _sysObj.workDone[i];
					}
				}
				var progressId = actionOptions.progress.progressElement;
				if (progressEvent.lengthComputable) {
					var pctComplete = (progressEvent.loaded / progressEvent.total)*100;
					if(pctComplete > 100) pctComplete = 100;
					pctComplete = $u.n.round(pctComplete,4);
					if(actionOptions.showProgress) setProgress(progressId,fileNumber,pctComplete);
					if(typeof actionOptions.onProgressEvent == 'function') {
						actionOptions.onProgressEvent(arr, fileNumber, pctComplete, progressEvent.loaded, progressEvent.total);
					}
					var pctCompleteTotal = (gTotal / totalBytesToTransfer) * 100;
					if(pctCompleteTotal > 100) pctCompleteTotal = 100;
					pctCompleteTotal = $u.n.round( pctCompleteTotal,4);
					if(actionOptions.showProgress) setProgress(progressId,'total',pctCompleteTotal);
					if(typeof actionOptions.onProgressEvent == 'function') {
						actionOptions.onProgressEvent(arr, 'total', pctCompleteTotal, gTotal, totalBytesToTransfer);
					}
					if(actionOptions._flagMobile) {
						if($('MOBILEUPLOADPROGRESS.1')) $('MOBILEUPLOADPROGRESS.1').style.width = pctCompleteTotal + '%';
					}
				} else {
					//progress messages not possible -- should never happen
				}
			};
			var _hasCompleted = function() {
				var flagAllDone = true;
				for(var i = 0; i < arr.length; i ++) {
					if(arr[i].completed == false) {
						flagAllDone = false;
						break;
					}
				}
				return flagAllDone;
			}
			var fileUploadSuccess = function(r) {
				arr[fileNumber].completed = true;
				arr[fileNumber].succeeded = true;
				arr[fileNumber].remoteName = arr[fileNumber].targetName;
				//for uploads to AlphaAnywhere, the Xbasic function that is called can send a response
				if(r.response != 'undefined') {
					if(r.response != '') eval(r.response);
				};
				//if the targer is the Alpha server and the Xbasic handler sent a response that set the 'targetFileName' property
				var target = actionOptions.target.toLowerCase();
				if(target == 's3') {
					if(typeof actionOptions.s3.template != 'undefined') {
						arr[fileNumber].remoteName = actionOptions.s3.template.replace('__name__',arr[fileNumber].targetName);
					}
				} else {
					if(typeof arr[fileNumber].targetFileName != 'undefined') {
						arr[fileNumber].remoteName = arr[fileNumber].targetFileName;
					}
				}
				if(typeof actionOptions.onCompleteIndividualFile == 'function') {
					actionOptions.onCompleteIndividualFile(arr,fileNumber);
				}
				var flagAllDone = _hasCompleted();
				if(flagAllDone) {
					var progressId = actionOptions.progress.progressElement;
					var idP = progressId + '.PROGRESSDISPLAY';
					var ele = $(idP);
					if(ele) ele.style.display = 'none';
					if(typeof actionOptions.onComplete == 'function') {
						actionOptions.onComplete(arr);
					};
				}
			}
			var _hideProgress = function() {
				var progressId = actionOptions.progress.progressElement;
				var idP = progressId + '.PROGRESSDISPLAY';
				var ele = $(idP);
				if(ele) ele.style.display = 'none';
			}
			var fileUploadFailed = function(error) {
				arr[fileNumber].failed = true;
				arr[fileNumber].completed = true;
				if(typeof actionOptions.onError == 'function') {
					actionOptions.onError(arr,fileNumber,error);
				}
				if(typeof actionOptions.onCompleteIndividualFile == 'function') {
					actionOptions.onCompleteIndividualFile(arr,fileNumber);
				}
				var flagAllDone = _hasCompleted();
				if(flagAllDone) {
					_hideProgress();
					if(typeof actionOptions.onComplete == 'function') {
						actionOptions.onComplete(arr);
					}
				};
			}
			var flagOK = true;
			if(typeof actionOptions.onValidate == 'function') {
				var result = actionOptions.onValidate(arr,fileNumber);
				if(typeof result != 'undefined') flagOK = result;
			}
			//do the upload
			if(flagOK) {
				var flagTrustAllHosts = false;
				if(typeof _dlgObj != 'undefined') {
					if(typeof _dlgObj._phoneGapTrustAllHosts != 'undefined') {
						flagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;
					}
				}
				if(actionOptions.target == 'alphaanywhere') {
					options.httpMethod = 'POST';
				} else {
					options.httpMethod = 'PUT';
					options.headers = {'Content-Type': 'image/jpeg','x-amz-acl': acl };
					options.multipartMode = false;
				}
				ft.upload(filenameURI, s3URI, fileUploadSuccess, fileUploadFailed, options,flagTrustAllHosts);
			} else {
				arr[fileNumber].aborted = true;
				arr[fileNumber].completed = true;
			}
		}
		phoneGapUploadDoWork(arr,options);
	}
	DLG1_DlgObj.phoneGapCreateDirectory = function(dirName, onComplete, onError) {
		if(typeof onError == 'undefined') onError = function(err) { };
		var onFSSuccess = function(fs) {
			//got the filesystem
			var onDirCreateSuccess = function(dirEntry) {
				if(typeof onComplete == 'function') {
					onComplete();
				}
			}
			fs.root.getDirectory(dirName, {create: true},onDirCreateSuccess, onError);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );
	}
	DLG1_DlgObj.phoneGapCreateDirectoryRecurse = function(dirName, onComplete, onError) {
		if(typeof onError == 'undefined') onError = function(err) { };
		var prepareWork = function(dir) {
			var arr = dir.split('/');
			var arr3 = [];
			for(var i = 0; i < arr.length; i++) {
				var arr2 = [];
				for(var k = 0; k < i + 1; k++) {
					arr2.push(arr[k]);
				}
				arr3.push(arr2.join('/'));
			}
			return arr3;
		}
		var arr = prepareWork(dirName);
		var count = 0;
		var onCompleteLocal = function() {
			if(count == arr.length) {
				onComplete();
			} else {
				DLG1_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);
				++count;
			}
		}
		DLG1_DlgObj.phoneGapCreateDirectory(arr[count],onCompleteLocal,onError);
	}
	DLG1_DlgObj.phoneGapGetDirectory = function(dirName, onComplete, onError) {
		//calls onComplete with an array of files in the directory
		if(typeof onError == 'undefined') onError = function(err) { };
		//got filesystem event handler
		var onFSSuccess = function(fs) {
			if(dirName.indexOf('/') == 0) dirName = dirName.substring(1);
			//got the fileSystem
			//alert('got fs - dirName:  ' + dirName);
			fs.root.getDirectory(dirName,{},function(e) {
			var dirReader = e.createReader();
			var listFiles = function(entries) {
				var fileCount = entries.length;
				var arr = [];
				var displayName = '';
				for(var i = 0; i < fileCount ; i++) {
					if(entries[i].isFile) displayName = entries[i].fullPath + ' [F]';
					else displayName = entries[i].fullPath + ' [D]';
					arr.push( {fullPath: entries[i].fullPath, isFile: entries[i].isFile, display: displayName } );
				}
				if(typeof onComplete == 'function') {
					onComplete(arr);
				}
			}
			dirReader.readEntries(listFiles,onError);
		},onError);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );
	}
	DLG1_DlgObj.phoneGapGetDirectoryRecurse = function(folder, onDirComplete, onDirError) {
		//onDirComplete gets called with files, an array of all files. each array entry has a 'fileName' property.
		var files = [];
		var pending = 0;
		var onComplete = function(array) {
			for(var i = 0; i < array.length; i++) {
				if(array[i].isFile) {
					files.push({fullPath: array[i].fullPath, isFile: true, display: array[i].fullPath + ' [F]'})
				} else {
					++pending;
					files.push({fullPath: array[i].fullPath, isFile: false, display: array[i].fullPath + ' [D]'})
					DLG1_DlgObj.phoneGapGetDirectory(array[i].fullPath,onComplete,onError)
				}
			}
			--pending;
			if(pending == 0) {
				onDirComplete(files);
			}
		}
		var onError = function(err) {
			if(typeof onDirError == 'function') {
				onDirError(err);
				onDirComplete = function() { } //prevent the all complete from firing
			}
			else alert('Error');
		}
		++pending;
		DLG1_DlgObj.phoneGapGetDirectory(folder,onComplete,onError);
	}
	DLG1_DlgObj.phoneGapRemoveDirectory = function(dirName,onSuccess,onError,flagRecursive) {
		if(typeof flagRecursive == 'undefined') flagRecursive = false;
		if(typeof onError == 'undefined') onError = function(err) { };
		var onFSSuccess = function(fs) {
			var gotDirectory = function(dirEntry) {
				if(flagRecursive) {
					dirEntry.removeRecursively(function() {
						if(typeof onSuccess == 'function') onSuccess();
					},onError);
				} else {
					dirEntry.remove(function() {
						if(typeof onSuccess == 'function') onSuccess();
					},onError);
				}
			}
			//if you cant find the dir then it is effectively removed, so call onSuccess
			fs.root.getDirectory(dirName, {}, gotDirectory, onSuccess);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );
	}
	DLG1_DlgObj.phoneGapRemoveDirectoryRecurse = function(dirName,onSuccess,onError) {
		DLG1_DlgObj.phoneGapRemoveDirectory(dirName,onSuccess,onError,true);
	}
	DLG1_DlgObj.phoneGapDeleteFile = function(fileName,onSuccess,onError) {
		var onFSSuccess = function(fs) {
			fs.root.getFile(fileName, {create: false}, function(f) {
				f.remove( function() {
					if(typeof onSuccess == 'function') {
						onSuccess();
					}
				}, onError );
			}, onError);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );
	}
	DLG1_DlgObj.phoneGapFileExists = function(fileName,onResult,onFailed) {
		var onFSSuccess = function(fs) {
			var gotFile = function(f) {
				if(typeof onResult == 'function') onResult(true);
			}
			var didNotGetFile = function() {
				if(typeof onResult == 'function') onResult(false);
			}
			fs.root.getFile(fileName, {create: false}, gotFile,didNotGetFile);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onFailed );
	}
	DLG1_DlgObj.phoneGapReadFile = function(fileName,onReadFile,onReadFileERROR,startAt,endAt) {
		if(typeof fileName == 'object') {
			var fnObj = fileName;
			var _success = onReadFile
			if(typeof onReadFileERROR == 'undefined') onReadFileERROR = function(err) { };
			var _error = onReadFileERROR;
			if(fnObj._strip) {
				var _filePath = this.phoneGapGetLocalDirURL(fnObj._fs) + fnObj._dir + '/' + fnObj.fileNameShort;
			} else {
				var _filePath = this.phoneGapGetLocalDirURL(fnObj._fs) + fnObj._dir + '/' + 'A5SessionFile/' + fnObj.fileNameShort;
			}
			if(typeof startAt == 'undefined') {
				this.phoneGapReadFileURL(_filePath, _success,_error);
			} else {
				this.phoneGapReadFileURL(_filePath, _success,_error,startAt,endAt);
			}
			return true;
		}
		var onFSSuccess = function(fs) {
			var readFile = function(f) {
				f.file( function(e) {
					reader = new FileReader();
					reader.onloadend = function(e) {
						if(typeof onReadFile == 'function') {
							onReadFile(e.target.result);
						}
					}
					if(typeof startAt == 'undefined' || typeof endAt == 'undefined') {
						reader.readAsText(e);
					} else {
						var blob = e.slice(startAt,endAt);
						reader.readAsText(blob);
					}
				});
			}
			fs.root.getFile(fileName, {create: false}, readFile, onReadFileERROR);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onReadFileERROR );
	}
	DLG1_DlgObj._phoneGapCreateFile_low = function(fileName,text,onCreatedFile,onCreateFileERROR) {
		var onFSSuccess = function(fs) {
			var writeFileData = function(f) {
				var doFileWrite = function(writerObject) {
					writerObject.onwrite = function() {
						if(typeof onCreatedFile == 'function') onCreatedFile();
					}
					writerObject.seek(writerObject.length);
					var blob = new Blob([text], {type: 'text/plain'});
					writerObject.write(blob);
				}
				f.createWriter(doFileWrite);
			}
			fs.root.getFile(fileName, {create:true}, writeFileData, onCreateFileERROR);
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );
	}
	DLG1_DlgObj.phoneGapCreateFile = function(fileName,text,onCreatedFile,onCreateFileERROR,flagAppend) {
		if(fileName == '') {if(typeof onCreateFileERROR == 'function') onCreateFileERROR(); return false;}
		var onFSSuccess = function(fs) {
			if(!flagAppend) {
				var onDelete = function() {
					DLG1_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR);
				}
				DLG1_DlgObj.phoneGapDeleteFile(fileName,onDelete,onDelete)
			} else {
				DLG1_DlgObj._phoneGapCreateFile_low(fileName,text,onCreatedFile,onCreateFileERROR)
			}
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onCreateFileERROR );
	}
	DLG1_DlgObj.phoneGapFileDownload = function(arr,options) {
		if(typeof options.targetFolder == 'undefined') {
			var _baseURI = this.phoneGapGetLocalDirURL(options.filesystem);; //sr2
			var _dirName = options.directory;;
			if(_dirName == '') {
				var _dirPath = _baseURI;
			} else {
				var _dirPath = _baseURI + _dirName + '/';
			}
			options.fullyQualifiedPath = _dirPath;
		}
		var _countDone = 0;
		var flagCustomOnError = false;
		if(typeof DLG1_DlgObj.customWindowErrorEvents != 'undefined') flagCustomOnError = DLG1_DlgObj.customWindowErrorEvents;
		//if(!flagCustomOnError) window.onerror = function(err) { alert('Unhandled Javascript Error - phoneGapFileDownload:  ' + JSON.stringify(err));}
		var _dlgObj = this;
		if(typeof LocalFileSystem == 'undefined') {
			if(typeof cordova == 'undefined') {
				alert('Method not supported when not running in PhoneGap');
			} else {
				alert('Required PhoneGap plugins (\'LocalFileSystem\') not loaded.');
			}
			return false;
		}
		if(typeof onError == 'undefined') onError = function(err) { };
		//got filesystem event handler
		for(var i = 0; i < arr.length; i++) {
			arr[i].handled = false;
			arr[i].downloaded = false;
			arr[i].sourceType = 'server';
			if(arr[i].filename.toLowerCase().indexOf('http://') == 0) arr[i].sourceType = 'url';
			if(arr[i].filename.toLowerCase().indexOf('https://') == 0) arr[i].sourceType = 'url';
			if(arr[i].sourceType == 'url') {
				arr[i].sourceFilename = arr[i].filename.split('/').pop().split('?')[0];
			}
		}
		var onFSSuccess = function(fs) {
			var baseDirectory = fs.root.toURL();
			options._baseDirectory = baseDirectory; //sr 99
			var url = DLG1_DlgObj.ajaxURL;
			;
			url = url.split('?')[0];
			url = url.split('/');
			url.pop();
			url = url.join('/') + '/';
			options._serverURL = url;
			for(var i = 0; i < arr.length; i++) {
				//arr[i].localFileName = false;
			}
			if(options.showProgress) {
				var eleTarget = options.progress.progressElement;
				if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase();
				var idProgress = eleTarget;
				var ele = $(idProgress);
				if(!ele) options.showProgress = false; //set to false or else you will hang iOS
			}
			if(options.showProgress) {
				var ops = options.progress;
				ops.totalFileSize = options.totalFileSize;
				var eleTarget = ops.progressElement;
				if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase();
				var html = '';
				var html_i = '';
				var name_i = '';
				var progress_i = '';
				var idName = '';
				var idProgress = '';
				idProgress = eleTarget + '.PROGRESS.TOTAL';
				idName = eleTarget + '.NAME.TOTAL';
				progress_i = '<div style="border: solid 1px '+ops.color+'; width: '+ops.width+';">';
				progress_i += '<div id="'+idProgress+'"style="width: 0%; height: .05in;  background-color:'+ops.color+';"></div></div>';
				html_i = '<div id="'+idName+'"></div>'+progress_i;
				html = html + html_i
				var idProgress = eleTarget + '.PROGRESSDISPLAY';
				html = '<div id="'+idProgress+'">' + html + '<div>';
				if ($(eleTarget)) $(eleTarget).innerHTML = html;
				var showProgress = function(pct,arr,fileNumber,loaded,totalBytes, onProgressEvent,completedFiles) {
					var eleTarget = options.progress.progressElement
					if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase();
					var idProgress = eleTarget + '.PROGRESS.TOTAL';
					var ele = $(idProgress);
					if(ele) ele.style.width = pct + '%';
					if(typeof onProgressEvent == 'function') {
						//match the prototype of the function: array, arrayIndex, pctComplete, bytesCompleted, bytesTotal, completedFiles
						onProgressEvent(arr,fileNumber,pct,loaded,totalBytes,completedFiles)
					}
				}
			} else {
				var showProgress = function(pct) { };
				//this is wrong. if the user has turned showprogress off, then the showProgress() function must still be defined, passsing in the user defined onProgress event
			}
			var phoneGapFileDownload_low = function(arr,iIn,options) {
				var i = Number(iIn);
				if(typeof options.targetFolder != 'undefined') {
					var targetFolder = options.targetFolder;
					if(targetFolder != '') targetFolder = targetFolder + '/';
					if(typeof options._baseDirectory != 'undefined') {
						var fnLocal = options._baseDirectory + targetFolder + A5.parseFilename(arr[i].filename).name;
					} else {
						var fnLocal = targetFolder + A5.parseFilename(arr[i].filename).name; //sr99
					}
				} else {
					var flagStrip = false;
					if(typeof options.strip != 'undefined') flagStrip = options.strip;
					var flagHasA5SessionFilePrefix = false
					if(arr[i].filename.indexOf('A5SessionFile/') >=0) flagHasA5SessionFilePrefix = true;
					if(flagStrip) {
						var _fn = (A5.parseFilename(arr[i].filename).name).replace('A5SessionFile/','');
					} else {
						var _fn = A5.parseFilename(arr[i].filename).name;
						if(flagHasA5SessionFilePrefix) _fn = 'A5SessionFile/' + _fn;
					}
					var fnLocal = options.fullyQualifiedPath + _fn;
				}
				//alert(fnLocal); //could strip off /A5SessionFile
				/*
				not sure why this is being done, but wrong
				if(arr[i].sourceType == 'url') {
					if(typeof targetFolder == 'undefined') {
						targetFolder = options.directory + '/';
					} else {
						targetFolder = options.targetFolder + '/';
					}
					fnLocal = options._baseDirectory + targetFolder +arr[i].sourceFilename;
				}
				*/
				if(A5.log) A5.log('fnLocal: ' + fnLocal);
				//if the targetFolder is <SQLite>|localdbname.db user is doing a special download to the SQL database folder
				var flagSQLite = false;
				/*
				if(targetFolder.indexOf('<SQLite>') == 0) {
					var localDBName = targetFolder.split('|')[1];
					localDBName = localDBName.split('/')[0];
					flagSQLite = true;
					var thisPackageName = '';
					thisPackageName = _phoneGapSettings().appId ;
					var localDbFileUrl = 	{
							android: '/data/data/' + thisPackageName + '/databases/' + localDBName,
							ios: 'cdvfile://localhost/persistent/' + localDBName
							//cdvfile://localhost/persistent/sqlite/' + localDBName
						};
					if(typeof device == 'undefined') {
						alert('PhoneGap required plugin not loaded: device');
					}
					var thisDevice = device.platform;
					var fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;
					console.log('database location: ' + fileUrl);
					fnLocal = fileUrl;
				}
				*/
				if(typeof options.targetFolder != 'undefined') {
					if(targetFolder.indexOf('<SQLite>') == 0) {
						var localDBName = targetFolder.split('|')[1];
						localDBName = localDBName.split('/')[0];
						flagSQLite = true;
						var thisPackageName = '';
						thisPackageName = _phoneGapSettings().appId ;
						var localDbFileUrl = {
							// Android note: This entry was tested and works on Android 6.01, 5.5.1, 4.4.2
							android: '/data/data/' + thisPackageName + '/databases/' + localDBName,
							// iOS Note: dataDirectory will point to ..appid/Library/NoCloud
							// This is not exposed to iTunes or iCloud
							ios: cordova.file.dataDirectory + localDBName
						};
						if(typeof device == 'undefined') {
							alert('PhoneGap required plugin not loaded: device');
						}
						var thisDevice = device.platform;
						var fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;
						console.log('.phoneGapFileDownload reports fileUrl: ' + fileUrl);
						fnLocal = fileUrl;
					}
				}
				var fileFound = function() {
					var forceDownload = false;
					forceDownload = options.forceDownloadIfFileExists;
					if(typeof forceDownload == 'undefined') forceDownload = false;
					if(forceDownload) {
						fileNotFound();
						return true;
					}
					arr[i].handled = true;
					arr[i].found = true;
					arr[i].localFilename = fnLocal;
					arr[i].success = true;
					var allHandled = true;
					////
					var totalBytes = 0;
					var loaded = 0;
					var pctCompleteTotal = 0;
					var flagStartShowingProgress = true;
					var completedFiles = 0;
					var totalSize = 0;
					var _pctMethod = 'auto' //base on filesLoadedCount if array size > 10
					if(typeof options != 'undefined') {
						if(typeof options.pctMethod != 'undefined') _pctMethod = options.pctMethod
					}
					pctCompleteTotal = $u.n.round(pctCompleteTotal,1);
					for(var k = 0; k < arr.length; k++) {
						if(typeof arr[k].totalBytes != 'undefined') {
							totalBytes = totalBytes + arr[k].totalBytes;
							loaded = loaded + arr[k].bytesLoaded;
						}
						if(arr[k].handled) completedFiles++;
						pctCompleteTotal = (loaded/totalBytes) * 100;
						if(totalSize > 0) {
							pctCompleteTotal = (loaded/totalSize) * 100;
						}
						if(_pctMethod == 'auto') {
							if(arr.length >= 10) _pctMethod = 'fileCount';
						}
						if(_pctMethod == 'fileCount') {
							pctCompleteTotal = (completedFiles/ arr.length) * 100;
						}
						pctCompleteTotal = $u.n.round(pctCompleteTotal,1);
					}
					if(flagStartShowingProgress || true ) showProgress(pctCompleteTotal,arr,i,loaded,totalBytes, options.onProgressEvent,completedFiles);
					for(var k = 0; k < arr.length; k++) {
						if(!arr[k].handled) {
							allHandled = false;
							break;
						}
					}
					if(allHandled) {
						if(typeof options.onComplete == 'function') options.onComplete(arr);
						var eleTarget = options.progress.progressElement;
						if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase();
						var idProgress = eleTarget + '.PROGRESSDISPLAY';
						var ele = $(idProgress);
						if(ele) ele.style.display = 'none';
					}
				}
				var fileNotFound = function() {
					//file was not in the local filesystem so must download it.
					arr[i].found = false;
					arr[i].localFilename = fnLocal;
					var url2 = options._serverURL + arr[i].filename;
					if(arr[i].sourceType == 'url') {
						url2 = arr[i].filename;
					}
					var ft = new FileTransfer();
					ft.onprogress = function(progressEvent) {
						if (progressEvent.lengthComputable) {
							arr[i].totalBytes = progressEvent.total;
							arr[i].bytesLoaded = progressEvent.loaded;
							var totalSize = -1;
							_pctMethod = 'auto' //base on filesLoadedCount if array size > 10
							if(typeof options != 'undefined') {
								totalSize = options.totalFileSize;
								if(typeof options.pctMethod != 'undefined') _pctMethod = options.pctMethod
							}
							if(typeof totalSize == 'undefined') totalSize = -1;
							if(totalSize == -1) {
								var pctComplete = (progressEvent.loaded / progressEvent.total)*100;
							} else {
								var pctComplete = (progressEvent.loaded / totalSize)*100;
							}
							if(pctComplete > 100) pctComplete = 100;
							pctComplete = $u.n.round(pctComplete,4);
							arr[i].pctComplete = pctComplete;
							var totalBytes = 0;
							var loaded = 0;
							var pctCompleteTotal = 0;
							var flagStartShowingProgress = true;
							var completedFiles = 0;
							for(var k = 0; k < arr.length; k++) {
								if(typeof arr[k].totalBytes != 'undefined') {
									totalBytes = totalBytes + arr[k].totalBytes;
									loaded = loaded + arr[k].bytesLoaded;
									if(arr[k].handled) completedFiles++;
									pctCompleteTotal = (loaded/totalBytes) * 100;
									if(totalSize > 0) {
										pctCompleteTotal = (loaded/totalSize) * 100;
									}
									if(_pctMethod == 'auto') {
										if(arr.length >= 10) _pctMethod = 'fileCount';
									}
									if(_pctMethod == 'fileCount') {
										pctCompleteTotal = (completedFiles/ arr.length) * 100;
									}
									pctCompleteTotal = $u.n.round(pctCompleteTotal,1);
								}
							}
							if(flagStartShowingProgress || true ) showProgress(pctCompleteTotal,arr,i,loaded,totalBytes, options.onProgressEvent,completedFiles); //sr55
						} else {
							alert('length NOT computable: ' + arr[i].filename);
							//alert('progressevent: ' + JSON.stringify(progressEvent));
						}
					}
					var flagTrustAllHosts = false;
					if(typeof _dlgObj._phoneGapTrustAllHosts != 'undefined') {
						flagTrustAllHosts = _dlgObj._phoneGapTrustAllHosts;
					}
					//had a url like this: http://aapdf.s3.amazonaws.com/651 - 2015007 - HL072 - Summary P&L.PDF
					//need to urlencode the url and the fnLocal to get this
					//http://aapdf.s3.amazonaws.com/651%20-%202015007%20-%20HL072%20-%20Summary%20P%26L.PDF
					//first decode, then encode again to make sure we don't double encode
					//the fix the encoded '&' - %2526 to change to %26
					var testString1 = url2.toLowerCase();
					var testString2 = decodeURI(url2).toLowerCase();
					var search = 'X-Amz-'.toLowerCase();
					var flagDoEncode = true;
					if(testString1.indexOf(search) > -1 || testString2.indexOf(search) > -1) flagDoEncode = false;
					//if the url to download from S3 is signed then the urlencode() will break the download
					if(flagDoEncode) {
						url2 = encodeURI(decodeURI(url2));
						url2 = url2.replace(/%2526/g,'%26');
					}
					fnLocal = encodeURI(decodeURI(fnLocal));
					fnLocal = fnLocal.replace(/%2526/g,'%26');
					if(A5.log) A5.log('Inside PhoneGap file transfer url2: ' + url2);
					if(A5.log) A5.log('Inside PhoneGap file transfer fnLocal: ' + fnLocal);
					ft.download(url2, fnLocal,
							function(entry) {
								arr[i].success = true;
								arr[i].handled = true;
								arr[i].downloaded = true;
								//fileAllDone();
								var allHandled = true;
								for(var k = 0; k < arr.length; k++) {
									if(!arr[k].handled) {
										allHandled = false;
										break;
									}
								}
								_countDone++;
								if(allHandled) {
								//alert('alldone');
								showProgress(100,arr,1,-1,-1, options.onProgressEvent,arr.length); //sr55
								//alert('after all done');
									if(typeof options.onComplete == 'function') options.onComplete(arr);
									if(options.showProgress) {
										var eleTarget = options.progress.progressElement;
										if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase()
										var idProgress = eleTarget + '.PROGRESSDISPLAY';
										if($(idProgress)) $(idProgress).style.display = 'none';
									}
								}
							},
							function(err) {
								//alert('Error in file transfer: ' + fnLocal);
								//debugger;
								arr[i].success = false;
								arr[i].errorText = JSON.stringify(err);
								arr[i].handled = true;
								//fileAllDone();
								if(A5.log) A5.log('Error in .download() function: ' + arr[i].errorText);
								var allHandled = true;
								for(var k = 0; k < arr.length; k++) {
									if(!arr[k].handled) {
										allHandled = false;
										break;
									}
								}
								if(allHandled) {
									if(typeof options.onComplete == 'function') options.onComplete(arr);
									if(options.showProgress) {
										var eleTarget = options.progress.progressElement;
										if(typeof eleTarget != 'undefined') eleTarget = eleTarget.toUpperCase()
										var idProgress = eleTarget + '.PROGRESSDISPLAY';
										if($(idProgress)) $(idProgress).style.display = 'none';
									}
								}
							},
							flagTrustAllHosts
					);
					//end fetch file  ---------------------------------------
					//true/false -- trustAllHosts parameter
				}
				window.resolveLocalFileSystemURL(fnLocal, fileFound, fileNotFound);
			}
			if(A5.log) A5.log('Call phoneGapFileDownload_low');
			if(A5.log) A5.log(JSON.stringify(arr,'','\t'));
			for(var i = 0; i < arr.length; i++) {
				phoneGapFileDownload_low(arr,i,options)
			}
		}
		if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
		window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, onError );
	}
	A5.ts = function() {
		var d = new Date()
		return d.getTime().toString(36);
}
DLG1_DlgObj.phoneGapGetFileSystemURIForLegacyPersistentStorage = function(ok,fail) {
	var _ok = ok;
	var onFSSuccess = function(fs) {
		var uri = fs.root.filesystem.root.nativeURL;
		_ok(uri);
	}
	if(!DLG1_DlgObj._isPGFileLoaded(true)) return false;
	window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, onFSSuccess, fail );
}
DLG1_DlgObj._isPGFileLoaded = function(flagShowAlert) {
	var flag = true;
	if(typeof window.requestFileSystem == 'undefined') flag =  false;
	if(typeof window.resolveLocalFileSystemURL == 'undefined') flag =  false;
	if(typeof LocalFileSystem == 'undefined') flag =  false;
	if(typeof flagShowAlert != 'undefined' && flagShowAlert && !flag) {
		alert('PhoneGap File plugin is not loaded');
	}
	return flag;
}
DLG1_DlgObj.base64DataToBlob = function(dataURI) {
	//data:image/jpeg;base64,/
	// convert base64/URLEncoded data component to raw binary data held in a string
    var byteString;
    if (dataURI.split(',')[0].indexOf('base64') >= 0)
        byteString = atob(dataURI.split(',')[1]);
    else
        byteString = unescape(dataURI.split(',')[1]);
    // separate out the mime component
    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
    // write the bytes of the string to a typed array
    var ia = new Uint8Array(byteString.length);
    for (var i = 0; i < byteString.length; i++) {
        ia[i] = byteString.charCodeAt(i);
    }
    return new Blob([ia], {type:mimeString});
}
DLG1_DlgObj.SQLiteDownloadDatabase = function(SQLiteDBURL,localDBName,onComplete,onError,optionsIn) {
	if(SQLiteDBURL.indexOf('http://') == 0 || SQLiteDBURL.indexOf('https://') == 0) {
		//don't need to add the baseURL
	} else {
		var url = DLG1_DlgObj.ajaxURL;
		url = url.split('?')[0];
		url = url.split('/');
		url.pop();
		url = url.join('/') + '/';
		SQLiteDBURL =  url + SQLiteDBURL;
	}
	if(typeof onError != 'function') {
		onError = function(error) {
			alert('Database Download Failed. File transfer error: '+error);
		}
	}
	if(typeof _phoneGapSettings == 'undefined') {
		alert('PhoneGap not loaded');
		return false;
	}
	var flagSQL = _phoneGapSettings().plugins['cordova-sqlite-ext'];   //com.brodysoft.sqliteplugin
	flagSQL = true;
	if(typeof flagSQL == 'undefined') flagSQL = false;
	if(!flagSQL) {
		alert('SQLitePluginExt not loaded');
		return false;
	}
	////////////////////
	if(typeof optionsIn == 'undefined') {
		var ops = {
			showProgress : false,
			forceDownloadIfFileExists : true
			}
	} else {
		var ops = optionsIn
	}
	var arr = [];
	arr.push({filename: SQLiteDBURL});
	var options = {};
	options.targetFolder = '<SQLite>|' + localDBName;
	options.onComplete = function() {
		onComplete.call();
	}
	options.onError = function() { onError.call() };
	options.showProgress = ops.showProgress;
	options.forceDownloadIfFileExists = ops.forceDownloadIfFileExists;
	if(options.showProgress) {
		options.progress = ops.progress;
	}
	DLG1_DlgObj.phoneGapFileDownload(arr,options);
	///////////////////////////////////
	/*
	var thisPackageName = '';
	thisPackageName = _phoneGapSettings().appId ;
	//alert(thisPackageName)
	var localDbFileUrl = 	{
								android: '/data/data/' + thisPackageName + '/databases/' + localDBName,
								ios: 'cdvfile://localhost/persistent/' + localDBName
							};
	if(typeof device == 'undefined') {
		alert('PhoneGap required plugin not loaded: device');
	}
	var thisDevice = device.platform;
	var fileUrl = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;
	var fileTransfer = new FileTransfer();
	var uri = encodeURI(SQLiteDBURL);
	var options = {};
	fileTransfer.download(uri,fileUrl,onComplete,onError,false,options);
	*/
}
DLG1_DlgObj.SQLiteExecuteSQL = function(dbName,sql,argumentsIn,onSuccess,onError, onTransactionSuccess, onTransactionError) {
	var flagCustomOnError = false;
	if(typeof DLG1_DlgObj.customWindowErrorEvents != 'undefined') flagCustomOnError = DLG1_DlgObj.customWindowErrorEvents;
	//if(!flagCustomOnError) window.onerror = function(err) { alert('Unhandled Javascript Error - SQliteExecuteSQL:  ' + JSON.stringify(err));}
	var flagSQL = _phoneGapSettings().plugins['cordova-sqlite-ext'];   //com.brodysoft.sqliteplugin
		flagSQL = true;
		if(typeof flagSQL == 'undefined') flagSQL = false;
		if(!flagSQL) {
			alert('SQLitePluginExt not loaded');
			return false;
	}
	if(typeof onSuccess == 'undefined') onSuccess = false;
	if(typeof onError == 'undefined') onError = false;
	if(typeof argumentsIn == 'undefined' || argumentsIn.constructor != Array) argumentsIn = [];
	if(onSuccess.constructor != Array)  {
		if(typeof onSuccess != 'function') {
			onSuccess = function(tx,result) {
			}
		}
	}
	if(onError.constructor != Array)  {
		if(typeof onError != 'function') {
				onError = function(e) {
				}
		}
	}
	if(typeof device == 'undefined') {
			alert('PhoneGap required plugin not loaded: device');
	}
	var flagArrayOfObjects = false;
	if(sql.constructor == Array) {
		if(sql[0].constructor == Object) {
			flagArrayOfObjects = true;
		}
	}
	if(flagArrayOfObjects) {
		var a = sql;
		delete sql;
		sql = [];
		argumentsIn = [];
		onSuccess = [];
		onError = [];
		for(var i = 0; i < a.length; i++) {
			sql[i] = a[i].sql;
			if(typeof a[i].arguments != 'undefined') {
				argumentsIn[i] = a[i].arguments;
			} else {
				argumentsIn[i] = [];
			}
			if(typeof a[i].onSuccess != 'undefined') {
				onSuccess[i] = a[i].onSuccess;
			} else {
				onSuccess[i] = function() { };
			}
			if(typeof a[i].onError != 'undefined') {
				onError[i] = a[i].onError;
			} else {
				onError[i] = function() { };
			}
		}
	}
	/*
	var thisDevice = device.platform;
	//var dbFilename = thisDevice == 'Android' ? dbName:'files/' + dbName;
	var thisPackageName = '';
	thisPackageName = _phoneGapSettings().appId ;
	var localDbFileUrl = 	{
		android: '/data/data/' + thisPackageName + '/databases/' + dbName,
		ios: 'cdvfile://localhost/persistent/' + dbName
		//cdvfile://localhost/persistent/sqlite/' + localDBName
	};
	var dbFilename = thisDevice == "Android" ? localDbFileUrl.android : localDbFileUrl.ios;
	console.log('database location: ' + dbFilename);
	delete db;
	if(typeof window.sqlitePlugin == 'undefined') {
		alert('Error: PhoneGap SQLite plugin not loaded.');
	}
	var db = window.sqlitePlugin.openDatabase({name:dbFilename,location:2});
	*/
	///////////////// new code starts here/////////////
	//start here........
	var thisDevice = device.platform;
	var dbFilename = thisDevice == 'Android' ? dbName:'NoCloud/' + dbName;   //NoCloud -- no exposed to iTunes and not backed up to iCloud
	console.log('.SQLiteExecuteSQL: database location = ' + dbFilename);
	if(typeof window.sqlitePlugin == 'undefined') {
		alert('Error: PhoneGap SQLite plugin not loaded.');
	}
	var location = 'download';
	if( dbName.indexOf('root:') == 0) {
		location = 'root';
		dbName = dbName.split('root:')[1];
	}
	//this is for a db that is downloaded from the server
	if(location == 'download') {
		var db = window.sqlitePlugin.openDatabase({name:dbFilename,location:1});
	} else {
		//if the db is in the webroot (pre-populated), then use this code
		var db = window.sqlitePlugin.openDatabase({name: dbName , location: 2, createFromLocation: 1});
	}
	///// end here.....
	///////////////////new code ends here ////////////////
	db.transaction(
		function(tx) {
			//array of sql statements or array of array
			var flagArrayOfArrays = false;
			try{if(argumentsIn[0].constructor == Array) flagArrayOfArrays = true;} catch(e) {}
			if(sql.constructor == Array || flagArrayOfArrays) {
				if(sql.constructor == Array) {
					var sql_length = sql.length;
				} else {
					var sql_length = argumentsIn.length;
				}
				var i = 0;
				function _lowSQL(transObj) {
					if(sql.constructor == Array) {
						var sql_i = sql[i];
					} else {
						var sql_i = sql;
					}
					var args_i = argumentsIn[i];
					if(typeof args_i != 'undefined') {
						for(var j = 0; j < args_i.length; j++) {
							if(typeof args_i[j] == 'function') {
								var result = args_i[j].call(this,transObj);
								args_i[j] = result;
							}
						}
					}
					var success_i = function(tx2,result) {
						var resultArray = DLG1_DlgObj.SQLiteResultSetToArray(result);
						if(onSuccess.constructor == Array) {
							onSuccess[i].call(this,tx2,result,resultArray,transObj);
						} else {
							onSuccess.call(this,tx2,result,resultArray,transObj);
						}
						i++;
						if(i < sql_length) {
							_lowSQL(transObj);
						}
					}
					var error_i = function(e) {
						if(onError.constructor == Array) {
							onError[i].call(this,e);
						} else {
							onError.call(this,e);
						}
					}
					tx.executeSql(sql_i,args_i,success_i,error_i);
				}
				_lowSQL({});
			} else {
				//single sql statement
				tx.executeSql(sql,argumentsIn,function(tx,result) {
					var resultArray = DLG1_DlgObj.SQLiteResultSetToArray(result);
					onSuccess.call(this,tx,result,resultArray);
				}, function(e) {onError.call(this,e); });
			}
		},
		function(e) { /*transaction failure*/ if(typeof onTransactionError == 'function') { onTransactionError.call(this);} db.close(); },
		function() { /*transaction success*/ if(typeof onTransactionSuccess == 'function') { onTransactionSuccess.call(this);} db.close();  }
	);
}
DLG1_DlgObj.SQLiteResultSetToArray = function(result) {
	var array = [];
	if (result !=null && result.rows != null){
		for (var i = 0; i < result.rows.length; i++) {
			array.push(result.rows.item(i));
		}
	}
	return array;
}
DLG1_DlgObj.SQLiteDeleteDatabase = function(dbName,successCB,errorCB,location) {
	var flagSQL = _phoneGapSettings().plugins['cordova-sqlite-ext'];   //com.brodysoft.sqliteplugin
		flagSQL = true;
		if(typeof flagSQL == 'undefined') flagSQL = false;
		if(!flagSQL) {
			alert('SQLitePluginExt not loaded');
			return false;
	}
	/*
	if(typeof location == 'undefined') location = 2;
	*/
	///// new code /////
	if(typeof location == 'undefined') location = 1;
	///// end new code /////
	window.sqlitePlugin.deleteDatabase({name: dbName, location: location}, successCB, errorCB);
}
////////////////////////////////////////
DLG1_DlgObj.submitListDataAndMediaFiles = function(listName,xbCallbackFunction,ajaxObject,mediaFileUploadObject) {
	//first, upload media files, then upload dirty records in a list and then call xbCallbackFunction on the server side. Uploaded data will be in e._listData in the Xbasic function
	/*
	Example syntax:
	var ajaxObject = {
		errorFunction: function() { alert('failed ajax'); },
		onComplete: function() { alert('ajax done');},
		deviceOfflineFunction: function() { alert('offline ');  }
	}
	var objUpload = {
		target: 'alphaanywhere',
		showProgress: true,
		onComplete: function(array) {},
		onMediaUploadErrors: function(array) { alert('there were media upload errors');},
		xbasicAfterFileUploaded: 'xbAfterUpload',
		progress: {
			color: '#9fa1e8',
			width: '300px',
			individualProgress: false,
			showTotalProgress: true,
			allowCancel: false,
			progressElement: 'DLG1.V.R1.PLACEHOLDER_2'
		}
	}
	//to upload to s3
	target: 's3',
		s3: {
			connectionString: 'alphamediacapture',
			protectedRead: false,
			template: 'https://alphamediacapture.s3.amazonaws.com/__name__'
	},
	///////
	DLG1_DlgObj.submitListDataAndMediaFiles('list1',xbName,ajaxObject,objUpload);
	*/
	var lObj = DLG1_DlgObj.getControl(listName);
	if(!lObj) return false;
	var objAjax = {};
	if(typeof arguments[2] == 'object') objAjax = arguments[2];
	var objUpload = {};
	if(typeof arguments[3] == 'object') objUpload = arguments[3]; //this is the object that defines the upload target (s3/alphaanywhere), showProgress, etc
	var _userOnComplete = objUpload.onComplete;
	objUpload.onComplete = function(array) {
		_userOnComplete.call(this,array)
		pushRemoteMediaNamesToArray(array,_data);
	}
	var xbasicFunction = xbCallbackFunction;
	//define local functions
	var _ajaxUpload = function(data,xbasicFunction,objAjax) {
		var listData = JSON.stringify(data,'','\t');
		listData = A5.ajax.buildURLParam('_listData',listData);
		DLG1_DlgObj.ajaxCallback('','',xbasicFunction,'',listData, objAjax);
	}
	var pushRemoteMediaNamesToArray = function(mediaFiles,_data) {
		var _data2 = [];
		$u.o.assign(_data2,_data);
		//media files have been uploaded and the mediaFiles[] array has these properties of interest
		//listFieldName -- name of the field in the data array that had the media field
		//route -- an array that looks like [{table: '_top_', row: 1}]
		//remoteName -- the name of the alpha server or s3
		//succeeded
		var r = '';
		var table = '';
		var _di = '';
		var _diTop = '';
		for(var i = 0; i < mediaFiles.length; i++) {
			mediaFiles[i].routeObj = JSON.parse(mediaFiles[i].route);
			r = mediaFiles[i].routeObj[0].row
			for(var j = 0; j < mediaFiles[i].routeObj.length; j ++) {
				table = mediaFiles[i].routeObj[j].table;
				r = mediaFiles[i].routeObj[j].row
				if(table == '_top_') {
					_di = _data2[r];
					_diTop = _di;
				} else {
					_di = _di[table][r];
				}
			}
			if(typeof _di != 'undefined') {
				//need to add a check to see if the success flag is true
				if(mediaFiles[i].succeeded) {
					 _di[mediaFiles[i].listFieldName] = mediaFiles[i].remoteName;
				} else {
					_diTop.__flagHasMediaFileUploadError = true;
				}
			}
		}
		//harvest rows that are dirty and also do not have media upload errors - these rows will be pushed to the server
		var _data3 = [];
		var _mErr = [];
		var flagPush = false;
		var flagHasMediaUploadError = false;
		for(var i = 0; i < _data2.length; i++) {
			flagPush = true;
			if(typeof _data2[i].__flagHasMediaFileUploadError != 'undefined' && _data2[i].__flagHasMediaFileUploadError) {
				flagPush = false;
				flagHasMediaUploadError = true;
				_mErr.push(_data2[i]);
			}
			if(flagPush) {
				if(typeof _data2[i]._isDirty == 'undefined') {
					flagPush = false;
				} else if(_data2[i]._isDirty == false) {
					flagPush = false;
				}
			}
			if(flagPush) {
				_data3.push(_data2[i]);
			}
		}
		if(flagHasMediaUploadError) {
			if(typeof objUpload.onMediaUploadErrors == 'function') {
				objUpload.onMediaUploadErrors.call(this,_mErr);
			}
		}
		_ajaxUpload(_data3,xbasicFunction,objAjax) //do the ajax callback to upload the fixed data array
	}
	//end local functions
	var _data = lObj.harvestList();
	if(_data.length == 0) {
		return false;
	}
	var arr = lObj._harvestMediaFields();
	if(arr.length == 0) {
		//no media fields -- just make the ajax callback
		_ajaxUpload(_data,xbasicFunction,objAjax);
		return true;
	} else {
		//upload the media files -- the onComplete event will make the ajax callback
		//objUpload._dataToUpload = _data;
		_data = lObj._data;
		DLG1_DlgObj.phoneGapFileUpload(arr,objUpload);
	}
}
// File manipulation
//
// DLG1_DlgObj.phoneGapFilesAvailable()
//
// Returns true if there is a local file system and PhoneGap is running.
//
DLG1_DlgObj.phoneGapFilesAvailable = function() {
   if(typeof LocalFileSystem == 'undefined') {
      if(typeof cordova == 'undefined') {
         return false;
      }
      return false;
   }
   return true;
}
//
// DLG1_DlgObj.phoneGapGetLocalDirURL(type)
//
// type: "temp", "private", "saved", "public"
// On iOS, saved and public may be backed up to iCloud
//
// Returns URL of base for the requested part of the file system.
//
DLG1_DlgObj.phoneGapGetLocalDirURL = function(type) {
   var dir = "";
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) return dir;
   if (type.toLowerCase().indexOf('explicit:') == 0) {
   		var dir = type.substring('explicit:'.length)
   		return dir;
   }
   if (device.platform == 'iOS') {
      switch (type) {
         case "temp":
            dir = cordova.file.tempDirectory;
            break;
         case "private":
            dir = cordova.file.dataDirectory;
            break;
         case "saved":
            dir = cordova.file.syncedDataDirectory;
            break;
         case "public":
            dir = cordova.file.documentsDirectory;
            break;
         case "persistent": //original file system actions
          	dir = cordova.file.dataDirectory.replace('NoCloud','files');
          	break;
      }
   }
   else {
      switch (type) {
         case "temp":
            dir = cordova.file.externalCacheDirectory || cordova.file.cacheDirectory;
            break;
         case "private":
            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;
            break;
         case "saved":
            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;
            break;
         case "public":
            dir = cordova.file.externalDataDirectory || cordova.file.dataDirectory;
            break;
         case "persistent":
          	dir = 'file:///data/user/0/'+_phoneGapSettings().appId+'/files/files/';
          	break;
      }
   }
   return dir;
}
//
// DLG1_DlgObj.phoneGapReadFileURL(filepath, onReadSuccess, onError, startAt, endAt)
//
// filepath is the local file URL of the desired file.
// If startAt and endAt are present, returns just those positions in the file.
//
// onReadSuccess(result) returns the contents read.
//
DLG1_DlgObj.phoneGapReadFileURL = function(filepath, onReadSuccess, onError, startAt, endAt) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = filepath.lastIndexOf("/");
   var dirpath = filepath.substring(0,pos);
   var filename = filepath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               var doReadFunction =
                  function(file) {
                     var reader = new FileReader();
                     reader.onloadend =
                        function(e) {
                           onReadSuccess(this.result);
                        };
                     if (typeof startAt=='undefined' || typeof endAt=='undefined') {
                        reader.readAsText(file);
                     }
                     else {
                        var blob = file.slice(startAt, endAt);
                        reader.readAsText(blob);
                     }
                  };
               fileEntry.file(doReadFunction);
            };
         fsEntry.getFile(filename, {}, onGotFile, onError);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapWriteFileURL(filepath, text, onWriteSuccess, onError, append)
//
// filepath is the local file URL of the desired file. The directory must
// exist, but the file need not.
// If append is true, appends to current contents.
// Truncates (if file existed) to end of what is written.
//
DLG1_DlgObj.phoneGapWriteFileURL = function(filepath, text, onWriteSuccess, onError, append) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = filepath.lastIndexOf("/");
   var dirpath = filepath.substring(0,pos);
   var filename = filepath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               var writerFunction =
                  function(fileWriter) {
                     fileWriter.onwriteend =
                        function(e) {
                           onWriteSuccess();
                        };
                     fileWriter.onerror = onError;
                     if (append) {
                        fileWriter.seek(fileWriter.length);
                     }
                     var blob = new Blob([text], {type:'text/plain'});
                     fileWriter.write(blob);
                  };
               fileEntry.createWriter(writerFunction, onError);
            };
         fsEntry.getFile(filename, {create: true}, onGotFile, onError);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapFileExistsURLfilepath, onResult, onError)
//
// filepath is the local file URL of the desired file.
// onResult(properties) will be called with false if file does not exist.
// If file does exist, properties will be:
//
//    {
//       name:file's name,
//       lastModifiedDate:lastModifiedDate object,
//       size:size in bytes,
//       type:MIME type if known(not on iOS now, but yes on Android)
//    }
//
DLG1_DlgObj.phoneGapFileExistsURL = function(filepath, onResult, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = filepath.lastIndexOf("/");
   var dirpath = filepath.substring(0,pos);
   var filename = filepath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               fileEntry.file(function(fileObj) {
                  onResult({name:fileObj.name, lastModifiedDate:fileObj.lastModifiedDate,
                     size:fileObj.size, type:fileObj.type});
                  },
                  onError);
            };
         var onDidNotGetFile =
            function() {
               onResult(false);
            };
         fsEntry.getFile(filename, {create: false}, onGotFile, onDidNotGetFile);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapDeleteFileURL(filepath, onDeleteSuccess, onError)
//
// filepath is the local file URL of the file to be deleted.
//
DLG1_DlgObj.phoneGapDeleteFileURL = function(filepath, onDeleteSuccess, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = filepath.lastIndexOf("/");
   var dirpath = filepath.substring(0,pos);
   var filename = filepath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               fileEntry.remove(onDeleteSuccess, onError);
            };
         fsEntry.getFile(filename, {create: false}, onGotFile, onError);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapCopyFileURL(srcpath, destdirpath, destname, onCopySuccess, onError)
//
// srcpath is the local file URL of the file to be copied.
// destdirpath is the URL of the directory into which to copy the file.
// destname is the name to be given to the copied file. If null, the source filename will be used.
//
DLG1_DlgObj.phoneGapCopyFileURL = function(srcpath, destdirpath, destname, onCopySuccess, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = srcpath.lastIndexOf("/");
   var dirpath = srcpath.substring(0,pos);
   var filename = srcpath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               window.resolveLocalFileSystemURL(destdirpath,
                  function(destDirEntry) {
                     fileEntry.copyTo(destDirEntry, destname, onCopySuccess, onError);
                  },
                  onError);
            };
         fsEntry.getFile(filename, {}, onGotFile, onError);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapMoveFileURL(srcpath, destdirpath, destname, onMoveSuccess, onError)
//
// srcpath is the local file URL of the file to be moved.
// destdirpath is the URL of the directory into which to move the file, replacing any existing file with the name.
// destname is the name to be given to the copied file. If null, the source filename will be used.
// If moved into the same directory, the file will be renamed.
// A move of a directory on top of an existing empty directory replaces that directory.
//
DLG1_DlgObj.phoneGapMoveFileURL = function(srcpath, destdirpath, destname, onMoveSuccess, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var pos = srcpath.lastIndexOf("/");
   var dirpath = srcpath.substring(0,pos);
   var filename = srcpath.slice(pos+1);
   var onResolvedURL =
      function(fsEntry) {
         var onGotFile =
            function(fileEntry) {
               window.resolveLocalFileSystemURL(destdirpath,
                  function(destDirEntry) {
                     fileEntry.moveTo(destDirEntry, destname, onMoveSuccess, onError);
                  },
                  onError);
            };
         fsEntry.getFile(filename, {}, onGotFile, onError); //does not work on moving directories
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapRemoveDirectoryRecurseURL(dirpath, onRemoveSuccess, onError)
//
// dirpath is the file URL of the directory to be deleted.
// Deletes the specified directory and all of its contents, including other directories and
// their contents.
//
DLG1_DlgObj.phoneGapRemoveDirectoryRecurseURL = function(dirpath, onRemoveSuccess, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var onResolvedURL =
      function(dirEntry) {
         dirEntry.removeRecursively(onRemoveSuccess, onError);
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapEnsureDirPathURL(rootpath, subdirpath, onCompletion, onError)
//
// rootpath is the file URL of the existing directory that will contain the directories that are needed.
// subdirpath is a path of directories to ensure exist below rootpath. They will be created
// if they don't exist.
//
// For example, if rootpath is "file://root/public/", subdirpath may be "toplevel/subdir1".
//
DLG1_DlgObj.phoneGapEnsureDirPathURL = function(rootpath, subdirpath, onCompletion, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var dirs = subdirpath.split('/') || [];
   var onResolvedURL =
      function(fsEntry) {
         var ensureDirFunction =
            function(dirEntry) { // function to recurse
               if (dirs.length>0) {
                  if (dirs[0]=='.' || dirs[0]=='') {
                     dirs = dirs.slice(1); // remove null dir
                  }
               }
               if (dirs.length==0) {
                  onCompletion();
                  return;
               }
               dirEntry.getDirectory(dirs[0], {create: true},
                  function(subdirEntry) {
                     dirs = dirs.slice(1); // do next
                     ensureDirFunction(subdirEntry);
                  },
                  onError);
               };
         ensureDirFunction(fsEntry); // do first
      };
   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapListFilesRecurseURL(rootpath, onCompletion, onError)
//
// rootpath is the file URL of the directory whose contents will be listed.
// onCompletion(filelist) will contain an array of strings representing each file
// and directory down the hierarchy. Directories end in "/".
//
DLG1_DlgObj.phoneGapListFilesRecurseURL = function(rootpath, onCompletion, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var filelist = [];
   var pathprefix = "";
   var pending = 0;
   var onResolvedURL =
      function(fsEntry) {
         var processDirFunction =
            function(subdirpath, listingObj) {
               var files = listingObj.files;
               var i;
               var fpath;
               var prefix = subdirpath.slice(pathprefix.length);
               for (i=0; i<files.length; i++) {
                  fpath = prefix+files[i];
                  filelist.push(fpath);
               }
               var dirs = listingObj.dirs;
               if (dirs.length==0) {
                  if (pending==0) {
                     onCompletion(filelist);
                  }
                  return;
               }
               for (i=0; i<dirs.length; i++) {
                  fpath = dirs[i].fullPath.slice(pathprefix.length);
                  filelist.push(fpath);
                  pending++;
                  dirs[i].filesystem.root.getDirectory(dirs[i].fullPath, {create: false},
                     function(dirEntry) {
                        listDirFunction(dirEntry);
                     },
                     function(e){pending--;onError(e);});
               }
            };
         var listDirFunction =
            function(dirEntry) { // function to recurse on subdirs
               var dirReader = dirEntry.createReader();
               var listingObj = {files:[], dirs:[]};
               var readDirEntries = function() {
                  dirReader.readEntries( // start an async reading of entries
                     function(entries) { // more entries read, or done
                        if (!entries || entries.length==0) {
                           pending--;
                           processDirFunction(dirEntry.fullPath, listingObj);
                           return;
                        }
                        var entry;
                        for (var i=0; i<entries.length; i++) {
                           entry = entries[i];
                           if (entry.isFile) {
                              listingObj.files.push(entry.name);
                           }
                           else {
                              listingObj.dirs.push(entry);
                           }
                        }
                        readDirEntries(); // recurse to call dirReader.readEntries again
                     },
                     onError);
                  };
               readDirEntries(); // do first reading of entries
            };
         pending++;
         pathprefix = fsEntry.fullPath; // get prefix
         listDirFunction(fsEntry); // do first list getting
      };
   window.resolveLocalFileSystemURL(rootpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapListFilesURL(dirpath, matchRegex, onCompletion, onError)
//
// dirpath is the file URL of the directory whose contents will be listed (only files).
// matchRegex, if non-null, will need to match file names found for them to be listed.
// onCompletion(filelist) will contain an array of strings representing each file.
//
DLG1_DlgObj.phoneGapListFilesURL = function(dirpath, matchRegex, onCompletion, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var onResolvedURL =
      function(fsEntry) {
         var filelist = [];
         var dirReader = fsEntry.createReader();
         var readEntriesFunction =
            function() { // function to recurse to call repeatedly after each completion until no result
               dirReader.readEntries( // start an async reading of entries
                  function(entries) { // more entries read, or done
                     if (!entries || entries.length==0) {
                        onCompletion(filelist);
                        return;
                     }
                     var name;
                     for (var i=0; i<entries.length; i++) {
                        name = entries[i].name;
                        if (!matchRegex || name.match(matchRegex)) {
                           filelist.push(name);
                        }
                     }
                     readEntriesFunction(); // recurse to call dirReader.readEntries again
                  },
                  onError);
               };
         readEntriesFunction(); // do first reading
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
//
// DLG1_DlgObj.phoneGapDeleteFilesNotInListURL(dirpath, matchRegex, keepList, onCompletion, onError)
//
// dirpath is the file URL of the directory whose contents will be examined (only files).
// matchRegex, if non-null, will need to match file names found for them to be considered for deletion.
// Any file name which is in the array keepList will not be considered even if it matches.
// All remaining files found (those matched and not in keepList) will be deleted.
//
DLG1_DlgObj.phoneGapDeleteFilesNotInListURL = function(dirpath, matchRegex, keepList, onCompletion, onError) {
   if (!DLG1_DlgObj.phoneGapFilesAvailable()) {
      onError();
      return;
   }
   var keepnames = {}; // fill object with all the names as attributes
   for (var j=0; j<keepList.length; j++) {
      keepnames[keepList[j]] = true;
   }
   var filelist = []; // list of files to delete
   var totalDeleted = 0;
   var deleteFromFileList = function() { // called repeatedly by itself on successes until all deleted
      if (filelist.length==0) { // no more to delete
         onCompletion(totalDeleted);
         return;
      }
      var todelete = filelist.pop(); // pop one from list and delete it, leaving list shorter
      totalDeleted += 1;
      todelete.remove(deleteFromFileList, onError);
   };
   var onResolvedURL =
      function(fsEntry) {
         var dirReader = fsEntry.createReader();
         var readEntriesFunction =
            function() { // function to recurse to call repeatedly after each completion until no result
               dirReader.readEntries( // start an async reading of entries
                  function(entries) { // more entries read, or done
                     if (!entries || entries.length==0) {
                        deleteFromFileList(); // got all - now start deleting them
                        return;
                     }
                     var name;
                     for (var i=0; i<entries.length; i++) {
                        name = entries[i].name;
                        if (!matchRegex || name.match(matchRegex)) { // must match regex
                           if (!keepnames[name]) { // and not be on keep list
                              filelist.push(entries[i]); // add one to delete to list
                           }
                        }
                     }
                     readEntriesFunction(); // recurse to call dirReader.readEntries again
                  },
                  onError);
               };
         readEntriesFunction(); // do first reading
      };
   window.resolveLocalFileSystemURL(dirpath, onResolvedURL, onError);
}
DLG1_DlgObj.phoneGapGetVideoFromLibrary = function(ops) {
	if(typeof ops.onBeforeCaptureJavascript != 'undefined') {
		if(ops.onBeforeCaptureJavascript.constructor == Function) {
			var result = ops.onBeforeCaptureJavascript.call();
			if(typeof result !='undefined' && !result) return false;
		}
	}
	var _options = ops
	var getVideoWithPromises = function() {
		return new Promise(function (returnResolve, returnReject) {
		// here are all the callbacks as promises
		new Promise(function (resolve, reject) {
			// call camera | photo library | videos only
			var options = {
				destinationType: Camera.DestinationType.FILE_URI,
				sourceType: Camera.PictureSourceType.PHOTOLIBRARY,
				mediaType: Camera.MediaType.VIDEO
			};
			navigator.camera.getPicture(resolve, reject, options);
		}).then(function(filePath) {
			console.log('First promise returned filepath: '+filePath);
			//Android does not return prefix so append
			var prefix = 'file://'
			filePath=filePath.includes(prefix)?filePath:prefix+filePath;
			return new Promise(function(resolve, reject) {
					window.resolveLocalFileSystemURL(filePath, resolve, reject);
			});
		}).then(function (videoFileEntry) {
			console.log('Second promise returned videoFileEntry: '+videoFileEntry);
			returnResolve(videoFileEntry)
		});
	});
}
	var getVideo = function() {
		getVideoWithPromises().then(function (videoFileName) {
			console.log('Final promise completed.');
			var vUrl = videoFileName.toURL();
			DLG1_DlgObj._thisVideo = [vUrl];
			DLG1_DlgObj.setValue('vp',vUrl);
			console.log('Local Video File: '+vUrl);
			var e2 = {};
			e2.fileSystemURL = vUrl;
			_options.onCaptureJavascript.call(this,e2);
		}, function(err) {
			console.log('Error: ' + err);
			alert('Error: ' + err);
		});
	};
	getVideo();
}
DLG1_DlgObj.phoneGapOpenFileWithNativeViewer = function(objIn,_onSuccess,_onError) {
	var _ts = function(txt) { //add trailing slash
 		if(txt[txt.length-1] == '/') return txt;
		return txt + '/';
	}
	if(typeof objIn.targetFolder == 'undefined') objIn.targetFolder = '';
	objIn.targetFolder = _ts(objIn.targetFolder);
	objIn.sourceFolder = _ts(objIn.sourceFolder);
	objIn.flagMustDownload = typeof objIn.flagMustDownload != 'undefined' ? objIn.flagMustDownload: false;
	//set up obj variables from the passed in object (objIn);
	var obj = {};
	obj.__tempFolderDirName = '__AATEMPFILES/';
	if(objIn.flagMustDownload == false) { //local file
		obj.__fileName = objIn.sourceFileName;
	} else {//remote file
		var __url = objIn.sourceFileName;
		obj.__url = __url;
		var __forceDownloadIfFileExists = true;
		var __showProgress = objIn.options.showProgress;
		var __downloadOptions = objIn.options;
		//alert('__url: ' + __url);
		obj.__fileName = A5.parseFilename(objIn.sourceFileName).name; ''  //get the short filename from the URL
	}
	obj.__sourceFileSystemPart = objIn.sourceFileSystem;
	obj.__sourceFolder = objIn.sourceFolder;
	obj.flagMustDownload = objIn.flagMustDownload
	obj.options = objIn;
	//end set up obj variables
	DLG1_DlgObj._phoneGapOpenNativeLow(obj,_onSuccess,_onError)
}
DLG1_DlgObj._phoneGapOpenNativeLow = function(obj,_onSuccess,_onError) {
	try {
		var _open = cordova.plugins.disusered.open;
	} catch(e) {
		alert("'cordova-open' plugin not loaded.");
		return false;
	}
	if(obj.__fileName.indexOf('http:') == -1 && obj.__fileName.indexOf('http2:') == -1) {
		var o = A5.parseFilename(obj.__fileName);
		obj.__fileName = o.name;
		if(o.path != '') {
			obj.__sourceFolder = obj.__sourceFolder + o.path + '/';
		}
	}
	var __targetFileName = obj.options.targetFileName;
	var __tempFolderDirName = obj.__tempFolderDirName; //temp dir where files are copied so that they can be opened
	var __fileName = obj.__fileName;
	var __srcFileName = __fileName;
	if(typeof __targetFileName != 'undefined') {
		__fileName = __targetFileName;
	} else {
		__targetFileName = '';
	}
	var __sourceFileSystemPart = obj.__sourceFileSystemPart; //dir part where local file exists were where remote file will be downloaded
	var __sourceFolder = obj.__sourceFolder; //dir folder where local file exists or where remote file will be downloaded
	var __url = obj.__url;  //if file is remote, the remote url for the file
	//obj.flagMustDownload - true/false indicates if file is local or remote
	//clear out the temp folder by deleting it/////////////////////////////////////
	var _deleteTemp = function(cb) {
		var _onRemoveSuccess = function() {
			if(A5.log) A5.log('Temp dir was removed.');
			cb.next();
		};
		var _error = function(e) {
			if(A5.log) A5.log('Temp dir was not removed. Not critical, so continue.');
			cb.next();
		};
		var _baseURI = DLG1_DlgObj.phoneGapGetLocalDirURL('temp');;
		var _dirName = __tempFolderDirName;;
		var _dirPath = _baseURI + _dirName;
		DLG1_DlgObj.phoneGapRemoveDirectoryRecurseURL(_dirPath, _onRemoveSuccess, _error);
	}
	//recreate the temp folder////////////////////////////////////////////////////
	var _createTemp = function(cb) {
		var _onSuccess = function() {
			if(A5.log) A5.log('Temp dir was created');
			cb.next();
		};
		var _error = function(e) {
			if(A5.log) A5.log('Temp dir was not created. Critical error, so stop.');
			_onError(e);
			cb.stop();
		};
		var _baseURI = DLG1_DlgObj.phoneGapGetLocalDirURL('temp');;
		var _dirStructure = __tempFolderDirName;;
		DLG1_DlgObj.phoneGapEnsureDirPathURL(_baseURI, _dirStructure, _onSuccess, _error);
	}
	//copy the source file to the temp folder ////////////////////////////////////////////
	var _copyToTemp = function(cb) {
		var _onCopySuccess = function() {
			if(A5.log) A5.log('File was copied');
			cb.next()
		};
		var _error = function(e) {
			if(A5.log) A5.log('File was not copied. Critical error, so stop.');
			_onError(e);
			cb.stop();
		};
		var _srcPath = DLG1_DlgObj.phoneGapGetLocalDirURL(__sourceFileSystemPart) + __sourceFolder +  __srcFileName;
		var _destinationDirPath = DLG1_DlgObj.phoneGapGetLocalDirURL('temp');;
		var _destinationName = __tempFolderDirName + __fileName;
		if(A5.log) A5.log('Copy file - source: ' + _srcPath)
		if(A5.log) A5.log('Copy file - target: ' + _destinationDirPath + _destinationName);
		if(_srcPath == _destinationDirPath + _destinationName) {
		 	cb.next();
		 } else {
			DLG1_DlgObj.phoneGapCopyFileURL(_srcPath, _destinationDirPath, _destinationName, _onCopySuccess, _error);
		}
	}
	//open the file with the native viewer ////////////////////////////////////////
	var _openFile = function(cb) {
		var _open = cordova.plugins.disusered.open;
		var _filename = DLG1_DlgObj.phoneGapGetLocalDirURL('temp') + __tempFolderDirName + __fileName;
		if(A5.log) A5.log('File to show: ' +_filename);
		_open(_filename,_onSuccess,_onError);
	}
	var _actions = [];
	if(obj.__sourceFileSystemPart != 'temp') {
		_actions.push(_deleteTemp);
		_actions.push(_createTemp);
	}
	_actions.push(_copyToTemp);
	_actions.push(_openFile);
	var forEach = function(actions,andThen,ifError) {
	    var index = 0;
	    var stop = function(err) {
	    	if(ifError) {
	    		ifError(err);
	    	}
	    }
	    var  next = function() {
	        if( index < actions.length ) {
	            var action = actions[index];
	            ++index;
	            action({next:next,stop:stop});
	        } else if(andThen) {
	        	andThen();
	        }
	    };
	    next();
	};
	var _allDone = function() { }
	var _fatal = function() { }
	if(obj.flagMustDownload) { //file download
		var fileToGet = __url;
		var arr = [{filename: fileToGet}];
		var opsIn = obj.options;
		var options = {
			directory: '',
			targetFolder: opsIn.sourceFolder,
			forceDownloadIfFileExists: opsIn.options.forceDownloadIfFileExists,
			showProgress: opsIn.options.showProgress,
			onComplete: function(array) {
				if(A5.log) A5.log('File download complete');
				var msg = JSON.stringify(array,'','\t');
				if(A5.log) A5.log(msg);
				/*
				var _a2 = []
				var _a = [];
				for(var i = 0; i < array.length; i++) {
					_a.push({filename: array[i].localFilename, found: array[i].found, downloaded: array[i].downloaded});
					_a2.push(array[i].localFilename);
				}
				var l = DLG1_DlgObj.getControl('list2');
				l.populate(_a);
				$('div4').innerHTML = 'actual download filename: ' + _a2.join('<br>');
				*/
			if(__targetFileName == '' && (__sourceFileSystemPart == 'temp' || __sourceFileSystemPart == 'public')) {
				if(A5.log) A5.log('Open file in place. No need to copy to a temporary folder');
				var _open = cordova.plugins.disusered.open;
				var _filename = DLG1_DlgObj.phoneGapGetLocalDirURL(__sourceFileSystemPart) + __sourceFolder + __fileName;
				_open(_filename,_onSuccess,_onError);
				return false;
			}
				forEach(_actions,_allDone,_fatal)
			},
			onError: function(array,arrayIndex) { alert('Download error'); _onError();},
			onDeviceOffline: obj.options.options.onDeviceOffline,
			progress: opsIn.options.progress,
			strip: true
		}
		delete options.targetFolder;
		options.filesystem =  opsIn.sourceFileSystem;
		options.directory = opsIn.sourceFolder;
		if(A5.log) A5.log('About to do file download')
		if(A5.log) A5.log(JSON.stringify(arr,'','\t'));
		if(A5.log) A5.log(JSON.stringify(options,'','\t'));
		DLG1_DlgObj.phoneGapFileDownload(arr,options);
		//end file download
	} else {
		//local file
		if(__targetFileName == '' && (__sourceFileSystemPart == 'temp' || __sourceFileSystemPart == 'public')) {
			if(A5.log) A5.log('Open file in place. No need to copy to temporary folder.');
			var _open = cordova.plugins.disusered.open;
			var _filename = DLG1_DlgObj.phoneGapGetLocalDirURL(__sourceFileSystemPart) + __sourceFolder + __fileName;
			_open(_filename,_onSuccess,_onError);
			return false;
		}
		forEach(_actions,_allDone,_fatal);
	}
}
DLG1_DlgObj._functions._toggleCanvas = function(signatureId) { 
	var visiblePane = typeof arguments[1] != 'undefined' ? arguments[1] : '';
	var eleCanvas = $('DLG1.V.R1.' + signatureId + '.CANVASDIV');
	var img = $('DLG1.V.R1.' + signatureId +  '.IMAGEDIV');
	var surface = visiblePane;
	if(visiblePane == '') {
		if(eleCanvas.style.display == '') { 
			eleCanvas.style.display = 'none';
			img.style.display = '';
			surface = 'image';
		} else { 
			eleCanvas.style.display = '';
			img.style.display = 'none';
			surface = 'canvas';
		}
	} else if(visiblePane.toLowerCase() == 'canvas') {
		eleCanvas.style.display = '';
		img.style.display = 'none';
	} else if(visiblePane.toLowerCase() == 'image') {
		eleCanvas.style.display = 'none';
		img.style.display = '';
	}
	DLG1_DlgObj._executeEvent('onSignatureCaptureToggle',{ surface: surface, id: signatureId })
}
DLG1_DlgObj._functions._saveCanvas = function(signatureId) { 
	var cEle = $('DLG1.V.R1.' + signatureId + '.CANVAS');
	var _v = {};
	_v.compressionFactor = 1.0;
	var _imageFieldName = 'DLG1.V.R1.' + signatureId
	var sigImage = cEle.toDataURL('image/png',_v.compressionFactor);
	_thisImage = $(_imageFieldName);
	_thisImage.src = sigImage;
	//set the hidden field
	var _imageHiddenFieldName = 'DLG1.V.R1.' + signatureId + '_HIDDENA5FN';
	var ele = $(_imageHiddenFieldName);
	$svs(ele,sigImage);
	$sa(ele,'a5isdirty','true');
	DLG1_DlgObj.persistVariablesToLocalStorage();
	DLG1_DlgObj._isDataDirty = true;
	DLG1_DlgObj._setRowState(1,true);
	DLG1_DlgObj._executeEvent('onSignatureCaptureAccept',{  id: signatureId })
}
DLG1_DlgObj._functions._clearCanvas = function(canvasId) { 
	var cEle = $('DLG1.V.R1.' + canvasId + '.CANVAS');
	//cEle.getContext('2d').clearRect(0,0,cEle.width,cEle.height);
	cEle.width = cEle.width;
}
DLG1_DlgObj._functions._fillCanvas = function(canvasId) { 
	var cEle = $('DLG1.V.R1.' + canvasId + '.CANVAS');
	//cEle.getContext('2d').fillRect(0,0,cEle.width,cEle.height);
	cEle.width = cEle.width;
}
DLG1_DlgObj._functions._canvasSetup = function(canvasId,obj) { 
	var cEle = $('DLG1.V.R1.' + canvasId + '.CANVAS');
	//Canvas options
	var _canvasBackgroundColor = obj.backgroundColor;
	var _canvasStrokeColor = obj.strokeColor;
	var _canvasLineWidth = obj.lineWidth;
	cEle.width = cEle.parentNode.offsetWidth;
	var ctx = cEle.getContext('2d');
	// set canvas background color
	//ctx.fillStyle = _canvasBackgroundColor;
	//ctx.fillRect(0,0,cEle.width,cEle.height);
	A5.u.drag.add(cEle,'custom',{
	    axis: 'both',
	    cCtx: cEle.getContext('2d'),
	    onStart: function(d,c,e){
	    	//alert('drag start');
	    	// set stroke color	
	        c.cCtx.strokeStyle = _canvasStrokeColor;
	        // set stroke line width
	        c.cCtx.lineWidth = _canvasLineWidth;
	       	var vp = AUI.u.getVPScroll();
	        c.oX = $gpl(this) - vp.x ;
	        c.oY = $gpt(this) - vp.y;
	        //alert(c.oX + ' --- ' + c.oY);
			// If the canvas element is contained within a panel card,
			// panel card scroll logic handles canvas scroll offset.        
	        c.lastX = d.x - c.oX;
	        c.lastY = d.y - c.oY;
	    },
	    onMove: function(d,c,e){
	        c.cCtx.beginPath();
	        c.cCtx.moveTo(c.lastX,c.lastY);
	        c.lastX = d.x - c.oX;
	        c.lastY = d.y - c.oY;
	        c.cCtx.lineTo(c.lastX,c.lastY);
	        c.cCtx.stroke();
	        e.preventDefault();
	        return false;
	    }
	});
}
DLG1_DlgObj._functions._canvasSetup('AGENTSIGNATURE',{backgroundColor: '#e3e3e3',strokeColor: '#000',lineWidth: '1'});
DLG1_DlgObj._buttons['__SIGCAPTURE__SIGN_AGENTSIGNATURE'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100px;',
	html: 'Sign',
	onClick: function() {DLG1_DlgObj._functions._toggleCanvas('AGENTSIGNATURE','canvas'); 
DLG1_DlgObj._functions._canvasSetup('AGENTSIGNATURE',{backgroundColor: '#e3e3e3',strokeColor: '#000',lineWidth: '1'});
DLG1_DlgObj._functions._clearCanvas('AGENTSIGNATURE');
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['__SIGCAPTURE__SIGN_AGENTSIGNATURE'].bind('DLG1._SIGCAPTUREBUTTON.SIGN_AGENTSIGNATURE');
DLG1_DlgObj._buttons['__SIGCAPTURE__CANCEL_AGENTSIGNATURE'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100px;',
	html: 'Cancel',
	onClick: function() {DLG1_DlgObj._functions._toggleCanvas('AGENTSIGNATURE','image');
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['__SIGCAPTURE__CANCEL_AGENTSIGNATURE'].bind('DLG1._SIGCAPTUREBUTTON.CANCEL_AGENTSIGNATURE');
DLG1_DlgObj._buttons['__SIGCAPTURE__CLEAR_AGENTSIGNATURE'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100px;',
	html: 'Clear',
	onClick: function() {DLG1_DlgObj._functions._clearCanvas('AGENTSIGNATURE');
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['__SIGCAPTURE__CLEAR_AGENTSIGNATURE'].bind('DLG1._SIGCAPTUREBUTTON.CLEAR_AGENTSIGNATURE');
DLG1_DlgObj._buttons['__SIGCAPTURE__ACCEPT_AGENTSIGNATURE'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; width: 100px;',
	html: 'Accept',
	onClick: function() {DLG1_DlgObj._functions._saveCanvas('AGENTSIGNATURE'); 
DLG1_DlgObj._functions._toggleCanvas('AGENTSIGNATURE','image');
},
	theme: 'Alpha'
});
DLG1_DlgObj._buttons['__SIGCAPTURE__ACCEPT_AGENTSIGNATURE'].bind('DLG1._SIGCAPTUREBUTTON.ACCEPT_AGENTSIGNATURE');;
DLG1_DlgObj._signatureControls = ['AGENTSIGNATURE'];DLG1_DlgObj._sigControlDimensions = {
	'AGENTSIGNATURE' : {height: '200px',width: '400px'}
};
DLG1_DlgObj._layoutMode = 'containerwidth';
DLG1_DlgObj._responsiveRulesMode = 'firsttrue';
DLG1_DlgObj.__controlNesting = {
CONTAINER_1: [],
CONTAINER_2: [],
PANELHEADER_4: [],
CONTAINER_3: ['BUSCAT'],
CONTAINER_5: ['SEARCH_BusinessName','SEARCH_city','SEARCH_state','SEARCH_AuthorizedAgent','SEARCH_Status'],
PANELHEADER_5: [],
CONTAINER_4: ['companyid','CategoryID','BusinessName','OpMan','userid','telephone','address','city','state','zip','AuthorizedAgent','AgentSignature','AgentTitle','Gendate','GStatus'],
CONTAINER_8: [],
CONTAINER_6: ['Fname','LName','city1','state1','zip1','regstatus','busibessname2'],
PANELHEADER_6: [],
CONTAINER_7: ['SEARCH_Fname1','SEARCH_LName1','SEARCH_city2','SEARCH_state2','SEARCH_zip2','SEARCH_regstatus1'],
FRAME_2: [],
PANELHEADER_2: [],
EDITORSET_4: ['container:EDITOR_3','container:EDITOR_4','container:EDITOR_BUSCATEGORY','container:EDITOR_DATE','container:EDITOR_SIGNATURE','container:EDITOR_STATUS','container:EDITOR_7','container:EDITOR_AN','container:EDITOR_NUM'],
EDITOR_3: ['EDITOR_3_ADDRESS','EDITOR_3_CITY','EDITOR_3_STATE','EDITOR_3_ZIP'],
EDITOR_4: ['EDITOR_4_TXTBOX'],
EDITOR_BUSCATEGORY: ['EDITOR_BUSCATEGORY_TXTBOX'],
EDITOR_DATE: ['container:EDITOR_DATE_SPINLISTGROUP'],
EDITOR_DATE_SPINLISTGROUP: ['EDITOR_DATE_S_MONTH','EDITOR_DATE_S_DAY','EDITOR_DATE_S_YEAR'],
EDITOR_SIGNATURE: ['EDITOR_SIGNATURE_SIGNATUREINK'],
EDITOR_STATUS: ['EDITOR_STATUS_TXTBOX'],
EDITOR_7: ['EDITOR_7_TXTBOX'],
EDITOR_AN: ['EDITOR_AN_KEYPAD'],
EDITOR_NUM: ['EDITOR_NUM_KEYPAD']
}
DLG1_DlgObj._listsDV = ['GENERATORSLIST','GENADMINLIST'];
//Add methods to the List prototype for Lists with Detail Views
$u.o.assign(A5.ListBox.prototype,
{
	_pullSyncStart: function() { 
}
,
	_pullSyncEnd: function() { 
	if(this._beforePersistToStorage) this._beforePersistToStorage({mode:'incrementalRefresh', data: data});
	if(this.persistToStorage) this.persistToStorage({mode:'incrementalRefresh', data: data});  
}
,
	_getTopParentListObject: function() {
	var topParent = this.allParentLists[this.allParentLists.length -1];
	if(typeof topParent == 'undefined') {
		return this;
	} else { 
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
		return lObj;
	}
} 
,
	_controlDefaultValueForListField: function(fieldName) { 
	var controlName = this._getUXDetailViewControlName(fieldName);
	if(controlName == '') return '';
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
 	return _dlgObj.defaultValues[controlName.toUpperCase()];
}
,
	_updateRowAfterSync: function(pk,data) { 
	this.updateRow(pk,data);
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	if(_mode == 'edits') { 
		_dlgObj._saveSyncedEdits(lObjP.listVariableName,pk,data);
	}
}
,
	_updateNewRow: function(rowNum,data) { 
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	var _currRow = this.selection[0];
	this.updateRow(rowNum,data);
	if(typeof _currRow != 'undefined') this.setValue(_currRow,false);
	if(_mode == 'edits') { 
		_dlgObj._appendNewRowToSyncedEdits(lObjP.listVariableName,data);
	}
}
,
	_updateExistingRow: function(rowNum,data) { 
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	this.updateRow(rowNum,data);
	if(_mode == 'edits') { 
		_dlgObj._updateDataInSyncedEdits(lObjP.listVariableName,rowNum,data);
	}
}
,
	_removeRowsPullSync: function(array) { 
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	if(_mode == 'edits') { 
		_dlgObj._updateDeletesInSyncedDeletes(lObjP.listVariableName,array);
	}
	this.removeRows(array);
}
,
	_appendNewRow2: function(data) { 
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	this.appendRows(data);
	if(_mode == 'edits') { 
		_dlgObj._appendNewRowToSyncedEdits(lObjP.listVariableName,data);
	}
}
,
	_appendNewRow: function(data) { 
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	this.appendRows(data);
	if(_mode == 'edits') { 
		_dlgObj._updateDataInSyncedEdits(lObjP.listVariableName,false,data);
	}
}
,
	_applyEditsToOriginalData: function(originalData,listEdits) { 	
	var flagAdd = false;
	if(typeof arguments[2] != 'undefined') flagAdd = arguments[2];
	var ol = originalData;
	var edits = listEdits;
	var findRowDataByKey = function(data,pk) { 
		var ix = -1;
		for(var i = 0; i < data.length; i++) { 
			if(data[i]['__primaryKey'] == pk) { 
				ix = i;
				break;
			}
		}
		var rd = false;
		if(ix > -1) { 
			rd = ix
		}
		return rd; 
	}
	var _pk;
	var _rowData;
	var flagDoAppend;
	for (var i = 0; i < edits.length; i++) { 
		_pk = edits[i]['__primaryKey'];
		if(typeof _pk == 'undefined') {
			flagDoAppend = true;
			if(typeof edits[i]._isDeleted != 'undefined') {
				if(edits[i]._isDeleted) {
					flagDoAppend = true
				}
			}
			if(flagAdd && flagDoAppend) originalData.push(edits[i]);
		} else {
			_rowData = findRowDataByKey(ol,_pk);
			if(_rowData != false || typeof _rowData == 'number') {
				originalData[_rowData] = {};
				$u.o.assign(originalData[_rowData],edits[i]);
			} else { 
				flagDoAppend = true;
				if(typeof edits[i]._isDeleted != 'undefined') {
					if(edits[i]._isDeleted) {
						flagDoAppend = true
					}
				}
				if(flagAdd && flagDoAppend) originalData.push(edits[i]);
			}
		}
	}
	return ol;
}
,
	_applyDeletesToOriginalData: function(data,deletedPK) {
	for(var i = 0; i < deletedPK.length; i++) { 
		for(var j = 0; j < data.length; j++) { 
			if(data[j]['__primaryKey'] == deletedPK[i]) { 
				data.splice(j,1);
				break;
			}
		}
	}
	return data;
}
,
	queryByFormClearControls: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var controlName;
	for(var i = 0; i < this._listFields.length; i++) { 
		controlName = this._getUXDetailViewControlName(this._listFields[i].name);
		if(controlName != '') {
			val = '';
			_dlgObj.setValue(controlName,val,false);
		}
	}
}
,
	removeRowFromListByKey: function(rowKey) {
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var curVal = this.value[0];
	this.nullOutDetailViewRecord();
	_dlgObj.persistVariablesToLocalStorage();
	if(curVal != rowKey) { 
		this.removeRows([rowKey]);
		if(typeof curVal != 'undefined') {
			this.setValue(curVal,false);
			this._selectedRow = curVal;
		}
		this.__currentRoute = this._getRoute();
	} else { 
		var index = this.indexFromValue(curVal);
		var newIndex = '';
		if( (index+1) < this._dataMap.length) {
			newIndex = index;
		} else { 
			newIndex = index -1;
		}
		this.removeRows([rowKey]);
		this.setValue(newIndex,false);
		this._selectedRow = newIndex;
		this.__currentRoute = this._getRoute();
	}
	_dlgObj.refreshClientSideComputations();
	var lObj = this;
	if (this._data.length == 0) {
		this.setValue(0,false);
		this._selectedRow = -1;
		var mode = this._noRecordInListIsSelectedSettingForDetailView;
		if(mode == 'newrecord') { 
			var lObj = this;
			setTimeout(function() {lObj.newDetailViewRecord();},10);
		} else if (mode == 'disabledetailview') { 
			var lObj = this;
			setTimeout(function() {lObj.disableDetailView();},10);
		}
	}
	_dlgObj._listRowSelect(this.listVariableName);
	var lObjP = this._getTopParentListObject();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
	if(_mode == 'edits') { 
		_dlgObj._updateDeletesInSyncedDeletes(lObjP.listVariableName,[rowKey]);
	}
}
,
	searchModeOff: function() { 
	if(this._dvmode != 'search') return true;
	var val = this._searchModeReturnValue;
	if(typeof val != 'undefined') { 
		if(val != '') {
			this.setValue(this._searchModeReturnValue);
		} else {
			this.newDetailViewRecord();
		}
	} else { 
		this.newDetailViewRecord();
	}
}
,
	searchModeOn: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	if(this.detailViewIsDirty()) { 
		alert('cannot switch to search mode because detail view is dirty');
		return false;
	}
	this._dvmode = 'search';
	this._setNullMode();
	this._searchModeReturnValue = this.value;
	this._deselectAll();
	this.queryByFormClearControls();
	if(typeof this.__queryByFormValues != 'undefined') {
		for(var i = 0; i < this.__queryByFormValues.length; i++) { 
			_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);
		}
	}
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'search'});
	_dlgObj.refreshClientSideComputations();
}
,
	populateUXControls: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	ops.listVariableName = this.listVariableName;
	ops.listObj = this;
	if(this._detailView.method == 'fieldMap') argIn = this._detailView.fieldMap;
	else argIn = this._detailView.container;
	var _d = this.getData(this.selection[0]);
	var n = '';
	var b64prefix = ''
	this._currentDetailViewKey = undefined;
	if(typeof _d == 'undefined' || _d == null || this.selectionData.length == 0) {
		this.nullOutDetailViewRecord();
		return false; 
	}
	if(this._data.length == 0) return false;
	this._currentDetailViewKey = _d['*key'];
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.beforeDetailViewPopulate',{});
	window[this._hostComponentId + '_DlgObj']._populateUXControlsWithListData(_d,argIn,ops);
	this._clearServerSideErrors();
	this._showServerSideErrors();
	this._showWriteConflictErrors();
	this._dvmode = 'edit';
	this._setNullMode();
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'edit'});
	_dlgObj.refreshClientSideComputations();
	this._setParentIsDeletedOnChildren();
	if(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();
	if(typeof _d._flagViewed != 'undefined') { 
		if(_d._flagViewed == false) {
			_d._flagViewed = true;
			this.updateRow(this.selection[0],_d);
		}
	}
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.afterDetailViewPopulate',{});
}
,
	_setParentIsDeletedOnChildren: function() { 
		var _d = this.getData(this.selection[0]);
		if(typeof _d == 'undefined' || _d == null || this.selectionData.length == 0) {
			return false;
		}
		var flagDel = false;
		if(typeof _d['_isDeleted'] != 'undefined') flagDel = _d['_isDeleted'];
		if(!flagDel) {
			var flagParentIsDeleted = false;
			var pData = '';
			if(typeof this.allParentLists == 'undefined') return false;
			if(this.allParentLists.length > 0) { 
				for(var i = 0; i < this.allParentLists.length; i++) {
					pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
					if(typeof pObj.selection[0] != 'undefined') {
						pData = pObj.getData(pObj.selection[0]);
						if(typeof pData._isDeleted != 'undefined') {
							if(pData._isDeleted) {
								flagParentIsDeleted = true;
								break;
							}
						}
					}
				}
			}
			if(flagParentIsDeleted) flagDel = true;
		}
		var flagParentIsDeleted = false;
		if(typeof this._parentIsDeleted != 'undefined') flagParentIsDeleted =  this._parentIsDeleted;
		this.disableDetailView(flagDel || flagParentIsDeleted);
		var lChildObj = '';
		for(var i = 0; i < this.childLists.length; i++) { 
			lChildObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
			if(lChildObj) {
				lChildObj.disableDetailView(flagDel);
				if(flagDel) $acn(lChildObj.contId,'parentIsDeleted');
				else $rcn(lChildObj.contId,'parentIsDeleted');
				lChildObj._parentIsDeleted = flagDel;
				lChildObj._setParentIsDeletedOnChildren();
			}
		}
	}
,
	updateListFromUXControls: function() { 		
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var arr = this._getControlsInDv()
		for(var i = 0; i < arr.length; i++) {
			_dlgObj.clientSideValidateField(arr[i],1,null);
		}
		var flagCSE = this._hasClientSideError();
		if(flagCSE) {
			_dlgObj._list_executeEvent(this.listVariableName,'detailView.hasClientSideValidationErrors',{});
			var msg = this.customization.dv.clientSideErrorWarning;
			if(typeof msg != 'undefined' && msg != '') this._showGlobalError(msg);
			return false;
		} else { 
			this._clearGlobalError();
		}
		var _route = this._getRoute();
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var flagGetLocationData = this._captureLocation;
		if( _dlgObj._embeddedMode || _dlgObj._livePreviewInBuilder) flagGetLocationData = false;
		var that = this;
		if(flagGetLocationData) { 
			var _locationHighAccuracy = _dlgObj.locationHighAccuracy;
			var _locationTimeout = _dlgObj.locationTimeout;
			var _locationMaximumAge = _dlgObj.locationMaximumAge;
			var classInst = this;
			navigator.geolocation.getCurrentPosition(
				function(pos) {
					if(typeof _dlgObj._location == 'undefined') _dlgObj._location = {};
					_dlgObj._location.lat = pos.coords.latitude;
					_dlgObj._location.lng = pos.coords.longitude;
					classInst._updateListFromUXControlsLow();
					delete classInst;
					if(that.synchronizeImmediately) { 
						var flagOnLine = _dlgObj._getOnlineStatus();
						if (flagOnLine) {
								_dlgObj.saveListEdits(that.listVariableName)
						}
					}
					var dirtyClass = '';
					if(typeof that.dirtyControlClassName != 'undefined') dirtyClass = that.dirtyControlClassName;
					if(dirtyClass != '') that.populateUXControls();
					that._setRoute(_route);
					if(!that._restoringList)  _dlgObj.persistVariablesToLocalStorage();
					_dlgObj.refreshClientSideComputations();
					return true;
				},
				function(error) { 
					delete _dlgObj._location;  
					classInst._updateListFromUXControlsLow();
					delete classInst;
					return true;
 			} ,	{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) 	
 			return true;	
		} else { 
			this._updateListFromUXControlsLow();
		}
		this._setRoute(_route);
		if(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();
		_dlgObj.refreshClientSideComputations();
		if(this.synchronizeImmediately) { 
			var flagOnLine = _dlgObj._getOnlineStatus();
			if (flagOnLine) {
					_dlgObj.saveListEdits(this.listVariableName)
			}
		}
		var dirtyClass = '';
		if(typeof this.dirtyControlClassName != 'undefined') dirtyClass = this.dirtyControlClassName;
		if(dirtyClass != '') this.populateUXControls();
	}
	,
	_updateListFromUXControlsLow: function() { 	
	var flagCSE = this._hasClientSideError();
	if(flagCSE) {
		var msg = this.customization.dv.clientSideErrorWarning;
		if(msg != '') this._showGlobalError(msg);
		return false;
	} else { 
		this._clearGlobalError();
	}
	flagAllParentListsHaveActiveRow = true;
	var pObj = '';
	if(this.allParentLists.length > 0) { 
		for(var i = 0; i < this.allParentLists.length; i++) {
			pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
			if(typeof pObj.selection[0] == 'undefined') {
				flagAllParentListsHaveActiveRow = false;
				alert('Can\'t save record because there is no active record in the parent List. Parent list id: \''+this.allParentLists[i]+'\'');
				break;
			}
		}
	}
	var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var flagSynchronize = this.synchronizeImmediately;
	if(typeof ops.synchronize == 'undefined') {
		ops.synchronize = flagSynchronize;
	}
	if(this._detailView.method == 'fieldMap') {
		var res = window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); 
	} else {
		var res = window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); 
	}
	var parentListName = this.parentList;
	if(typeof parentListName != 'undefined') {
		var thisData = this.getData(this.selection[0]);
		var flagIsNewRow = false;
		if(typeof thisData._isNewRow != 'undefined') flagIsNewRow = thisData._isNewRow;
		var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
		if(plObj._setDirtyByChild) {
			if (flagIsNewRow == false)  	plObj._setDirtyByChild(false);
			else plObj._setDirtyByChild(true,thisData,this.listVariableName);
		}
	}
	this._populateMyChildren();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.afterUpdateList',{});
	return res;
},
	_setDirtyByChild: function(flagNewRow) { 		
		var rn = this.selection[0];
		if(typeof rn == 'undefined') rn = 0;
		if(flagNewRow) {
			var newData = arguments[1];
			var listName = arguments[2];
			this.setRowDirty(rn,true,newData,listName);
		} else {
			this.setRowDirty(rn,false);
		}
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') { 
			if(parentListName != '') {
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(parentListName);
				if(plObj._setDirtyByChild) 	plObj._setDirtyByChild(false);
			}
		}
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
	}
	,
	_getChildData: function(existingData,childListName) {		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var clObj = _dlgObj.getControl(childListName);
		if(!clObj) return false;
		if(clObj._dataSourceType.toLowerCase() == 'sql') { 
			return existingData['__LIST__' + childListName];
		} else { 
			return existingData[clObj._objectNameInParentListForData];
		}
	}
	,
	_getChildDataObjectName: function(childListName) { 		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var clObj = _dlgObj.getControl(childListName);
		if(!clObj) return '__LIST__' + childListName.toUpperCase();
		if(clObj._dataSourceType.toLowerCase() == 'sql') { 
			return '__LIST__' + childListName.toUpperCase();
		} else { 
			return clObj._objectNameInParentListForData
		}
	}
	,
	setRowDirty: function(rn,flagNewRow) {		var existingData = this.getData(rn);
		existingData._isDirty = true;
		if(flagNewRow) { 
			var newData = arguments[2];
			var listName = arguments[3];
			var childData = this._getChildData(existingData,listName);
			if(typeof childData == 'undefined') return false;
			var childDataObjectName = this._getChildDataObjectName(listName);
			var n = window[this._hostComponentId + '_DlgObj']._findArrayProp(childData,'*key',newData['*key']);
			if(n == -1) {
				if(existingData[childDataObjectName].constructor == Array) {
					existingData[childDataObjectName].push(newData);
				} else { 
					existingData[childDataObjectName] =  [];
					existingData[childDataObjectName].push(newData);
				}
			} else { 
			}
		}
		this.updateRow(rn,existingData);
	}
	,
	_showDirtyDetailViewWarning: function() {
		if(!this.detailViewIsDirty(true)) return true;
		else {
			var obj = {};
			obj.thisListName = this.listVariableName;
			obj.dirtyListName = this._nameOfListWithDirtyDetailView;
			obj.handled = false;
			window[this._hostComponentId + '_DlgObj']._list_executeEvent(this.listVariableName,'detailView.afterListRowSelectCancelled',obj);
			if(obj.handled) return false;
			var msg = this.customization.dv.dirtyDetailViewRecord.message;
			var image = this.customization.dv.dirtyDetailViewRecord.icon;
			var iconType = window[this._hostComponentId + '_DlgObj']._iconType(image);
			var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,iconType);
			var flagThisListHasDirtyDv = false;
			if(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;
			if(!flagThisListHasDirtyDv) {
				msg = msg + '<br>(List with dirty Detail View: \'' + this._nameOfListWithDirtyDetailView + '\')';
			}
			msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
			var title = this.customization.dv.dirtyDetailViewRecord.title;
			A5.msgBox.show(title,msg,'O',function() {} );
			return false;
		}
	}
	,
	_getListFieldFromControl: function(ctrl) {		
		var indx = '';
		if(this._detailView.method == 'fieldMap') {
			var map = this._detailView.fieldMap;
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(map,'control',ctrl);
			if(indx > -1) return map[indx].field
		} else {
			ctrl = ctrl.toUpperCase();
			var la = this._listFields;
			for(var i = 0; i < la.length; i++) { 
				if(la[i].name.toUpperCase() == ctrl) return la[i].name;
			}
			return false;
		}
	}
	,
	disableDetailView: function() { 		var flag = typeof arguments[0] != 'undefined' ? arguments[0] : true;
		window[this._hostComponentId + '_DlgObj'].setDisabled(this._getControlsInDv(),flag);
	}
	,
	_getControlsInDv: function() {		if(typeof this._controlsInDV != 'undefined') {
			return this._controlsInDV;
		}
		var arr = [];
		if(typeof this._detailView == 'undefined') return '';
		if(typeof this._detailView.method == 'undefined') return '';
		if(this._detailView.method == 'fieldMap') { 
			var ele = '';
			for (var i = 0; i < this._detailView.fieldMap.length; i++) {
				ele = $(this._hostComponentId + '.V.R1.' + this._detailView.fieldMap[i].control.toUpperCase());
				if(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());
			}
			this._controlsInDV = arr;
			return arr;
		} else { 
			var indx = -1;
			var ctrlList = window[this._hostComponentId + '_DlgObj'].getControlsInContainer(this._detailView.container);
			for(var c = 0; c < ctrlList.length; c++) {
				for(var i = 0; i < this._listFields.length; i++) {
					if(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());
				}
			}
			this._controlsInDV = arr;
			return arr;
		}
	}
	,
	_stripCleanBase64Data: function(_d) { 		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var _dc = {}
		var cn = '';
		var ct = '';
		var flagDirty = '';
		var flagCapture = '';
		var ix = '';
		var flagEmbeddedImage = '';
		for(var prop in _d) {
			flagCapture = true; 
			cn = this._getUXDetailViewControlName(prop);
			if(cn != '') {
				ct = _dlgObj._getControlType(cn).toLowerCase();
				if(ct == 'signaturecapture' || ct == 'image') {
					flagCapture = false;
					var _dirtyImages = _d['_dirtyImages'];
					var flagImageDirty = false;
					if(typeof _dirtyImages != 'undefined') {
						flagImageDirty = _dirtyImages[prop];
						if(typeof flagImageDirty != 'undefined') flagCapture = true;
					}
				}
			}
			if(flagCapture) _dc[prop] = _d[prop];
		}
		return _dc;
	}	
	,
	_getData2: function(row) { 		
		var _d = this.getData(row);
		return this._stripCleanBase64Data(_d);
	}
	,
	harvestListRow: function() { 		
		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var obj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
		var flagSumbmitAllChildRecords = false;
		if(typeof obj.flagSumbmitAllChildRecords != 'undefined') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;
		var flagCaptureImages = false;
		if(typeof obj.flagCaptureImages != 'undefined') flagCaptureImages = obj.flagCaptureImages;
		if(typeof rn != 'number') {
			if(!rn._isNewRow){
				if(flagCaptureImages) { 
					var existingData = rn;
				} else { 
					var existingData = this._stripCleanBase64Data(rn);
				}
			} else {
				var existingData = rn;
			}
		} else { 
			if(rn > -1) {
				var existingData = this._getData2(rn); 
			} else {
				if(this.selection[0] != 'undefined') var existingData = this._getData2(this.selection[0]); 
			}
		}
		if(typeof existingData == 'undefined') return {};
		var flagDirty = false;
		var flagNewRow = false;
		if(typeof existingData._isDirty != 'undefined') flagDirty = existingData._isDirty;
		if(typeof existingData._isNewRow != 'undefined') flagNewRow = existingData._isNewRow;
		delete existingData._previousData;
		if(flagDirty || flagNewRow) {
			if(!flagSumbmitAllChildRecords) {
				this._createKeysLow(existingData);
				var dirtyDataOnly = this._trimNonDirtyData(existingData);
				return dirtyDataOnly;
			} else {
				this._createKeysLow(existingData);
				return existingData;
			}
		}
		return {};
	}
	,
	_createKeysLow: function(d) { 		var count = 0;
		for(var p in d) { 
			if(d[p] != null) {
				if(d[p].constructor == Array) { 
					count = 0;
					for(var i = 0; i < d[p].length; i++) { 
						if(typeof d[p][i] == 'object') { 
							if(typeof d[p][i]['*title'] == 'undefined' && typeof d[p][i]['*static'] == 'undefined') { 
								d[p][i]['*key'] = i;
								count++;
								this._createKeysLow(d[p][i]);
							}
						}
					}
				}
			}
		}
	}
	,
	fieldIsDirty: function(field) { 		var rSel = this.selection[0];
		var rn = typeof arguments[1] != 'undefined' ? arguments[1] : rSel;
		if(typeof rSel == 'undefined') return false;
		var _d = this.getData(rn);
		var _dv = _d[field];
		var flagNewRow = _d['_isNewRow'];
		if(typeof flagNewRow == 'undefined') flagNewRow = false;
		if(flagNewRow) { 
			if(_dv == '') return false;
			return true;
		}
		var _od = _d['_oldData'];
		if(typeof _od == 'undefined') return false;
		var _odv = _od[field];
		if(typeof _dv == 'undefined') return false;
		if(typeof _odv == 'undefined') return false;
		if(_dv == _odv ) return false;
		else return true;
	}
	,
	_trimNonDirtyData: function(data) { 		var data2 = {};
		var tData = [];
		for(var prop in data) {
			if(data[prop] != null) {			
				if(data[prop].constructor == Array) {
					tData = [];
					for(var i = 0; i < data[prop].length; i++) {
						if(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {
							tData.push(this._trimNonDirtyData(data[prop][i]));
						}
					}
					data2[prop] = tData;
				} else {
					data2[prop] = data[prop];
				}
			} else {
				data2[prop] = null;
			}
		}
		return data2;
	}
	,
	_logicalRow2PhysicalRow: function(rn) { 		if(typeof rn != 'number') {
			return rn;
		}
		var u = this._dataMap;
		return $u.a.find(u,rn);
	}
	,
	harvestListKeys: function() { 		var existingData = {};
		var arr = [];
		var key = '';
		for (var i = 0; i < this._data.length; i++) { 
			existingData = this._data[i];
			if(typeof existingData.__primaryKey != 'undefined') {
				key = existingData.__primaryKey;
			} else {
				key = existingData['*value']
			}
			if(key != '') arr.push(key);
		}
		return arr;
	}
	,
	_hasMediaFileUploadErrors: function(data) {		
		var flag = false;
		var r = A5.u.object.each(data,function(name,value,path,result){
			if(name == '_flagMediaFileUploadError'){
				if(value) flag =  true;
 		   }
		});
		return flag;
	}
,
	harvestList: function() { 		
		var flagPKOnly = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var obj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
		var startingRow = 1;
		var batchSize = 0;
		var flagSumbmitAllChildRecords = false;
		var flagInPersistListToStorage = false;
		var flagCaptureImages = false;
		if(typeof obj.batchSize != 'undefined') batchSize = obj.batchSize;
		if(typeof obj.startingRow != 'undefined') startingRow = obj.startingRow;
		if(typeof obj.flagSumbmitAllChildRecords != 'undefined') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;
		if(typeof obj.flagInPersistListToStorage != 'undefined') flagInPersistListToStorage = obj.flagInPersistListToStorage;
		if(typeof obj.flagCaptureImages != 'undefined') flagCaptureImages = obj.flagCaptureImages
		var flagDirty = false;
		var flagNewRow = false;
		var flagHasMediaFileUploadError = false;
		var existingData = '';
		var arr = [];
		var _tempData = '';
		if(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { 
			var arr2 = [];
			var count = 0;
			for(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { 
				rowToGet = this.__arrDirtyRows[i]; 
				existingData = this._data[rowToGet];
				_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords, flagCaptureImages: flagCaptureImages});
				arr2.push(_tempData);
				count = count + 1;
				if(count >= batchSize) break;
			}
			return arr2;
		}
		if(flagInPersistListToStorage == false) { 
			this.__arrDirtyRows = [];
		}
		for (var i = 0; i < this._data.length; i++) { 
			existingData = this._data[i];
			flagDirty = false; flagNewRow = false;
			if(typeof existingData._isDirty != 'undefined') flagDirty = existingData._isDirty;
			if(typeof existingData._isNewRow != 'undefined') flagNewRow = existingData._isNewRow;
			if(flagDirty || flagNewRow) {
				flagHasMediaFileUploadError = this._hasMediaFileUploadErrors(existingData);
			}
			if( (flagDirty || flagNewRow) && !flagHasMediaFileUploadError ) {
				if(flagPKOnly == false)	{
					_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords, flagCaptureImages: flagCaptureImages});
					arr.push(_tempData);
				} else {
					if(typeof existingData.__primaryKey != 'undefined') {
						arr.push(existingData.__primaryKey);
					} else {
						arr.push(existingData['*value']);
					}
				}
				if(flagInPersistListToStorage == false) { 
					if(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {
						if(flagPKOnly == false) {
							this.__arrDirtyRows.push(existingData['*key']);
						}
					}
				}
			}
		}
		if(batchSize > 0 && flagPKOnly == false) {
			var arr2 = [];
			var count = 0;
			for(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { 
				rowToGet = this.__arrDirtyRows[i];
				arr2.push(this._getRowByKey(arr,rowToGet));
				count = count + 1;
				if(count >= batchSize) break;
			}
			return arr2
		}
		return arr;
	}
	,
	_getRowByKey: function(arr,key) {		for(var i = 0; i < arr.length; i++) { 
			if(arr[i]['*key'] == key) return arr[i];
		}
		return false; 
	}
,
	listRowIsDirty: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var flagNewRow = typeof arguments[1] != 'undefined' ? arguments[1] : false;
		if(rn > -1) {
			var existingData = this.getData(rn);
		} else {
			var existingData = this.getData(this.selection[0]);
		}
		if(typeof existingData == 'undefined') return false;
		if(!flagNewRow) {
			if(typeof existingData._isDirty != 'undefined') return existingData._isDirty;
			else return false;
		} else { 
			if(typeof existingData._isNewRow != 'undefined') return existingData._isNewRow;
			else return false;
		}
	}
	,
	listRowIsNew: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		return this.listRowIsDirty(rn,true);
	}
	,
	_getDataFromRoute: function(route) { 		var rn = [].concat(route);
		var topParent = this.allParentLists[this.allParentLists.length -1];
		if(typeof topParent == 'undefined') var lObj = this;
		else var lObj = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
		var _td = lObj._data;
		for(var i = 0; i < rn.length; i++) { 
		   _td = _td[ rn[i] ];
		}
		return _td;
	}
	,
	_isRowInRouteVisible: function(route) { 		var rn = [].concat(route);
		var topParent = this.allParentLists[this.allParentLists.length -1];
		if(typeof topParent == 'undefined') var lObj = this;
		else var lObj = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
		var index = 0;
		while(rn.length >1) {
			index = lObj._logicalRow2PhysicalRow(rn.shift());
			if(lObj.selection[0] != index) return false;
			lObj = window[this._hostComponentId + '_DlgObj'].getControl(rn.shift().replace('__LIST__',''));
		}
		return true;		
	}
	,
	_isRouteBranchDirty: function(route) { 		var rn = [].concat(route);
		if( typeof  rn[rn.length-1] == 'number' ) rn.pop();
		var _d = this._getDataFromRoute(rn);
		for(var i = 0; i < _d.length; i++) { 
			if( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;
		}
		return false;
	}
	,
	_routeBranchHasServerSideError: function(route) { 		var rn = [].concat(route);
		if( typeof  rn[rn.length-1] == 'number' ) rn.pop();
		var _d = this._getDataFromRoute(rn);
		for(var i = 0; i < _d.length; i++) { 
			if(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;
		}
		return false;
	}
	,
	_responseStart: function() {		this.__inSyncResponse = true;
		this.__responseEndHasFired = false;
		delete this._rowGUIDS;
		this._rowGUIDS = [];
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	}
,
	_responseEnd: function() {		this.__responseEndHasFired = true;
		var flagUsingSyncLog = false;
		flagUsingSyncLog = this._useServerSideSyncLog;
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		if(typeof flagUsingSyncLog == 'undefined') flagUsingSyncLog = false;
		if(flagUsingSyncLog) {
			var flagClearLog = this._clearServerSideSyncLog;
			if(typeof flagClearLog == 'undefined') flagClearLog = true;
			if(flagClearLog) {
				_dlgObj.synchronizeComplete(this._rowGUIDS);
			}
		}
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var _mode = _dlgObj.__listPersistMode(this.listVariableName);
		var lObj = this;
		lObj.count = 0;
		if(_mode == 'edits' || _mode == 'add') { 
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			if(_dlgObj._executePendingUpdatesToFileSystem) _dlgObj._executePendingUpdatesToFileSystem(this.listVariableName);
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.persistListToLocalStorage(this.listVariableName);
		}	
		setTimeout(function() { lObj.__inSyncResponse = false;	},1000);
	}
,
	_getTopParentList: function() { 		
		var allParentLists = this.allParentLists;
		if(typeof allParentLists == 'undefined') return this.listVariableName;
		if(allParentLists.length == 0) return this.listVariableName;
		return allParentLists[allParentLists.length -1];
	}
,
	setRowCleanPreserveState: function() {		this.setRowClean(arguments[0],-1,true);
	}
,
	setRowClean: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var mode = typeof arguments[1] != 'undefined' ? arguments[1] : -1;
		var flagPreserveState = typeof arguments[2] != 'undefined' ? arguments[2] : false;
		var flagRouteArray = false;
		if(rn.constructor == Array) { 
			flagRouteArray = true;
			var existingData = this._getDataFromRoute(rn);
			var _row = rn[rn.length -1];
			_row = this._logicalRow2PhysicalRow(_row);
		} else {
			var _row = '';
			var existingData = this.getData(this.selection[0]);
			if(rn > -1) {
				_row = rn;
				_row = this._logicalRow2PhysicalRow(_row);
			} else _row = existingData['*key'];
			var existingData = this.getData(_row);
		}
		if(typeof existingData == 'undefined' || existingData == null) return false;
		if(mode == 1 ) {
			if(typeof existingData._oldData != 'undefined') return false;
		}
		var rn2 = [].concat(rn);
		if(!flagPreserveState) {
			if(typeof existingData != 'undefined' && existingData != null) { 
				existingData._isDirty = false;
				existingData._isNewRow = false;
			}
		}
		var __rowGUID = null;
		existingData._hasServerSideError = false;
		existingData._serverSideErrors = false;
		existingData._flagServerSideErrorInChild = false;
		existingData._hasWriteConflictErrors = false;
		existingData._hasGlobalErrors = false;
		existingData._flagWriteConflictErrorInChild = false;
		existingData._flagGlobalErrorInChild = false;
		existingData._dirtyImages = false;
		var topParentList = this._getTopParentList();
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var lTop = _dlgObj.getControl(topParentList);
		if(typeof lTop._rowGUIDS == 'undefined') lTop._rowGUIDS = [];
		lTop._rowGUIDS.push(existingData['*rowGUID']);
		__rowGUID = existingData['*rowGUID'];
		delete existingData['*rowGUID'];
		existingData._writeConflictErrors = false;
		if(!flagPreserveState) delete existingData._oldData;
		delete existingData._globalErrors;
		delete existingData._globalErrorsRaw;
		var _currRowNum = this.selection[0];
		if(flagRouteArray) {
			if(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);
		} else {
			this.updateRow(_row,existingData);
		}
		if(typeof _currRowNum != 'undefined') this.setValue(_currRowNum,false);
		var parentList = this.parentList;
		if(typeof parentList != 'undefined') {
			if(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  
			else var flagListIsDirty = this.listIsDirty();
			if (flagListIsDirty == false) { 
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				if(flagRouteArray) {
					rn.pop();
					rn.pop();
					lObj.setRowClean(rn,1);
				} else {
					lObj.setRowClean(-1,1);
				}
			} else { 
				if(flagPreserveState) {
					this._setRouteDirty(rn);
				}
			}
		}
	}
	,
	_setRouteDirty: function(route) { 		route.pop();
		route.pop();
		var flagLoop = true;
		if(route.length == 0) flagLoop = false;
		while(flagLoop) { 
			var existingData = this._getDataFromRoute(route);
			existingData._isDirty = true;
			route.pop();
			route.pop();
			if(route.length == 0) break;
		}
	}
,
	_showError: function(id,moreTxt,lessTxt) { 		var e = $(id);
		var e2 = $(id + '.LINK');
		if(e.style.display == '') { 
			e.style.display = 'none';
			e2.innerHTML = moreTxt;
		} else { 
			e.style.display = '';
			e2.innerHTML = lessTxt;
		}
	}
	,
	_setGlobalCRUDErrors: function(rowNum,txt,mode) { 		
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var ePH =  this._globalErrorPlaceHolder;
		if(typeof ePH == 'undefined') ePH = '';
		var flagPH = $(ePH);
		if(typeof mode == 'undefined') mode = '';
		var txtRaw = txt;
		if(mode != '' && ePH != '' && flagPH) {
			var customMessage = this.customization.dv.databaseError[mode];
			customMessage = customMessage.split('|');
			txt = '<div onclick="window[\''+this._hostComponentId + '_DlgObj\'].getControl(\''+this.listVariableName+'\')._showError(\''+this.listVariableName +'.GLOBALERROR\',\''+customMessage[1]+'\',\''+customMessage[2]+'\');">' + customMessage[0] + '&nbsp;<a id="'+this._hostComponentId+'.'+this.listVariableName + '.GLOBALERROR.LINK" class="AlphaLink" style="cursor: pointer;color:red; font-size: 8pt;" href=\'#\'>'+customMessage[1]+'</a>' + '<div id="'+this.listVariableName+'.GLOBALERROR" style="display: none; font-size: 8pt;">'+txt+'</div></div>';
		}
		if(rowNum.constructor == Array) { 
			this.setServerSideError(true,rowNum,txt,'ge',txtRaw);
			_dlgObj._listRowSelect(this.listVariableName);
			return true;
		}
		var _d = this._getRowData(rowNum);
		_d._globalErrors = txt;
		_d._globalErrorsRaw = txtRaw;
		_d._hasServerSideError = false;
		_d._serverSideErrors = false;
		this.updateRow(rowNum,_d);
		_dlgObj._listRowSelect(this.listVariableName);
	}
	,
	getAllErrors: function() { 		var lObj = this;
		var data = lObj._data;
		var r = A5.u.object.each(data,function(name,value,path,result){
			path = path.splice(0,path.length -1);
			var _dr = data;
			for(var i = 0; i < path.length; i++) { 
				var _dr = _dr[path[i]];
			}
			if(name == '_hasServerSideError') { 
				if(value) { 
					result.push({errorType: 'serverSide', path:path, error: _dr['_serverSideErrors']});
				}
			}
			if(name == '_hasWriteConflictErrors') { 
				if(value) { 
					var _wc = _dr['_writeConflictErrors'];
					var _wc2 = [];
					$u.o.assign(_wc2,_wc);
					for(var i = 0; i < _wc2.length; i++) {
						delete _wc2[i].errorText;
					}
					result.push({errorType: 'writeConflict', path: path, error: _wc2});
				}
			}
			if(name == '_hasGlobalErrors') { 
				if(value) { 
					result.push({errorType: 'globalError', path: path, error: _dr['_globalErrorsRaw']});
				}
			}
		})
		return r;
	}
	,
	_setWriteConflictErrors: function(rowNum,eArr) {		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		if(rowNum.constructor == Array) { 
			this.setServerSideError(true,rowNum,eArr,'wc');
			_dlgObj._listRowSelect(this.listVariableName);
			return true;
		}
		rowNum = this._logicalRow2PhysicalRow(rowNum);
		var _d = this._getRowData(rowNum);
		_d._writeConflictErrors = eArr;
		_d._hasWriteConflictErrors = true;
		_d._hasServerSideError = false;
		_d._serverSideErrors = false;
		this.updateRow(rowNum,_d);
		_dlgObj._listRowSelect(this.listVariableName);
	}
	,
	_setGenericByChild: function(rn,mode) { 	
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') { 
			if(parentListName != '') {
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(parentListName);
				var existingData = plObj._getDataFromRoute(rn);
				if(mode == 'sse') {
					existingData._flagServerSideErrorInChild = true;
					existingData._isDirty = true;
				} else if (mode == 'wc') { 
					existingData._flagWriteConflictErrorInChild = true;
					existingData._isDirty = true;
				} else if (mode == 'ge') {
					existingData._flagGlobalErrorInChild = true;
					existingData._isDirty = true;
				}
				var _row = rn[rn.length -1];
				_row = plObj._logicalRow2PhysicalRow(_row);
				if(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);
				rn.pop();
				rn.pop();
				plObj._setGenericByChild(rn,mode)
			}
		}
	}
	,
	setServerSideError: function(flag) { 		
		var rn = typeof arguments[1] != 'undefined' ? arguments[1] : -1;
		var flagRouteArray = false;
		if(rn.constructor == Array) { 
			flagRouteArray = true;
		}
		var errObj =  typeof arguments[2] != 'undefined' ? arguments[2] : {};
		if(flag == false) {
			errObj = false;
		}
		var mode = typeof arguments[3] != 'undefined' ? arguments[3] : 'sse' 
		var txtRaw = typeof arguments[4] != 'undefined' ? arguments[4] : '';
		var _row = '';
		if(flagRouteArray) { 
			var existingData = this._getDataFromRoute(rn);
			var _row = rn[rn.length -1];
			_row = this._logicalRow2PhysicalRow(_row);
		} else { 
			var existingData = this.getData(this.selection[0]);
			if(rn > -1) {
				_row = rn;
				_row = this._logicalRow2PhysicalRow(_row);
			} else _row = existingData['*key'];
			var existingData = this.getData(_row);
		}
		if(mode == 'sse') {
			existingData._hasServerSideError = flag;
			existingData._serverSideErrors = errObj;
			existingData._globalErrors = false;
			existingData._globalErrorsRaw = ''
			existingData._hasGlobalErrors = false;
			existingData._hasWriteConflictErrors = false;
			existingData._writeConflictErrors = false;
		} else if (mode == 'wc') { 
			existingData._hasWriteConflictErrors = flag;
			existingData._writeConflictErrors = errObj;
			existingData._hasServerSideError = false;
			existingData._serverSideErrors = false;
		} else if (mode == 'ge') { 
			existingData._globalErrors = errObj;
			existingData._globalErrorsRaw = txtRaw;
			existingData._hasGlobalErrors = flag;
			existingData._hasServerSideError = false;
			existingData._serverSideErrors = false;
		}
		if(flagRouteArray) {
			if(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);
			if(this._setGenericByChild) {
				rn.pop();
				rn.pop();
				this._setGenericByChild(rn,mode);
			}
		} else {
			this.updateRow(_row,existingData);
		}
	}
	,
	_showWCErrorMore: function(varName,eleIn,infoIn) { 		var info = {};
		if(typeof infoIn != 'undefined') { 
			info = infoIn;
		}
		if(typeof eleIn == 'undefined') eleIn = false;
		var row = this.selection[0];
		this._wceVarname = varName;
		var myValue = window[this._hostComponentId + '_DlgObj'].getValue(varName);
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		var wcCount = wce.length;
		var indx = '';
		indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',varName);
		if(indx == -1) return false 
		wce = wce[indx];
		var mTheirs = this.customization.dv.writeConflict.useTheirsMessage;
		var mMine   = this.customization.dv.writeConflict.useMineMessage;
		var mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;
		var mMineAll   = this.customization.dv.writeConflict.useMineAll;
		mTheirs = mTheirs.replace('{theirvalue}',this._stripHTML(wce.oldValueCurrent,30));
		mMine = mMine.replace('{myvalue}',this._stripHTML(myValue,30));
		var ctxt = this;				
		var mD = [];
		mD.push({html: mMine, value: 'mine'});
		mD.push({html: mTheirs, value: 'theirs'});
		if(wcCount > 1) {
			mD.push('-');
			mD.push({html: mMineAll , value: 'mineAll'});
			mD.push({html: mTheirsAll, value: 'theirsAll' });
		}
		var mS = {
			theme: 'Alpha',
			_hostComponentId : this._hostComponentId,
			listVariableName: this.listVariableName,
			iconColumn: {show: false},
			pointer: {show: true,location: 'auto'},
			animation: {show: {type: 'css-slide',duration: 'fast'}, hide: {type: 'none',duration: 'fast'}},
			onHide: function() {  $(this._eleWCM).style.visibility = '';},
			onClick: function(item) { 
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.listVariableName);
				if(item.value == 'mine') lObj._useMine(this._varName);
				if(item.value == 'mineAll') lObj._useMineAll(); 
				if(item.value == 'theirs') lObj._useTheirs(this._varName);
				if(item.value == 'theirsAll') lObj._useTheirsAll(); 
			}
		};
		var eleWCM = this._hostComponentId +'.WCM.'+this.listVariableName+ '.' +  varName.toUpperCase();
		$(eleWCM).style.visibility = 'hidden';
		if(typeof this._menu == 'undefined') {
			this._menu = new A5.Menu(mD,mS);
		} else {
			this._menu.populate(mD);
		}
		this._menu._varName = varName;
		this._menu._eleWCM = eleWCM;
		var ele = '';
		if(eleIn == false) {
			ele = window[this._hostComponentId + '_DlgObj'].getPointer(varName);
		} else { 
			ele = eleIn;
		}
		this._menu.show('dropdown',ele);  
	}
	,
	_useMine: function(varName) { 		this.resolveConflictUsingMine(varName);
	}
	,
	_useTheirs: function(varName) { 		this.resolveConflictUsingTheirs(varName);
	}
	,
	_useMineAll: function() { 		this.resolveConflictUsingMine();
	}
	,
	_useTheirsAll: function() { 		this.resolveConflictUsingTheirs();
	}
	,
	resolveConflictUsingMine: function() { 		
		var control = typeof arguments[0] != 'undefined' ? arguments[0] : '__all__';
		var formViewObject = arguments[1]; 
		var flagFV = false;
		if(typeof formViewObject != 'undefined') flagFV = true;
		var row = this.selection[0];
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		if(typeof wce == 'undefined') return false;
		var arr = [];
		if(control == '__all__') arr = this._getControlsInDv();
		else arr.push(control);
		var myValue = '';
		var indx = '';
		var fn = '';
		var ix2 = '';
		for(var i = 0; i < arr.length; i++) {
			if(!flagFV) myValue = window[this._hostComponentId + '_DlgObj'].getValue(arr[i]);
			else myValue = formViewObject.conflictValues.newValue;
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
			if(indx >0 -1) {
				ix2 = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
				if(ix2 == -1) return false 
				if(!flagFV) fn = this._getListFieldFromControl(arr[i]);
				else fn = arr[i];
				_d._oldData[fn] = wce[ix2].oldValueCurrent;
				wce.splice(indx,1);
			}
		}
		if(wce.length == 0) {
			_d._writeConflictErrors = false;
			_d._hasWriteConflictErrors = false;
			this.updateRow(row,_d);
		};
		if(_d._hasWriteConflictErrors == false) { 
			var parentList = this.parentList;
			if(typeof parentList != 'undefined') {
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				lObj._setChildHasWriteConflictFlag();
			}
		}
		this._clearServerSideErrors();
		this._showWriteConflictErrors();
	}
	,
	resolveConflictUsingTheirs: function() { 		
		var control = typeof arguments[0] != 'undefined' ? arguments[0] : '__all__';
		var formViewObject = arguments[1]; 
		var flagFV = false;
		if(typeof formViewObject != 'undefined') flagFV = true;
		var row = this.selection[0];
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		if(typeof wce == 'undefined') return false;
		var arr = [];
		if(control == '__all__') {
			arr = this._getControlsInDv();
		} else { 
			if(control.constructor == Array) { 
				arr = control;
			} else { 
				arr.push(control);
			}
		}
		var indx = '';
		var fn = '';
		var ix2 = '';
		for(var i = 0; i < arr.length; i++) {
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
			if(indx >0 -1) {
				ix2 = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
				if(ix2 == -1) return false 
				if(!flagFV) fn = this._getListFieldFromControl(arr[i]);
				else fn = arr[i];
				_d[fn] = wce[ix2].oldValueCurrent;
				_d._oldData[fn] = wce[ix2].oldValueCurrent;
				if(!flagFV) window[this._hostComponentId + '_DlgObj'].setValue(arr[i], wce[ix2].oldValueCurrent,false);
				wce.splice(indx,1);
			}
		}
		if(wce.length == 0) {
			_d._writeConflictErrors = false;
			_d._hasWriteConflictErrors = false;
		};
		var allArr = this._getControlsInDv();
		if(flagFV) {
			allArr = [];
			for(var n in _d._oldData) { 
				allArr.push(n);
			}
		}
		_d._isDirty = false;
		var tempData = '';
		for(var i = 0; i < allArr.length; i++) {
			fn = this._getListFieldFromControl(allArr[i]);
			if(flagFV) fn = allArr[i];
			tempData = _d._oldData[fn];
			if(tempData == null) tempData = '';
			if( _d[fn] != tempData ) {
				_d._isDirty = true;
				break;
			}
		}
		this.updateRow(row,_d);
		this._clearServerSideErrors();
		this._showWriteConflictErrors();	
		if(_d._hasWriteConflictErrors == false) { 
			var parentList = this.parentList;
			if(typeof parentList != 'undefined') {
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				lObj._setChildHasWriteConflictFlag(); 
			}
		}
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
	}
	,
	_stripHTML: function(txt,length) { 		var ele = document.createElement('div');
		ele.innerHTML = txt;
		var txt2 = ele.textContent;
		var txt3 = txt2.substr(0,length);
		if(txt3.length < txt2.length) txt3 = txt3 + '...';
		delete ele;		
		return txt2;
	}
	,
	_showWriteConflictErrors: function(row) { 		var _d = this._getRowData(row);
		if(typeof _d == 'undefined') return false; 
		if(typeof _d._writeConflictErrors == 'undefined') return false;
		if(typeof _d._hasWriteConflictErrors == 'undefined') return false;
		if(_d._hasWriteConflictErrors == false) return false;
		_e = _d._writeConflictErrors
		var arr = [];
		for(var i = 0; i < _e.length; i++) {
			delete obj;
			var obj = {};
			obj.id =  this._hostComponentId +  '.V.R1.' + _e[i].varName.toUpperCase();
			obj.message = _e[i].errorText;
			arr.push(obj);
		}
		var arrFix = [];
		for(var i = 0; i < arr.length; i++) { 
			if($(arr[i].id)) arrFix.push(arr[i]);
		}
		if(arrFix.length > 0) window[this._hostComponentId + '_DlgObj'].setErrors(arr);;
	}
	,
	_showServerSideErrors: function(row) { 		var _d = this._getRowData();
		if(typeof _d == 'undefined') return false; 
		if(typeof _d._globalErrors != 'undefined') {
			if(_d._globalErrors != '') {
				this._showGlobalError(_d._globalErrors);
			}
		}
		if(typeof _d._serverSideErrors == 'undefined') return false;
		if(typeof _d._hasServerSideError == 'undefined') return false;
		if(_d._hasServerSideError == false) return false;
		_e = _d._serverSideErrors;
		var arr = [];
		for(var i = 0; i < _e.length; i++) {
			delete obj;
			var obj = {};
			if(typeof _e[i].varName != 'undefined') { 
				obj.id = this._hostComponentId + '.V.R1.' + _e[i].varName.toUpperCase();
				obj.message = _e[i].errorText;
				obj.errorType = 'serverside';
				arr.push(obj);
			}
		}
		var arrFix = [];
		for(var i = 0; i < arr.length; i++) { 
			if($(arr[i].id)) arrFix.push(arr[i]);
		}
		if(arrFix.length > 0) window[this._hostComponentId + '_DlgObj'].setErrors(arr);;
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj._listRowSelect(this.listVariableName);
	}
	,
	_clearServerSideErrors: function() {		var ea = window[this._hostComponentId + '_DlgObj']._eh._e;
		if(typeof ea == 'undefined') return false;
		var arr = this._getControlsInDv();
		var fa = [];
		var id = '';
		for(var i = 0; i < arr.length; i++) {
			id = this._hostComponentId + '.V.R1.' + arr[i].toUpperCase()
			if(window[this._hostComponentId + '_DlgObj']._findArrayProp(ea,'id',id) >= 0) fa.push(id);
		}
		window[this._hostComponentId + '_DlgObj'].clearErrors(fa);
		this._clearGlobalError();
	}
	,
	_hasClientSideError: function() { 		var ea = window[this._hostComponentId + '_DlgObj']._eh._e;
		if(typeof ea == 'undefined') return false;
		var arr = this._getControlsInDv();
		var indx = '';
		for(var i = 0; i < arr.length; i++) {
			id = this._hostComponentId + '.V.R1.' + arr[i].toUpperCase()
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(ea,'id',id);
			if(indx >= 0) {
				if( ea[indx].clientSide == true) {
					return true;
				}
			}
		}
		return false;
	}
	,
	_getRowData: function() { 		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		if(rn > -1) return this.getData(rn);
		else return this.getData(this.selection[0]);
	}
	,
	setListClean: function() {		for(var i = 0; i < this._data.length; i++) { 
			this.setRowClean(i);
		}
	}
	,
	deleteRow: function() { 		
		var _rn = this.selection[0];
		if(typeof _rn == 'undefined') return false;
		if(this._executeEvent('detailView.canDeleteRow',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._deleteRowLow();
			return true;
		}
		var classInst = this;
		if(typeof this.customization == 'undefined') return false;
		var msg = this.customization.dv.confirmDeleteWarning.message;
		var image = this.customization.dv.confirmDeleteWarning.icon;
		var iconType = window[this._hostComponentId + '_DlgObj']._iconType(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,iconType);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		var title = this.customization.dv.confirmDeleteWarning.title;
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._deleteRowLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	resetRow: function() { 		if(this._executeEvent('detailView.canResetRow',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._resetRowLow();
			return true;
		}
		var classInst = this;
		var msg = this.customization.dv.confirmRowResetWarning.message;
		var image = this.customization.dv.confirmRowResetWarning.icon;
		var iconType = window[this._hostComponentId + '_DlgObj']._iconType(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,iconType);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		var title = this.customization.dv.confirmRowResetWarning.title;
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._resetRowLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	_resetRowLow: function() { 		var existingData = this.getData(this.selection[0]);
		if(typeof existingData == 'undefined') return false;
		if(typeof existingData._oldData == 'undefined') return false;
		var data = {};
		$u.o.assign(data,existingData._oldData);
		data._isDirty = false;
		data._isDeleted = false;
		data._hasServerSideError = false;
		data._serverSideErrors = false;
		data._hasWriteConflictErrors = false;
		data._writeConflictErrors = false;
		data._oldData = false;
		delete data._globalErrors;
		delete data._globalErrorsRaw;
		this.updateRow(this.selection[0],data);
		var existingData = this.getData(this.selection[0]);
		delete existingData._globalErrors;
		delete existingData._globalErrorsRaw;
		this.updateRow(this.selection[0],existingData);
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
		this.populateUXControls();
		this._refreshDebugInfo();
		var topParent = this.allParentLists[this.allParentLists.length -1];
		if(typeof topParent != 'undefined') { 
			var lObjTP = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
			var _r = lObjTP._getRoute();
			var _ra = this.__routeToArray(_r)
			this.setRowCleanPreserveState(_ra);
		}
		this._executeEvent('detailView.afterResetRow',{});
	}
	,
	__routeToArray: function(_r) { 		var arr = [];
		for(var i = 0; i < _r.length; i++) { 
			if(i==0) {
				arr.push(_r[i].row);
			} else { 
				arr.push('__LIST__' +_r[i].list);
				arr.push(_r[i].row);
			}
		}
		return arr; 
	}
,
	_arrayIsDirty: function(arr) { 		var flag = false;
		for(var i = 0; i < arr.length; i++) { 
			if(arr[i]._isDirty) { 
				return true;
			}
		}
		return false;
	}
,
	_deleteRowLow: function() { 		
		var data = this.getData(this.selection[0]);
		if(typeof data == 'undefined') return false;
		var flagNewRow = '';
		if(typeof data._isNewRow != 'undefined') flagNewRow = data._isNewRow;
		if(flagNewRow) { 
			var _rn = this.selection[0];
			var _newRow = _rn;
			if( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;
			this.nullOutDetailViewRecord();
			this.removeRows([_rn]);
			var flagListIsClean = !this._arrayIsDirty(this._data);
			data._isDeleted = true;
			var parentListName = this.parentList;
			if(typeof parentListName != 'undefined') {
				var flagIsNewRow = false;
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
				var parentData = plObj.getData(plObj.selection[0]);
				var parentData2 = parentData;
				var parentDataSublist = parentData['__LIST__' + this.listVariableName];
				var indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(parentDataSublist,'*key',data['*key']);
				parentDataSublist.splice(indx,1);
				var flagLoop = true;
				var parentList = plObj;
				while(flagLoop && flagListIsClean) { 
					if( (typeof parentData['_oldData'] == 'undefined' || !parentData['_oldData']) && (typeof parentData._isNewRecord != 'undefined' || !parentData._isRewRecord)    ) {
						parentData._isDirty = false;
						parentData._flagGlobalErrorInChild = false;
						if(typeof parentList.parentList == 'undefined') break;
						parentList = window[this._hostComponentId + '_DlgObj'].getControl(parentList.parentList);
						if(parentList) { 
							parentData = parentList.getData(parentList.selection[0]);
						} else { 
							break;
						}
					} else {
						break;
					}
				}
				var topParent = this.allParentLists[this.allParentLists.length -1];
				var lTop = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
				var topParentData = lTop.getData(lTop.selection[0]);
				lTop._resetFlags(topParentData);
				lTop._refreshListRecursive();
			}
			this.setValue(_newRow);
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.persistVariablesToLocalStorage();
			this._executeEvent('detailView.afterDeleteRow',{})
			if(flagNewRow) {
					var lObjP = this._getTopParentListObject();
					var _dlgObj = window[this._hostComponentId + '_DlgObj'];
					var _mode = _dlgObj.__listPersistMode(lObjP.listVariableName);
				if(_mode == 'edits') { 
					var parentListId = this._getTopParentListObject().listVariableName;
					_dlgObj.persistListToLocalStorage(parentListId, { mode: 'update'});
				}			
			}
			return false;
		}
		data._isDirty = true;
		data._hasServerSideError = false;
		data._serverSideErrors = false;
		data._hasWriteConflictErrors = false;
		data._writeConflictErrors = false;
		data._oldData = false;
		data._isDeleted = true;
		data = this._base64Prefix(data,true);
		this.updateRow(this.selection[0],data);
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
		this.populateUXControls();
		this._refreshDebugInfo();
		this._executeEvent('detailView.afterDeleteRow',{});
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var flagIsNewRow = false;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				plObj._setDirtyByChild(false);
			}
		}
		if(this.synchronizeImmediately) { 
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			var flagOnLine = _dlgObj._getOnlineStatus();
			if (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);
		}
	}
	,
	_base64Prefix: function(_d,flagRemove) { 		var n = '';
		var b64prefix = ''
		for(var i = 0; i < this._listFields.length; i++) {
			if(typeof this._listFields[i].base64Prefix !== 'undefined') { 
				n = this._listFields[i].name;
				b64prefix = this._listFields[i].base64Prefix;
				_d[n] = _d[n].replace(b64prefix,'');
				if(!flagRemove) _d[n] = b64prefix + _d[n];
			}
		}
		return _d;
	}
	,
	_resetFlags: function(_d) { 	
	var r = A5.u.object.each(_d,function(name,value,path,result) {
		if(name == '_isDirty'|| name == '_isNewRow' ){
			if(value) { 
				path = path.splice(0,path.length -3);  
				result.push({'property' : '_isDirty', path: JSON.stringify(path)} );
				while(path.length > 0) { 
					path = path.splice(0,path.length -2)
					result.push({'property' : '_isDirty', 'path': JSON.stringify(path)});
				}
			}
		}
		if(name == '_hasServerSideError' || name == '_flagServerSideErrorInChild' ) { 
			if(value) { 
				path = path.splice(0,path.length -3);  
				result.push({'property' : '_flagServerSideErrorInChild', path: JSON.stringify(path)} );
				while(path.length > 0) { 
					path = path.splice(0,path.length -2)
					result.push({'property' : '_flagServerSideErrorInChild', 'path': JSON.stringify(path)});
				}
			}
		}
		if(name == '_hasGlobalErrors' || name == '_flagGlobalErrorInChild' ) { 
			if(value) { 
				path = path.splice(0,path.length -3);  
				result.push({'property' : '_flagGlobalErrorInChild', path: JSON.stringify(path)} );
				while(path.length > 0) { 
					path = path.splice(0,path.length -2)
					result.push({'property' : '_flagGlobalErrorInChild', 'path': JSON.stringify(path)});
				}
			}
		}
		if(name == '_hasWriteConflictErrors' || name == '_flagWriteConflictErrorInChild' ) { 
			if(value) { 
				path = path.splice(0,path.length -3);  
				result.push({'property' : '_flagWriteConflictErrorInChild', path: JSON.stringify(path)} );
				while(path.length > 0) { 
					path = path.splice(0,path.length -2)
					result.push({'property' : '_flagWriteConflictErrorInChild', 'path': JSON.stringify(path)});
				}
			}
		}
	});
	var _d2 = '';
	var path = '';
	var property = '';
	for(var i = 0; i < r.length; i++) { 
 		 _d2 = _d
 		path = JSON.parse(r[i].path)
 		property = r[i].property
 		for(var j = 0; j < path.length; j++) { 
 			_d2 = _d2[path[j]];
 		}
 		_d2[property] = true;
	}
}
,
	resetForm: function() { 		if(this._executeEvent('detailView.canUndoEdits',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._resetFormLow();
			return true;
		}
		var classInst = this;
		var msg = this.customization.dv.confirmFormResetWarning.message;
		var image = this.customization.dv.confirmFormResetWarning.icon;
		var title = this.customization.dv.confirmFormResetWarning.title;
		var iconType = window[this._hostComponentId + '_DlgObj']._iconType(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,iconType);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._resetFormLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	_resetFormLow: function() {		this.populateUXControls();
		var ctrls = this._getControlsInDv();
		var eleId = '';
		var arr = [];
		var indx = -1;
		for(var i = 0; i < ctrls.length; i++) {
			window[this._hostComponentId + '_DlgObj'].setControlDirty(ctrls[i],false);
			if( window[this._hostComponentId + '_DlgObj']._eh._e.length > 0) {
				eleId = this._hostComponentId +  '.V.R1.' + ctrls[i].toUpperCase();
				indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(window[this._hostComponentId + '_DlgObj']._eh._e,'id',eleId);
				if(indx >= 0 ) arr.push(eleId);
			}
		}
		if(arr.length > 0) window[this._hostComponentId + '_DlgObj'].clearErrors(arr);
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj.refreshClientSideComputations();
		this._executeEvent('detailView.afterUndoEdits',{});
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj.persistVariablesToLocalStorage();
	}
	,
	detailViewIsDirty: function() {		
		var flagDrillDown = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var isDirty = false;
		this._nameOfListWithDirtyDetailView = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			if(window[this._hostComponentId + '_DlgObj'].getControlDirty(controlName.toUpperCase())) {
				isDirty =  true;
				this._nameOfListWithDirtyDetailView = this.listVariableName;
				break;
			}
		}
		this._dvIsDirty = isDirty;
		if(isDirty == false && flagDrillDown) {
			var lObj = '';
			for(var i = 0; i < this.childLists.length; i++) {
				lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
				if(lObj) {
					isDirty = lObj.detailViewIsDirty(flagDrillDown);
					if(isDirty) {
						this._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;
						$('msg1').innerHTML = this._nameOfListWithDirtyDetailView ;
					}
					if(isDirty) break;
				}
			}
		}
		return isDirty;
	}
	,
	listIsDirty: function() {		
		for(var i = 0; i < this._data.length; i++) { 
			if(typeof this._data[i]._isDirty != 'undefined') { 
				if(this._data[i]._isDirty) { 
					return true;
				 }
			}
		}
		return false;
	}
	,
	_parentListHasActiveRow: function() {		var pl = this.parentList;
		if(typeof pl == 'undefined') {
			return true;
		}
		var l = window[this._hostComponentId + '_DlgObj'].getControl(pl);
		if(!l) return false;
		var s = l.selection[0];
		if(typeof s == 'undefined') return false;
		return true;
	}
	,
	nullOutDetailViewRecord: function() {		var flagDisable = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var val = '';
		var flagParentListHasActiveRow = this._parentListHasActiveRow();
		if(flagDisable) {
			if(flagParentListHasActiveRow) flagDisable = false;
		}
		var debugMsg = 'CurrentList: ' + this.listVariableName + ' - flagDisable is set to: ' + flagDisable + ' my parentList has active row: ' +  this._parentListHasActiveRow();
		var controlName = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			window[this._hostComponentId + '_DlgObj'].setValue(controlName,val,false);
		}
		this._deselectAll();
		this._clearServerSideErrors();
		if(flagDisable) this.disableDetailView(true);
		else this.disableDetailView(false)
	}
	,
	newDetailViewRecord: function() {	
		var flagParentIsDeleted = false;
		var pData = '';
		if(this.allParentLists.length > 0) { 
			for(var i = 0; i < this.allParentLists.length; i++) {
				pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
				if(typeof pObj.selection[0] != 'undefined') {
					pData = pObj.getData(pObj.selection[0]);
					if(typeof pData._isDeleted != 'undefined') {
						if(pData._isDeleted) {
							flagParentIsDeleted = true;
							break;
						}
					}
				}
			}
		}
		if(this._executeEvent('detailView.canNewRecord',{}) == false) return false;
		var val = '';
		var controlName = '';
		var defaultJS = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			defaultJS = this._listFields[i].defaultValue;
			if(defaultJS != '') {
				val = Function(this._listFields[i].defaultValue).call(this);
			} else { 
				val = '';
			}
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.setValue(controlName,val,false);
			var controlType = _dlgObj._getControlType(controlName).toLowerCase();
			if(controlType == 'signaturecapture') { 
				_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),'canvas');
				_dlgObj._functions._clearCanvas(controlName.toUpperCase())
			}
		}
		this._deselectAll();
		this._clearServerSideErrors();
		this._executeEvent('detailView.afterNewRecord',{});
		this._emptyAllChildLists();
		if(flagParentIsDeleted) this.disableDetailView(true);
		else this.disableDetailView(false);
		this._dvmode = 'enter';
		this._setNullMode();
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'enter'});
		_dlgObj.refreshClientSideComputations();
		this._selectedRow = -1;
		this._currentDetailViewKey = undefined;
	}
	,
	_setNullMode: function() { 		
		if(typeof this._dvmode == 'undefined') return true;
		if(this._dvmode == 'enter') { 
			if(typeof this._allowNullSelectionStored == 'undefined') {
				this._allowNullSelectionStored = this.allowNullSelection;
			}
			this.allowNullSelection = true;
		}
		if(this._dvmode != 'enter') { 
			if(typeof this._allowNullSelectionStored != 'undefined') { 
				this.allowNullSelection = this._allowNullSelectionStored;
			}
		}
	}
,
	_emptyAllChildLists: function() { 		for(var i = 0; i < this.childLists.length; i++) {
			var lobj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
			if(lobj) {
				if(lobj._emptyList) lobj._emptyList();
				window[this._hostComponentId + '_DlgObj'].setValue(lobj.listVariableName,false,false);
			}
		}
	}
	,
	_emptyChildList: function(row) { 	
		var _d = this.getData(row);
		var lName = '';
		for(var name in _d) {
			if(_d[name] != null) {
				if(_d[name].constructor == Array) {
					lName = name.split('__LIST__')[1];
					if(typeof lName != 'undefined') {
						_d[name] = [];
					}
				}
			}
		}
	}
	,
	_getUXDetailViewControlName: function(field) {		if(!this._hasDetailView) {
			return '';
		}
		if(this._detailView.method == 'fieldMap') {
			for(var i = 0; i < this._detailView.fieldMap.length; i++) { 
				if(this._detailView.fieldMap[i].field == field) {
					return this._detailView.fieldMap[i].control;
				}
			}
			return '';
		} else { 
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			var controlsInContainer = _dlgObj.__controlNesting[this._detailView.container];
			if(typeof controlsInContainer == 'undefined') return '';
			var indx = controlsInContainer.indexOf(field);
			if(indx == -1 ) return ''; 
			else return field;
		}
	}
	,
	_showGlobalError: function(txt) {		var flagShowAlerts = this.flagShowAlerts;
		if(typeof flagShowAlerts == 'undefined') flagShowAlerts = true;
		var gph = this._hostComponentId + '.V.R1.' + this._globalErrorPlaceHolder;
		var ele = $(gph);
		if(!ele) {
			if(flagShowAlerts) alert(txt);
			return false;
		}
		var cssTxt = this._detailViewGlobalErrorStyle;
		cssTxt = cssTxt + '; display: ;'
		ele.style.cssText = cssTxt;
		ele.innerHTML = txt;
	}
	,
	_clearGlobalError: function() {		var gph = this._hostComponentId + '.V.R1.' + this._globalErrorPlaceHolder;
		ele = $(gph);
		if(ele) {
			ele.style.display = 'none';
			ele.innerHTML = '';
		}
	}
	,
	updateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {		if(typeof options == 'undefined') options = {};
		if(typeof options.setFocusToTargetRow == 'undefined') options.setFocusToTargetRow = false;
		var obj = {};
		obj.programmatic = true;
		obj.data = {};
		$u.o.assign(obj.data,dataObj);
		obj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;
		obj.setFocusToTargetRow = options.setFocusToTargetRow;
		window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,null,obj);
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var thisData = obj.data;
			var flagIsNewRow = false;
			if(typeof thisData._isNewRow != 'undefined') flagIsNewRow = thisData._isNewRow;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				if (flagIsNewRow == false)  	plObj._setDirtyByChild(false);
				else plObj._setDirtyByChild(true,thisData,this.listVariableName);
			}
		}	
	}
	,
	addTableRow: function(dataObj,options) {		var flagRefresh = false;
		if(typeof options == 'undefined') {
			options = {};
		}
		if(typeof options.setFocusToTargetRow == 'undefined') options.setFocusToTargetRow = false;
		var obj = {};
		obj.programmatic = true;
		obj.data = {};
		$u.o.assign(obj.data,dataObj);
		obj.primaryKeyOrRowNumber = null;
		obj.setFocusToTargetRow = options.setFocusToTargetRow;
		if(typeof options.insertRow == 'undefined') options.insertRow = false;		
		obj.insertRow = options.insertRow;
		obj.insertRowPosition = options.insertPosition;
		var _dlg = window[this._hostComponentId + '_DlgObj'];
		_dlg._updateListDataFromUXControls(this.listVariableName,null,obj);
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var thisData = obj.data;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				plObj._setDirtyByChild(true,thisData,this.listVariableName);
			}
		}
		this._onSelect();
		_dlg.refreshClientSideComputations();
	}
	,
	_setChildHasWriteConflictFlag: function() { 
	var _d = this.getData(this.selection[0]);
	var flag = this._hasChildWithWriteConflict(); 
	_d._flagWriteConflictErrorInChild = flag;
	if(typeof _d._oldData == 'undefined') { 
		var flag = this._hasChildWithDirtyData()
		_d._isDirty = flag; 
	}
	this.updateRow(this.selection[0],_d);
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') { 
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
		lObj._setChildHasWriteConflictFlag();
	}
	return false;
}
,
	_hasChildWithDirtyData: function() {
	var flag = false;
	var lObj = '';
	var data = '';
	for (var i = 0; i < this.childLists.length; i++) { 
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
		data = lObj.getData(lObj.selection[0]);
		if(typeof data._isDirty != 'undefined') {
			if(data._isDirty) flag = true;
		}
		if(flag == false) { 
			var flag2 = lObj._hasChildWithDirtyData();
			if(flag2) flag = true;
		}
	}
	return flag;
}
,
	_hasChildWithWriteConflict: function() {
	var flag = false;
	var lObj = '';
	var data = '';
	for (var i = 0; i < this.childLists.length; i++) { 
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
		data = lObj.getData(lObj.selection[0]);
		if(typeof data._hasWriteConflictErrors != 'undefined') {
			if(data._hasWriteConflictErrors) flag = true;
		}
		if(typeof data._flagWriteConflictErrorInChild != 'undefined') {
			if(data._flagWriteConflictErrorInChild) flag = true;
		}
		if(flag == false) { 
			var flag2 = lObj._hasChildWithWriteConflict();
			if(flag2) flag = true;
		}
	}
	return flag;
}
,
	_populateMyChildren: function() {
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		this._populateChildList(lname);
	}
}
,
	_emptyList: function() { 
	this.populate([]);
	this._currentDetailViewKey = undefined;
	this._selectedRow = -1;
	var e = $(this._hostComponentId + '.' + this.listVariableNameTrueCase + '.RECORDCOUNT');
	if(e) e.innerHTML = '0';
	this.nullOutDetailViewRecord(true); 
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lobj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lobj._emptyList();
	}
}
,
	_populateChildList: function(list) {
	var flagParentIsDeleted = false;
	lChildObj = window[this._hostComponentId + '_DlgObj'].getControl(list);
	if(typeof lChildObj._parentIsDeleted != 'undefined') flagParentIsDeleted = lChildObj._parentIsDeleted;
	var _d = this.getData(this.selection[0]);
	var flagClearChildLists = false;
	if(typeof _d == 'undefined' || _d == null || this.selectionData.length == 0) {
		flagClearChildLists = true;
	}
	if(typeof _d == 'undefined') {
		flagClearChildLists = true;
	}
	if(flagClearChildLists) { 
		this._emptyAllChildLists()
		return false;
	}
	var childDataObjectName = this._getChildDataObjectName(list);
	var _rd = _d[childDataObjectName];
	if(_rd == null || typeof _rd == 'undefined') { 
		_rd = [];
	}
	if(typeof _rd == 'undefined' || _rd.length == 0) {
		if(_d == false) _d = [];
		_d[childDataObjectName] = [];
		_rd = _d[childDataObjectName]
	}
	var lobj = window[this._hostComponentId + '_DlgObj'].getControl(list);
	if(lobj) {
		lobj.populate(_rd);
		var e = $(this._hostComponentId + '.' + lobj.listVariableNameTrueCase + '.RECORDCOUNT');
		if(e) e.innerHTML = _rd.length;
		lobj.disableDetailView(false);
		if(lobj.allowNullSelection) {
			if(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); 
			for(var i = 0; i < lobj.childLists.length; i++) { 
				var lname = lobj.childLists[i];
				lobj._populateChildList(lname);
			}
		}
	}
	this._currentSelection = this.selection[0];
	if(flagParentIsDeleted) lobj.disableDetailView(true);
}
,
	_setSynchProgress: function(pct) {
	var x = '';
	if(Number(pct) == 0) x = 'none';
	var eleO = $('SYNCHPROGRESS.' + this.listVariableName);
	if(eleO) eleO.style.display = '';
	var eleI = $('SYNCHPROGRESS.' + this.listVariableName + '.SLIDER');
	if(eleI) {
		eleI.style.display = x;
		eleI.style.width = '' + pct + '%';
	}
}
,
	_hideSynchProgress: function(pct) {
	var eleO = $('SYNCHPROGRESS.' + this.listVariableName);
	if(eleO) eleO.style.display = 'none';
}
,
	_cancelBatchSynchronize: function() { 
	var flag = this._executeEvent('detailView.canCancelBatch',{});
	if(!flag) { 
		return false;
	}
	this._flagCancelBatchSynchronize = true;
}
,
	_harvestMediaFields_low: function(arr,objListName,objState,data,options) {
	var _mediaMap = '';;
	var _mediaFields = '';
	var listName = '';
	var lObj = '';
	var flagNested = false;
	var objDirty = false;
	var fieldDirty = false;
	var lName = '';
	var flagCheck = '';
	var flagIsMediaField = false;
	var mode = options.mode;
	if(typeof mode == 'undefined') mode = '';
	var flagCapture = false;
	var flagCapture2 = false;
	var flagChildTable = false;
	for(var prop in data) { 
		if(prop == '_dirtyImages' || prop == '_writeConflictErrors' || prop == '_serverSideErrors' || prop =='_globalErrorsRaw' || prop == '_globalErrors' ) continue;
		if( data[prop] != null && data[prop].constructor == Array) { 
			if(data[prop].length > 0 && prop.indexOf('__LIST__') ==0) { 
				objListName.push({table: prop, nested: true});
				for(var i = 0; i < data[prop].length; i++) { 
					objState.push( {table: objListName[  objListName.length -1]['table'], row: i}) ;
					this._harvestMediaFields_low(arr,objListName,objState,data[prop][i],options);
					objState.pop();
				}
				objListName.pop();
			}
		} else { 
			if(objListName.length == 0) { 
				continue;
			}
			listName   = objListName[objListName.length -1]['table'];
			flagNested = objListName[objListName.length -1]['nested'];
			if(listName == '_top_') {
				lObj = this;
				flagChildTable = false;
			} else { 
				listName = listName.split('__LIST__')[1];
				if(typeof listName != 'undefined') {
					var _dlgObj = window[this._hostComponentId + '_DlgObj'];
					lObj = _dlgObj.getControl(listName);
					flagChildTable = true;
				}
			}
			if(lObj) { 
				flagCheck = true;
				_mediaMap = lObj._mediaFields;  
				flagIsMediaField = false;
				if(!options.flagDirtyOnly) {
					if(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;
					if(flagIsMediaField) { 
						lName = objListName[objListName.length -1]['table'];
						if(lName == '_top_') lName = lObj.listVariableName;
						flagCapture = false;
						if(mode == '') { 
							if(data[prop] != null && data[prop] != '' && data[prop].toLowerCase().indexOf('file:') != 0) flagCapture = true;
						} else if(mode == 'file') { 
							if(data[prop] != null && data[prop] != '' && data[prop].toLowerCase().indexOf('file:') == 0) flagCapture = true;
						}
						if(flagCapture) {
							arr.push({
								listFieldName: prop, 
								filename: data[prop], 
								listName: lName, 
								route: JSON.stringify(objState),
								flagChildTable: flagChildTable
								});
						}
					}
				} else {
					if(flagCheck) {
						fieldDirty = false;
						if( (typeof data._dirtyImages != 'undefined') && (data._dirtyImages.constructor == Array) ) {
							objDirty = data._dirtyImages[prop];
							fieldDirty = false;
							if(typeof objDirty != 'undefined') fieldDirty = objDirty;
						} else if(data._dirtyImages == false) { 
							fieldDirty = false;
						} else { 
							if(data._isNewRow) {
								fieldDirty = true;
							} else {
								if(typeof data._oldData != 'undefined') { 
									if(data[prop] != data._oldData[prop]) fieldDirty = true;
								}
							}
						}
						_mediaMap = lObj._mediaFields;
						if(_mediaMap.indexOf(prop) > -1) flagIsMediaField = true;
						if(flagIsMediaField) { 
						}
						flagCapture2 = false;
						if(options.flagCleanOnly) { 
							if(!fieldDirty) {
								if(flagIsMediaField) flagCapture2 = true;
							}
						} else { 
							if(fieldDirty) { 
								if(flagIsMediaField) flagCapture2 = true;
							}
						}
						var flagDeleted = false;
						if(typeof data['_isDeleted'] != 'undefined') { 
							if(data['_isDeleted']) flagDeleted = true;
							flagCapture2 = false;
						}
						if( ( ( flagCapture2 )   && data[prop] != null &&  data[prop].toLowerCase().indexOf('file:') == 0 && data[prop].toLowerCase().indexOf('null_1x1.png' ) == -1 )) {
							lName = objListName[objListName.length -1]['table'];
							if(lName == '_top_') {
								lName = lObj.listVariableName;
								flagChildTable = false;
							} else  { 
								flagChildTable = true;
							}
							arr.push({
								listFieldName: prop, 
								filename: data[prop], 
								listName: lName, 
								route: JSON.stringify(objState),
								flagChildTable: flagChildTable
								});
						}
					}
				}
			}
		}
	}
}
,
	_harvestMediaFields: function() {   
	if (typeof window['cordova'] == 'undefined') return [];
	var ops = arguments[0];
	if(typeof ops == 'undefined') ops = {};
	if(typeof ops.dirtyOnly == 'undefined') ops.dirtyOnly = true;
	if(typeof ops.cleanOnly == 'undefined') ops.cleanOnly = false;
	if(typeof ops.mode == 'undefined') ops.mode = '';
	var _r = ops.row;
	if(typeof _r == 'undefined') _r = -1;
	var arr = [];
	var objListName = [];
	var objState = [];
	var flagRowIsDirty = '';
	var flagDirtyOnly = ops.dirtyOnly;
	var options = {
		flagDirtyOnly: flagDirtyOnly,
		mode: ops.mode,
		flagCleanOnly: ops.cleanOnly
	};
	var flagSingleRow = false;
	if(_r == -1) {
		var _d = this._data;
	} else { 
		var _d = [this._data[_r]];
		flagSingleRow = true;
	}
	var _row = '';
	objListName.push({table: '_top_', nested: false});	
	for(var i = 0; i < _d.length; i++) { 
		flagRowIsDirty = false;
		if(typeof _d[i]._isDirty != 'undefined') flagRowIsDirty = _d[i]._isDirty;
		if(flagRowIsDirty || !flagDirtyOnly || ops.cleanOnly ) { 
			_row = i;
			if(flagSingleRow) _row = _r;
			objState.push( {table: objListName[  objListName.length -1]['table'], row: _row})  
			this._harvestMediaFields_low(arr,objListName,objState,_d[i],options);
			objState.pop();		
		}
	}	
	if (!ops.cleanOnly) {
		 this._mediaFieldsArray = arr;
	}
	return arr;
}
,
	_pushMediaFieldArrayToList: function(arr) { 
	window.onerror = function(err) { alert('Unhandled Javascript Error - in _pushMediaFieldArrayToList  ' + JSON.stringify(err));};
	if (typeof window['cordova'] == 'undefined') return false;
	var flagUnFix = false;
	if(typeof arguments[1] != 'undefined') flagUnFix = arguments[1];
	var lObj = this;
	var _data = lObj._data;
	if(_data.length == 0) return false;
	var _di = '';
	var r = '';
	var table = '';
	for(var i = 0; i < arr.length; i++) { 
		arr[i].routeObj = JSON.parse(arr[i].route);
		r = arr[i].routeObj[0].row;
		for(var j = 0; j < arr[i].routeObj.length; j ++) { 
			table = arr[i].routeObj[j].table;
			r = arr[i].routeObj[j].row;
			if(table == '_top_') { 
				_di = _data[r];
			} else { 
				if(typeof _di[table] == 'undefined') return false;
				_di = _di[table][r];
			}
		};
		if(typeof _di == 'undefined') return false;
		_di._flagMediaFileUploadError = false;
		if(!flagUnFix) {
			if(typeof arr[i].modifiedValue != 'undefined') {
				_di[arr[i].listFieldName] = arr[i].modifiedValue;
			} else { 
				_di._flagMediaFileUploadError = true;
			}
		} else { 
			_di[arr[i].listFieldName] = arr[i].filename;
		}
	}
	var _route = lObj._getRoute();
	lObj.refresh();
	this._setRoute(_route);
	if(flagUnFix) {
		this.populateUXControls();
	}
	if(this.__flagPersist) { 
		if(this.persistToStorage) { this.persistToStorage({});	}
	}
}
,
	_unFixMediaFields: function() { 
	if (typeof window['cordova'] == 'undefined') return false;
	var arr = this._mediaFieldsArray;
	if(typeof arr == 'undefined') return false;
	this._pushMediaFieldArrayToList(arr,true);
	delete this._mediaFieldsArray;
}
,
	_syncMediaFiles: function() { 
	if (typeof window['cordova'] == 'undefined') return false;
	var _list = this._mediaFiles;
	var _onProgressEvent = this._phoneGap.mediaFiles.onProgressEvent;
	var listName = this.listVariableName;
	var componentAlias = this._hostComponentId;
	var target = this._phoneGap.mediaFiles.target.toLowerCase();
	if(target == 's3') {
		var S3ConnectionString = this._phoneGap.mediaFiles.s3.connectionString;
	} else { 
		target = 'alphaanywhere';
	}
	var targetFileNameFunction = this._phoneGap.mediaFiles.targetFilenameFunction;
	var protectedRead = this._phoneGap.mediaFiles.protectedRead;
	var fileNameTemplate = this._phoneGap.mediaFiles.template;
	var instanceId = A5.ts();
	if(typeof device != 'undefined') {
		if(typeof device.uuid != 'undefined') instanceId = device.uuid;
	}
	targetFileNameFunction = targetFileNameFunction.replace('<DeviceId>',instanceId);
	var showProgress = this._phoneGap.mediaFiles.showProgress;
	var onErrorFunction = this._phoneGap.mediaFiles.onErrorFunction;
	var pColor = '';
	var pElement = '';
	var pWidth = '';
	if(showProgress) { 
		pColor = this._phoneGap.mediaFiles.progress.color;
		pElement = this._phoneGap.mediaFiles.progress.element;
		pWidth = this._phoneGap.mediaFiles.progress.width;
	}
	var arr = _list;
	var s3Obj = {};
	var aaObj = {}
	if(target == 's3') {
		s3Obj.connectionString = S3ConnectionString;
		s3Obj.protectedRead = protectedRead;
	} else { 
	}
	var options = {
		specialMode: 'detailViewMediaUpload',
		target: target,
		listName: listName,
		componentAlias: componentAlias,
		AAServerOptions: aaObj,
		s3: s3Obj,
		showProgress: showProgress,
		onComputeS3Filename: Function('e',targetFileNameFunction),
		fileNameTemplate: fileNameTemplate,
		onProgressEvent: _onProgressEvent,
		onComplete: function(array) { 
			if(target == 'alphaanywhere') {
			} else {
				var mVal = '';
				for(var i = 0; i < array.length; i++) { 
					mVal = this.fileNameTemplate.replace('__name__',array[i].targetName);
					array[i].modifiedValue = mVal;
				}
			}
			var _dlgObj = window[this.componentAlias + '_DlgObj'];
			var lObj = _dlgObj.getControl(listName);
			lObj._pushMediaFieldArrayToList(array);
			var _dlgObj = window[options.componentAlias + '_DlgObj'];
			_dlgObj._list_executeEvent(listName,'detailView.afterMediaFilesUploaded',{array:array});
			var countSucceeded = 0;
			for(var i = 0; i < array.length; i++) { 
				if(array[i].succeeded) countSucceeded = countSucceeded + 1;
			}
			if(countSucceeded < array.length) { 
				var errorCount = array.length - countSucceeded;
				_dlgObj._list_executeEvent(listName,'detailView.onMediaFilesUploadErrors',{array:array, errorCount: errorCount})
			}
			_dlgObj.saveListEdits(options.listName,{rows: 'allRows', checkForMediaFiles: false, fixMediaFileReferences: true, resetMediaFileUploadErrors: false});
		},
		progress: {
			color: pColor,
			width: pWidth,
			individualProgress: false,
			showTotalProgress: true,
			allowCancel: false,
			progressElement: pElement
		},
		onError : onErrorFunction
	}
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var result = _dlgObj._list_executeEvent(listName,'detailView.beforeMediaFilesUploaded',{array:arr});
	if(!result) return false;
	_dlgObj.phoneGapFileUpload(arr,options); 
}
,
	_fetchMediaFiles: function() { 
	if(A5.log) A5.log('About to fetch media files');
	if (typeof window['cordova'] == 'undefined') return false;
	if (typeof this._mediaFields == 'undefined') return false;
	var _route = arguments[1];
	if(typeof _route == 'undefined') _route = false;
	var _r = arguments[0];
	if(typeof  _r == 'undefined') _r = -1; 
	var flagFetchMediaFiles = false;
	if(typeof this._phoneGap != 'undefined') { 
		if(typeof this._phoneGap.mediaFiles != 'undefined') { 
			if(typeof this._phoneGap.mediaFiles.download != 'undefined') {
				if(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != 'undefined') { 
					flagFetchMediaFiles = this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;
				}
			}
		}
	}
	if(!flagFetchMediaFiles) return false;
	var folder = this._phoneGap.mediaFiles.download.targetFolder;
	if(folder == '') { 
		alert('You have not specified the file download settings in the List builder. Edit the settings for List '+this.listVariableName+' and go to \'Detail View\' pane, \'PhoneGap Properties\'.');
		return false;
	}
	if(typeof folder == 'function') { 
			folder = folder.call();
	}
	this._flagFetchMediaHasRun = true;
	folder = folder + '/' + this.listVariableName;
	var listName = this.listVariableName;
	var showProgress = this._phoneGap.mediaFiles.download.showProgress;
	var fileSystemPart = 'persistent';
	if(typeof this._phoneGap.mediaFiles.download.targetFileSystem != 'undefined') {
		fileSystemPart = this._phoneGap.mediaFiles.download.targetFileSystem;
		if(typeof fileSystemPart == 'function') { 
			fileSystemPart = fileSystemPart.call();
		}
	}
	var pColor = '';
	var pElement = '';
	var pWidth = '';
	if(showProgress) { 
		pColor = this._phoneGap.mediaFiles.download.progress.color;
		pElement = this._phoneGap.mediaFiles.download.progress.element;
		pWidth = this._phoneGap.mediaFiles.download.progress.width;
	}
	var flagDeleteOrphans = false;
	if(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != 'undefined') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;
	var arr = this._harvestMediaFields({dirtyOnly: false, row: _r});
	if(A5.log) A5.log('Harvest media files has run.');
	if(A5.log) A5.log('Harvested media files (that must be downloaded): ' + JSON.stringify(arr,'','\t'));
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	if(A5.log) A5.log('Fire beforeMediaFilesDownload event');
	var result = _dlgObj._list_executeEvent(listName,'detailView.beforeMediaFilesDownloaded',{array:arr});
	if(!result) { 
		_dlgObj._list_executeEvent(listName,'detailView.afterMediaFilesDownloaded',{array:arr, aborted: true});
		return false;
	}
	if(arr.length > 0 ) { 
		var lObj = this;
		var _dlgObj = _dlgObj;
		var that = this;
		var options = {
			showProgress: showProgress,
			directory: folder,
			strip: true,
			filesystem: fileSystemPart,
			onComplete: function(array) { 
				var arr = [];
				var _d = lObj._data;
				for(var i = 0; i < array.length; i++) { 
					if(array[i].success) {
						array[i].modifiedValue = array[i].localFilename;
					} else { 
						array[i].modifiedValue = array[i].filename;
					}
				}
				if(A5.log) A5.log('File download complete.');
				if(A5.log) A5.log('Downloaded files: ' + JSON.stringify(array,'','\t'));
				if(A5.log) A5.log('Fire afterMediaFilesDownloaded event.');
				var result = _dlgObj._list_executeEvent(listName,'detailView.afterMediaFilesDownloaded',{array:array, aborted: false});
				if(!result) return false;
				if(A5.log) A5.log('Push translated media filenames to array.');
				lObj._pushMediaFieldArrayToList(array);
				if(flagDeleteOrphans) { 
					if(A5.log) A5.log('Delete orphan media files.');
					that._deleteOrphanMediaFiles()
				}
				if(A5.log) A5.log('Populate DetailView Controls.');
				that.populateUXControls();
				var r = that._getRoute()
				that._populateAllChildLists();
				that._setRoute(r);
				if(_route) {
					that._setRoute(_route);
					that.populateUXControls();
					that._setRoute(_route);
					that._populateAllChildLists();
					that._setRoute(_route);
				}
			},
			onProgressEvent: this._phoneGap.mediaFiles.download.onProgressEvent,
			progress: {
				color: pColor,
				width: pWidth,
				allowCancel: false,
				progressElement: pElement
			}
		}
		_dlgObj.phoneGapFileDownload(arr,options);	
	} else { 
		if(A5.log) A5.log('No media files to download - execute afterMediaFilesDownloaded.');
		 _dlgObj._list_executeEvent(listName,'detailView.afterMediaFilesDownloaded',{array:arr});
	}
}
,
	resolveFieldConflict: function(route,fieldName,oldValueCurrent,newValueMine) { 
	var _d = this._getDataFromRoute(route);
	var _routeCapture = this._getRoute();
	if(!_d) return false;
	if(typeof _d[fieldName] == 'undefined') return false;
	if(typeof _d['_oldData'] == 'undefined') return false;
	_d['_oldData'][fieldName] = oldValueCurrent;
	if(typeof newValueMine != 'undefined') {
		_d[fieldName] = newValueMine;
	} else { 
		_d[fieldName] = oldValueCurrent;
	}
	if(typeof _d['_writeConflictErrors'] != 'undefined') { 
		var _wce = _d['_writeConflictErrors'];
		for(var i = 0; i < _wce.length; i++)  { 
			if(_wce[i].fieldName == fieldName) { 
				_wce.splice(i,1);
			}
		}
		if(_wce.length == 0) { 
			_d['_hasWriteConflictErrors'] = false;
			_d['_writeConflictErrors'] = false;
		}	
	}
	var flagClean = true;
	for(var n in _d['_oldData']) {
		if(_d['_oldData'][n] != _d[n]) {
			flagClean = false;
			break;
		}
	}
	if(flagClean) { 
		delete _d['_oldData'];
		delete _d.__displayStyle;
		_d._isDirty = false;
		var flagLoop = true;
		while(flagLoop) { 
			route.pop();
			route.pop();
			if(route.length == 0) {
				break;
			};
			var _dp = this._getDataFromRoute(route);
			if(typeof _dp['_oldData'] == 'undefined') { 
				_dp._isDirty = false;
				delete _dp.__displayStyle;
			}
		}
		this._refreshListRecursive();
	}
}
,
	_refreshListRecursive: function() { 
	this.refresh();
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	for(var i = 0; i < this.childLists.length; i++) { 
		lObj = _dlgObj.getControl(this.childLists[i]);
		if(lObj) lObj._refreshListRecursive();
	}
}
,
	_deleteOrphanMediaFiles: function() { 
	var flagDownloadMediaFiles = false;
	if(typeof this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch != 'undefined') flagDownloadMediaFiles =this._phoneGap.mediaFiles.download.autodownloadFilesOnPullSynch;
	if(flagDownloadMediaFiles == false) return false;
	var flagDeleteOrphans = false;
	if(typeof this._phoneGap.mediaFiles.download.deleteOrphansAfterSync != 'undefined') flagDeleteOrphans =this._phoneGap.mediaFiles.download.deleteOrphansAfterSync;
	if(flagDeleteOrphans == false) return false;
	if (typeof window['cordova'] == 'undefined') return false;
	var folder = this._phoneGap.mediaFiles.download.targetFolder;
	if(folder == '') { 
		alert('You have not specified the file download settings in the List builder. Edit the settings for List '+this.listVariableName+' and go to \'Detail View\' pane, \'PhoneGap Properties\'.');
		return false;
	}
	if(typeof folder == 'function') { 
			folder = folder.call();
	}
	if(typeof this._flagFetchMediaHasRun == 'undefined' || this._flagFetchMediaHasRun == false ) { 
		alert('Sync media files method has not yet been run');
		return false;
	}
	if(folder.substring(0,1) == '/') folder = folder.substring(1);
	if(folder.substr( folder.length -1,1) == '/') { 
		folder = folder.substring(0,folder.length -1);
	}
	folder = folder + '/' + this.listVariableName;
	var that = this;
	var listName = this.listVariableName;
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var fileSystemPart = 'persistent';
	var folder = this._phoneGap.mediaFiles.download.targetFolder;
	if(typeof folder == 'function') { 
		folder = folder.call();
	}
	folder = folder + '/' + this.listVariableName.toUpperCase();
	if(typeof this._phoneGap.mediaFiles.download.targetFileSystem != 'undefined') {
		fileSystemPart = this._phoneGap.mediaFiles.download.targetFileSystem;
	}
	if(typeof this._phoneGap.mediaFiles.download.targetFileSystem != 'undefined') {
		fileSystemPart = this._phoneGap.mediaFiles.download.targetFileSystem;
		if(typeof fileSystemPart == 'function') { 
			fileSystemPart = fileSystemPart.call();
		}
	}
	var that = this;
	_onSuccessGotFiles = function(fileList) { 
		var arr = that._harvestMediaFields({dirtyOnly: false, mode: 'file'});
		var fr = [];
		var fi = '';
		for(var i = 0; i < fileList.length; i++) { 
			if(fileList[i][fileList[i].length-1] != '/') { 
				fr.push(_dirPath + fileList[i]);
			}
		}
		var fk = [] 
		for(var i = 0; i < arr.length; i++) { 
			fk.push(arr[i].filename);
		}
		fk.sort();
		var fd = [] 
		for(var i = 0; i < fr.length; i++) {
			if(fk.indexOf(fr[i]) == -1) { 
				fd.push(fr[i]);
			}
		}
		var result = _dlgObj._list_executeEvent(listName,'detailView.beforeDeleteOrphanMediaFiles',{array:fd});
		if(!result) return false;
		var countDeleted = 0;
		var _onDeleteSuccess = function() { 
			countDeleted++
			if(countDeleted == fd.length) { 
				_dlgObj._list_executeEvent(listName,'detailView.afterDeleteOrphanMediaFiles',{array:fd});
			}
		}
		var _error = function(e) { 
			countDeleted++
		}
		if(fd.length == 0) { 
			_dlgObj._list_executeEvent(listName,'detailView.afterDeleteOrphanMediaFiles',{array:fd});
		} else { 
			for(var i = 0; i < fd.length; i++) { 
				_dlgObj.phoneGapDeleteFileURL(fd[i], _onDeleteSuccess,_error);
			}
		}
		return false;
	}
	_onError = function(e) { 
		return true;
	};
	var _baseURI = _dlgObj.phoneGapGetLocalDirURL(fileSystemPart);;
	var _dirName = folder + '/';
	var _dirPath = _baseURI + _dirName;
	_dlgObj.phoneGapListFilesRecurseURL(_dirPath, _onSuccessGotFiles, _onError);
}
}
)
//End section - Add methods to List prototype
DLG1_DlgObj._listControls = ['GENERATORSLIST','BUSCAT','GENADMINLIST']
DLG1_DlgObj._localStorageSettings = {namespace: 'ALPHA_838ee954df704dea8a3eb33351a6e595',friendlyName: '',description: '',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingFolder: '',restore: {variables: false,data: false,state: false},compressData: false,minify: false,variablesToNotPersist: '',workingPreviewTestingMode: 'Browser',compressListData: false}
;
DLG1_DlgObj._editors['EDITORSET_4'] = {
	show: function(value,settings) { 
DLG1_DlgObj.panelSetActive('PANELCARD_EDITORS');
},
	hide: function(settings) { 
DLG1_DlgObj.panelSetActive('PANELCARD_FORMVIEW');
},
	onCommit: function(value,settings) { 
},
	autoCommit: true,
	editors: {"EDITOR_3":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_3_ADDRESS',value[0]);
DLG1_DlgObj.setValue('EDITOR_3_CITY',value[1]);
DLG1_DlgObj.setValue('EDITOR_3_STATE',value[2]);
DLG1_DlgObj.setValue('EDITOR_3_ZIP',value[3]);
},commit: function(settings) { 
var _data = []
_data.push(DLG1_DlgObj.getValue('EDITOR_3_ADDRESS'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_CITY'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_STATE'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_ZIP'));
return _data;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	title = 'Address,City,State,Zip';
	var eleTitle = $('EDITOR_3.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	}
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_4":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_4_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_4_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_4.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_4.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_BUSCATEGORY":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_BUSCATEGORY_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_BUSCATEGORY_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_BUSCATEGORY.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_BUSCATEGORY.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_DATE":{edit: function(value,settings) { 
if(typeof DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE == 'undefined') { 
	DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE = function() {
		var sYear = DLG1_DlgObj.getControl('EDITOR_DATE_S_YEAR');
		var sMonth = DLG1_DlgObj.getControl('EDITOR_DATE_S_MONTH');
		var sDate = DLG1_DlgObj.getControl('EDITOR_DATE_S_DAY');
		if(!sYear || !sMonth || !sDate) return false;
		var year = sYear.value;
		var month = sMonth.value;
		var dInM = new Date(Number(year),Number(month), 0).getDate();
		var dates = [];
		dates.push({html: '&nbsp;', value: '0'});
		for(var i=1;i<=dInM;i++) dates.push({html: i, value: i});
		if(sDate.value > dInM) sDate.value = dInM;
		sDate.populate(dates,true);
		sDate.refresh();
	}
}
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
var d = new Date();
var dfmt = A5.serverSideDateFormat;
if(value != null) d.fromFormat(value,dfmt);
sYear.refresh();
sMonth.refresh();
sYear.setValue(d.getFullYear());
sMonth.setValue(d.getMonth()+1);
if(value == '') { 
	sYear.setValue('0');
	sMonth.setValue('0');
}
DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
if(value != '') { 
	sDate.setValue(d.getDate());
} else { 
	sDate.setValue('0');
}
},commit: function(settings) { 
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
var val = sMonth.value+'/'+sDate.value+'/'+sYear.value;
if(val == '0/0/0') val = '';
if(Number(sMonth.value <10)) { 
	var _month = '0' + sMonth.value;
	var val = _month+'/'+sDate.value+'/'+sYear.value;
}
return val;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_DATE.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} ;
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_DATE.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText;
		if(hEle) hEle.style.display = '';	
	};
	var flagShowTodayButton = true;
	var flagShowClearDateButton = true;
	var __gs = settings['__genieSettings'];
	if(typeof __gs == 'undefined' || __gs == null) __gs = {};
	if(typeof __gs != 'undefined') { 
		if(typeof __gs['showTodayButton'] != 'undefined') { 
			var showToday = __gs['showTodayButton'];
			if(!showToday) flagShowTodayButton = false;
		};
		if(typeof __gs['showClearDateButton'] != 'undefined') { 
			var showClearDate = __gs['showClearDateButton'];
			if(!showClearDate) flagShowClearDateButton = false;
		};
	}
	if(!flagShowTodayButton) { 
		DLG1_DlgObj.setControlDisplay('EDITOR_DATE_TODAY',false);
	} else { 
		var bEle = DLG1_DlgObj.getControl('EDITOR_DATE_TODAY');
		var label = __gs['todayButtonLabel'];
		if(typeof label == 'undefined') label = 'Today';
		bEle.html = label;
		bEle.refresh();
	}
	if(!flagShowClearDateButton) { 
		DLG1_DlgObj.setControlDisplay('EDITOR_DATE_CLEAR',false);
	} else { 
		var bEle = DLG1_DlgObj.getControl('EDITOR_DATE_CLEAR');
		var label = __gs['clearDateButtonLabel'];
		if(typeof label == 'undefined') label = 'Clear Date';
		bEle.html = label;
		bEle.refresh();
	};
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_SIGNATURE":{edit: function(value,settings) { 
var ink = DLG1_DlgObj.getControl('EDITOR_SIGNATURE_SIGNATUREINK');
ink.setValue(value);
if(value == '') { 
	ink.layout = 'editor';
	ink.refresh();
} else { 
	ink.layout = 'view';
	ink.refresh();
}
},commit: function(settings) { 
var ink = DLG1_DlgObj.getControl('EDITOR_SIGNATURE_SIGNATUREINK');
return ink.value;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
var title = settings['title'];
if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
if(typeof title == 'undefined') title = '';
var eleTitle = $('EDITOR_SIGNATURE.FIELDLABEL');
if(title == '') { 
	if(eleTitle) eleTitle.style.display = 'none';
} else { 
	if(eleTitle) eleTitle.style.display = '';
	if(eleTitle) eleTitle.innerHTML = title;
} 
var helpText = settings['helpText'];
if(typeof helpText == 'undefined') helpText = '';
var hEle = $('EDITOR_SIGNATURE.HELPTEXT');
if(helpText == '') { 
	if(hEle) hEle.style.display = 'none';
} else { 
	if(hEle) hEle.innerHTML = helpText
	if(hEle) hEle.style.display = '';	
}
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_STATUS":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_STATUS_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_STATUS_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_STATUS.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_STATUS.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_7":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_7_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_7_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_7.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_7.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_AN":{edit: function(value,settings) { 
var __gs = settings['__genieSettings'];
var d = {};
if (typeof __gs == 'undefined') { 
	d.settings = {};
} else {
	d.settings = __gs;
};
var kpd = {
	formatter: false,
	settings: d.settings
};
$u.o.assign(kpd.settings,{
	size: -1, 
	align: 'right', 
	scale: true, 
	keypad: 'a', 
	lowerCase: true, 
	allowLowerCase: false,  
	allowSpace: true, 
	cursor: {
		allow: true, 
		index: 0 
	},
	customKeys: {
		allow: true, 
		primary: {allow: true, value: ['@'], html: "@"},  
		secondary: {allow: true, value: ['.'], html: "."}
	}
},true);
if(value.constructor == Array) { 
	value = value.toString();
}
if(d.settings.cursor.index == -1) { 
	kpd.settings.cursor.index = value.length;
}	;
if(typeof d.settings.formatter != 'undefined') { 
	if(typeof d.settings.formatter == 'function') { 
		kpd.formatter = d.settings.formatter;
	} else { 
		if(typeof window[d.settings.formatter] == 'function') { 
			kpd.formatter = window[d.settings.formatter];
		};
	};
};
var kpVb = DLG1_DlgObj.getControl('EDITOR_AN_KEYPAD');
DLG1_DlgObj.setValue('EDITOR_AN_KEYPAD',value);
var keyPadSize = 'Default';
kpVb._mode = 'auto';
if(typeof d.settings.keypadSize != 'undefined') {
	kpVb._mode = d.settings.keypadSize;
	if(d.settings.keypadSize == 'full') { 
		keyPadSize = 'full';
	}
}
kpVb.layout = keyPadSize;
kpVb.populate(kpd,true);
},commit: function(settings) { 
var x = DLG1_DlgObj.getValue('EDITOR_AN_KEYPAD'); if(x.constructor == Array) { x = x.toString();}; return x;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_NUM":{edit: function(value,settings) { 
var __gs = settings['__genieSettings'];
var d = {};
if (typeof __gs == 'undefined') { 
	d.settings = {};
} else {
	d.settings = __gs;
};
var kpd = {
	formatter: false,
	settings: d.settings
};
$u.o.assign(kpd.settings,{
	size: -1,
	align: 'right',
	scale: true,
	keypad: 'a',
	customKeys: {
		allow: false,
		primary: {allow: false, value: ['*'], html: '*'},
		secondary: {allow: false, value: ['/'], html: '/'}
	},
	negative: {
		allow: false
	},
	decimal: {
		allow: false,
		char: '.',
		places: -1
	}
},true);
if(typeof d.settings.formatter != 'undefined') { 
	if(typeof d.settings.formatter == 'function') { 
		kpd.formatter = d.settings.formatter;
	} else { 
		if(typeof window[d.settings.formatter] == 'function') { 
			kpd.formatter = window[d.settings.formatter];
		};
	};
};
var kpVb = DLG1_DlgObj.getControl('EDITOR_NUM_KEYPAD');
kpVb.populate(kpd);
DLG1_DlgObj.setValue('EDITOR_NUM_KEYPAD',value);
},commit: function(settings) { 
var x = DLG1_DlgObj.getValue('EDITOR_NUM_KEYPAD'); if(x.constructor == Array) { x = x.toString();}; return x;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}}}
}
DLG1_DlgObj._editors['EDITORSET_4'] = {
	show: function(value,settings) { 
DLG1_DlgObj.panelSetActive('PANELCARD_EDITORS');
},
	hide: function(settings) { 
DLG1_DlgObj.panelSetActive('PANELCARD_FORMVIEW');
},
	onCommit: function(value,settings) { 
},
	autoCommit: true,
	editors: {"EDITOR_3":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_3_ADDRESS',value[0]);
DLG1_DlgObj.setValue('EDITOR_3_CITY',value[1]);
DLG1_DlgObj.setValue('EDITOR_3_STATE',value[2]);
DLG1_DlgObj.setValue('EDITOR_3_ZIP',value[3]);
},commit: function(settings) { 
var _data = []
_data.push(DLG1_DlgObj.getValue('EDITOR_3_ADDRESS'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_CITY'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_STATE'));
_data.push(DLG1_DlgObj.getValue('EDITOR_3_ZIP'));
return _data;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	title = 'Address,City,State,Zip';
	var eleTitle = $('EDITOR_3.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	}
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_4":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_4_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_4_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_4.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_4.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_BUSCATEGORY":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_BUSCATEGORY_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_BUSCATEGORY_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_BUSCATEGORY.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_BUSCATEGORY.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_DATE":{edit: function(value,settings) { 
if(typeof DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE == 'undefined') { 
	DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE = function() {
		var sYear = DLG1_DlgObj.getControl('EDITOR_DATE_S_YEAR');
		var sMonth = DLG1_DlgObj.getControl('EDITOR_DATE_S_MONTH');
		var sDate = DLG1_DlgObj.getControl('EDITOR_DATE_S_DAY');
		if(!sYear || !sMonth || !sDate) return false;
		var year = sYear.value;
		var month = sMonth.value;
		var dInM = new Date(Number(year),Number(month), 0).getDate();
		var dates = [];
		dates.push({html: '&nbsp;', value: '0'});
		for(var i=1;i<=dInM;i++) dates.push({html: i, value: i});
		if(sDate.value > dInM) sDate.value = dInM;
		sDate.populate(dates,true);
		sDate.refresh();
	}
}
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
var d = new Date();
var dfmt = A5.serverSideDateFormat;
if(value != null) d.fromFormat(value,dfmt);
sYear.refresh();
sMonth.refresh();
sYear.setValue(d.getFullYear());
sMonth.setValue(d.getMonth()+1);
if(value == '') { 
	sYear.setValue('0');
	sMonth.setValue('0');
}
DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
if(value != '') { 
	sDate.setValue(d.getDate());
} else { 
	sDate.setValue('0');
}
},commit: function(settings) { 
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
var val = sMonth.value+'/'+sDate.value+'/'+sYear.value;
if(val == '0/0/0') val = '';
if(Number(sMonth.value <10)) { 
	var _month = '0' + sMonth.value;
	var val = _month+'/'+sDate.value+'/'+sYear.value;
}
return val;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_DATE.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} ;
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_DATE.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText;
		if(hEle) hEle.style.display = '';	
	};
	var flagShowTodayButton = true;
	var flagShowClearDateButton = true;
	var __gs = settings['__genieSettings'];
	if(typeof __gs == 'undefined' || __gs == null) __gs = {};
	if(typeof __gs != 'undefined') { 
		if(typeof __gs['showTodayButton'] != 'undefined') { 
			var showToday = __gs['showTodayButton'];
			if(!showToday) flagShowTodayButton = false;
		};
		if(typeof __gs['showClearDateButton'] != 'undefined') { 
			var showClearDate = __gs['showClearDateButton'];
			if(!showClearDate) flagShowClearDateButton = false;
		};
	}
	if(!flagShowTodayButton) { 
		DLG1_DlgObj.setControlDisplay('EDITOR_DATE_TODAY',false);
	} else { 
		var bEle = DLG1_DlgObj.getControl('EDITOR_DATE_TODAY');
		var label = __gs['todayButtonLabel'];
		if(typeof label == 'undefined') label = 'Today';
		bEle.html = label;
		bEle.refresh();
	}
	if(!flagShowClearDateButton) { 
		DLG1_DlgObj.setControlDisplay('EDITOR_DATE_CLEAR',false);
	} else { 
		var bEle = DLG1_DlgObj.getControl('EDITOR_DATE_CLEAR');
		var label = __gs['clearDateButtonLabel'];
		if(typeof label == 'undefined') label = 'Clear Date';
		bEle.html = label;
		bEle.refresh();
	};
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_SIGNATURE":{edit: function(value,settings) { 
var ink = DLG1_DlgObj.getControl('EDITOR_SIGNATURE_SIGNATUREINK');
ink.setValue(value);
if(value == '') { 
	ink.layout = 'editor';
	ink.refresh();
} else { 
	ink.layout = 'view';
	ink.refresh();
}
},commit: function(settings) { 
var ink = DLG1_DlgObj.getControl('EDITOR_SIGNATURE_SIGNATUREINK');
return ink.value;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
var title = settings['title'];
if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
if(typeof title == 'undefined') title = '';
var eleTitle = $('EDITOR_SIGNATURE.FIELDLABEL');
if(title == '') { 
	if(eleTitle) eleTitle.style.display = 'none';
} else { 
	if(eleTitle) eleTitle.style.display = '';
	if(eleTitle) eleTitle.innerHTML = title;
} 
var helpText = settings['helpText'];
if(typeof helpText == 'undefined') helpText = '';
var hEle = $('EDITOR_SIGNATURE.HELPTEXT');
if(helpText == '') { 
	if(hEle) hEle.style.display = 'none';
} else { 
	if(hEle) hEle.innerHTML = helpText
	if(hEle) hEle.style.display = '';	
}
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_STATUS":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_STATUS_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_STATUS_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_STATUS.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_STATUS.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_7":{edit: function(value,settings) { 
DLG1_DlgObj.setValue('EDITOR_7_TXTBOX',value);
},commit: function(settings) { 
return DLG1_DlgObj.getValue('EDITOR_7_TXTBOX');
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
if(typeof settings.formView != 'undefined') { 	
	var title = settings['title'];
	if(typeof title == 'undefined' || title == '' ) title = settings.formView.active.name;
	if(typeof title == 'undefined') title = '';
	var eleTitle = $('EDITOR_7.FIELDLABEL');
	if(title == '') { 
		if(eleTitle) eleTitle.style.display = 'none';
	} else { 
		if(eleTitle) eleTitle.style.display = '';
		if(eleTitle) eleTitle.innerHTML = title;
	} 
	var helpText = settings['helpText'];
	if(typeof helpText == 'undefined') helpText = '';
	var hEle = $('EDITOR_7.HELPTEXT');
	if(helpText == '') { 
		if(hEle) hEle.style.display = 'none';
	} else { 
		if(hEle) hEle.innerHTML = helpText
		if(hEle) hEle.style.display = '';	
	}
};
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_AN":{edit: function(value,settings) { 
var __gs = settings['__genieSettings'];
var d = {};
if (typeof __gs == 'undefined') { 
	d.settings = {};
} else {
	d.settings = __gs;
};
var kpd = {
	formatter: false,
	settings: d.settings
};
$u.o.assign(kpd.settings,{
	size: -1, 
	align: 'right', 
	scale: true, 
	keypad: 'a', 
	lowerCase: true, 
	allowLowerCase: false,  
	allowSpace: true, 
	cursor: {
		allow: true, 
		index: 0 
	},
	customKeys: {
		allow: true, 
		primary: {allow: true, value: ['@'], html: "@"},  
		secondary: {allow: true, value: ['.'], html: "."}
	}
},true);
if(value.constructor == Array) { 
	value = value.toString();
}
if(d.settings.cursor.index == -1) { 
	kpd.settings.cursor.index = value.length;
}	;
if(typeof d.settings.formatter != 'undefined') { 
	if(typeof d.settings.formatter == 'function') { 
		kpd.formatter = d.settings.formatter;
	} else { 
		if(typeof window[d.settings.formatter] == 'function') { 
			kpd.formatter = window[d.settings.formatter];
		};
	};
};
var kpVb = DLG1_DlgObj.getControl('EDITOR_AN_KEYPAD');
DLG1_DlgObj.setValue('EDITOR_AN_KEYPAD',value);
var keyPadSize = 'Default';
kpVb._mode = 'auto';
if(typeof d.settings.keypadSize != 'undefined') {
	kpVb._mode = d.settings.keypadSize;
	if(d.settings.keypadSize == 'full') { 
		keyPadSize = 'full';
	}
}
kpVb.layout = keyPadSize;
kpVb.populate(kpd,true);
},commit: function(settings) { 
var x = DLG1_DlgObj.getValue('EDITOR_AN_KEYPAD'); if(x.constructor == Array) { x = x.toString();}; return x;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}},
"EDITOR_NUM":{edit: function(value,settings) { 
var __gs = settings['__genieSettings'];
var d = {};
if (typeof __gs == 'undefined') { 
	d.settings = {};
} else {
	d.settings = __gs;
};
var kpd = {
	formatter: false,
	settings: d.settings
};
$u.o.assign(kpd.settings,{
	size: -1,
	align: 'right',
	scale: true,
	keypad: 'a',
	customKeys: {
		allow: false,
		primary: {allow: false, value: ['*'], html: '*'},
		secondary: {allow: false, value: ['/'], html: '/'}
	},
	negative: {
		allow: false
	},
	decimal: {
		allow: false,
		char: '.',
		places: -1
	}
},true);
if(typeof d.settings.formatter != 'undefined') { 
	if(typeof d.settings.formatter == 'function') { 
		kpd.formatter = d.settings.formatter;
	} else { 
		if(typeof window[d.settings.formatter] == 'function') { 
			kpd.formatter = window[d.settings.formatter];
		};
	};
};
var kpVb = DLG1_DlgObj.getControl('EDITOR_NUM_KEYPAD');
kpVb.populate(kpd);
DLG1_DlgObj.setValue('EDITOR_NUM_KEYPAD',value);
},commit: function(settings) { 
var x = DLG1_DlgObj.getValue('EDITOR_NUM_KEYPAD'); if(x.constructor == Array) { x = x.toString();}; return x;
},show: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = settings;
},hide: function(value,settings) { 
DLG1_DlgObj.__currentEditorSettings = false;
},validate: function(value,settings) { 
}}}
}
DLG1_DlgObj.__r = []
DLG1_DlgObj._staticHTMLMode = true
DLG1_DlgObj._EDITOR_EDITORSET = {
	'EDITOR_3' : {editorSet: 'EDITORSET_4'},
	'EDITOR_4' : {editorSet: 'EDITORSET_4'},
	'EDITOR_BUSCATEGORY' : {editorSet: 'EDITORSET_4'},
	'EDITOR_DATE' : {editorSet: 'EDITORSET_4'},
	'EDITOR_SIGNATURE' : {editorSet: 'EDITORSET_4'},
	'EDITOR_STATUS' : {editorSet: 'EDITORSET_4'},
	'EDITOR_7' : {editorSet: 'EDITORSET_4'},
	'EDITOR_AN' : {editorSet: 'EDITORSET_4'},
	'EDITOR_NUM' : {editorSet: 'EDITORSET_4'}
}
DLG1_DlgObj.styleName = 'Alpha';
DLG1_DlgObj.styleVersion = 4
DLG1_DlgObj.framesInfo = {
};
DLG1_DlgObj._noPersist = []
;
DLG1_DlgObj.dialogWatches['CONTROLBAR_1_PANELNAME'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var name = dialog.activePanelName;
name = name.split('_')[1];
return name;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_1');
cb.update('panelName',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_1_BUSNAME'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_1')
var newValue = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName')
cbObj.update('busName',newValue);
return newValue;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_1');
cb.update('busName',val,false,true,true);
}
};
DLG1_DlgObj.dialogWatches['CONTROLBAR_2_SETACTIVEPANEL_PANELCARD_GENERATORS_LIST_DISABLED'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			return ;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_2');
cb.update('SetActivePanel_PANELCARD_GENERATORS_LIST_disabled',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_2_SETACTIVEPANEL_PANELCARD_SEARCH_DISABLED'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			return ;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_2');
cb.update('SetActivePanel_PANELCARD_SEARCH_disabled',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_2_SETACTIVEPANEL_PANELCARD_SAVE_EXIT_DISABLED'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			return ;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_2');
cb.update('SetActivePanel_PANELCARD_SAVE_EXIT_disabled',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_2_SETACTIVEPANEL_PANELCARD_8_DISABLED'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			return ;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_2');
cb.update('SetActivePanel_PANELCARD_8_disabled',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_2_SETACTIVEPANEL_PANELCARD_9_DISABLED'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			return ;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_2');
cb.update('SetActivePanel_PANELCARD_9_disabled',val,false,true,true);
}
};
DLG1_DlgObj.dialogWatches['CONTROLBAR_4_BUSNAME2'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4');
var newValue2 = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName');
cbObj.update('busName2',newValue2);
return newValue2;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_4');
cb.update('busName2',val,false,true,true);
}
};
DLG1_DlgObj.dialogWatches['CONTROLBAR_7_PANELNAME'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var name = dialog.activePanelName;
name = name.split('_')[1];
return name;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_7');
cb.update('panelName',val,false,true,true);
}
};DLG1_DlgObj.dialogWatches['CONTROLBAR_7_BUSNAME'] = {
	"watch": ['BUSINESSNAME'],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_7')
var newValue = DLG1_DlgObj.getValue('BusinessName')
var str2 = " Admin"
var res = newValue.concat(str2);
cbObj.update('busName',res);
return res;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_7');
cb.update('busName',val,false,true,true);
}
};
DLG1_DlgObj.dialogWatches['CONTROLBAR_6_BUSNAME2'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_4');
var newValue2 = DLG1_DlgObj.getValue('list::GENADMINLIST::BusinessName');
cbObj.update('busName2',newValue2);
return newValue2;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_6');
cb.update('busName2',val,false,true,true);
}
};
DLG1_DlgObj.dialogWatches['CONTROLBAR_3_BUSNAME'] = {
	"watch": [],
	"variables": [],
	"onChange": function(data) { 
var val = function(data) { 			var dialog = {};
			var summary = {};
			DLG1_DlgObj._getDialogVariables(dialog,summary,data);
			var cbObj = DLG1_DlgObj.getControl('CONTROLBAR_3')
var newValue = DLG1_DlgObj.getValue('list::GENERATORSLIST::BusinessName')
cbObj.update('busName',newValue);
return newValue;}(data);
var cb = DLG1_DlgObj.getControl('CONTROLBAR_3');
cb.update('busName',val,false,true,true);
}
};;
;
DLG1_DlgObj._ssdecimal = '.';;
$u.decimal = '.';
$u.comma = ',';
;
;
;
DLG1_DlgObj.applyServerSideRules();

$e.add('DLG1.V.R1.BUTTON_LISTSEARCH_GENERATORSLIST',A5.d.evnts.click,function(e) {
DLG1_DlgObj.getControl('GENERATORSLIST').searchList({searchMode : 'auto'});
},this,false,'DLG1.V.R1.BUTTON_LISTSEARCH_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_LISTSEARCHCLEAR_GENERATORSLIST',A5.d.evnts.click,function(e) {
DLG1_DlgObj.getControl('GENERATORSLIST').clearSearchList({searchMode : 'auto'});
},this,false,'DLG1.V.R1.BUTTON_LISTSEARCHCLEAR_GENERATORSLIST');
































$e.add('DLG1.V.R1.BUTTON_27',A5.d.evnts.click,function(e) {
var searchFor = DLG1_DlgObj.getValue('companyid');
var listObj = DLG1_DlgObj.getControl('GENADMINLIST');
listObj.filterListClientSide(searchFor);
},this,false,'DLG1.V.R1.BUTTON_27');



































$e.add('DLG1.V.R1.BUTTON_DVSAVE_GENERATORSLIST',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.updateListFromUXControls();
},this,false,'DLG1.V.R1.BUTTON_DVSAVE_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_DVNEWRECORD_GENERATORSLIST',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.newDetailViewRecord();
},this,false,'DLG1.V.R1.BUTTON_DVNEWRECORD_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_DVDELETERECORD_GENERATORSLIST',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.deleteRow();
},this,false,'DLG1.V.R1.BUTTON_DVDELETERECORD_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_DVRESET_GENERATORSLIST',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
lObj.resetForm({prompt: true});
},this,false,'DLG1.V.R1.BUTTON_DVRESET_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_DVSYNCHRONIZE_GENERATORSLIST',A5.d.evnts.click,function(e) {
DLG1_DlgObj.saveListEdits('GENERATORSLIST',{rows: 'allRows'});
},this,false,'DLG1.V.R1.BUTTON_DVSYNCHRONIZE_GENERATORSLIST');

$e.add('DLG1.V.R1.BUTTON_26',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PANELCARD_GENERATORS_LIST',true);
},this,false,'DLG1.V.R1.BUTTON_26');






















$e.add('DLG1.V.R1.EDITOR_2_SAVEBUTTON1',A5.d.evnts.click,function(e) {
var edObj = DLG1_DlgObj._EDITOR_EDITORSET['EDITOR_3'];
var es = '';
if(typeof edObj != 'undefined') es = edObj.editorSet;
if(typeof es == 'undefined') es = '';

if(es != '') { 
	var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit(es,closeEditorAfterCommit);
}
},this,false,'DLG1.V.R1.EDITOR_2_SAVEBUTTON1');

$e.add('DLG1.V.R1.EDITOR_2_CANCELBUTTON1',A5.d.evnts.click,function(e) {
var edObj = DLG1_DlgObj._EDITOR_EDITORSET['EDITOR_3'];
var es = '';
if(typeof edObj != 'undefined') es = edObj.editorSet;
if(typeof es == 'undefined') es = '';

if(es != '') { 
	DLG1_DlgObj.editorCancel(es);
}
},this,false,'DLG1.V.R1.EDITOR_2_CANCELBUTTON1');






$e.add('DLG1.V.R1.EDITOR_4_SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit('editor:EDITOR_4',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_4_SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_4_CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_4');
},this,false,'DLG1.V.R1.EDITOR_4_CANCELBUTTON');






$e.add('DLG1.V.R1.EDITOR_BUSCATEGORY_SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit('editor:EDITOR_BUSCATEGORY',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_BUSCATEGORY_SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_BUSCATEGORY_CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_BUSCATEGORY');
},this,false,'DLG1.V.R1.EDITOR_BUSCATEGORY_CANCELBUTTON');









$e.add('DLG1.V.R1.EDITOR_DATE_TODAY',A5.d.evnts.click,function(e) {
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
var d = new Date();






sYear.refresh();
sMonth.refresh();
sYear.setValue(d.getFullYear());
sMonth.setValue(d.getMonth()+1);


DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
sDate.setValue(d.getDate());
},this,false,'DLG1.V.R1.EDITOR_DATE_TODAY');

$e.add('DLG1.V.R1.EDITOR_DATE_CLEAR',A5.d.evnts.click,function(e) {
var sDate = DLG1_DlgObj.getControl("EDITOR_DATE_S_DAY");
var sMonth = DLG1_DlgObj.getControl("EDITOR_DATE_S_MONTH");
var sYear = DLG1_DlgObj.getControl("EDITOR_DATE_S_YEAR");
sYear.refresh();
sMonth.refresh();
sYear.setValue('0');
sMonth.setValue('0');
DLG1_DlgObj._functions.setDaysInMonth_EDITOR_DATE();
sDate.setValue('0');
},this,false,'DLG1.V.R1.EDITOR_DATE_CLEAR');


$e.add('DLG1.V.R1.EDITOR_DATE_SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit('editor:EDITOR_DATE',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_DATE_SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_DATE_CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_DATE');
},this,false,'DLG1.V.R1.EDITOR_DATE_CANCELBUTTON');











$e.add('DLG1.V.R1.EDITOR_STATUS_SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit('editor:EDITOR_STATUS',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_STATUS_SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_STATUS_CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_STATUS');
},this,false,'DLG1.V.R1.EDITOR_STATUS_CANCELBUTTON');






$e.add('DLG1.V.R1.EDITOR_7_SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
	DLG1_DlgObj.editorCommit('editor:EDITOR_7',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_7_SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_7_CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_7');
},this,false,'DLG1.V.R1.EDITOR_7_CANCELBUTTON');




$e.add('DLG1.V.R1.EDITOR_AN___SAVEBUTTON1',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
DLG1_DlgObj.editorCommit('editor:EDITOR_AN',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_AN___SAVEBUTTON1');

$e.add('DLG1.V.R1.EDITOR_AN___CANCELBUTTON1',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_AN');
},this,false,'DLG1.V.R1.EDITOR_AN___CANCELBUTTON1');




$e.add('DLG1.V.R1.EDITOR_NUM__SAVEBUTTON',A5.d.evnts.click,function(e) {
var closeEditorAfterCommit = true;
DLG1_DlgObj.editorCommit('editor:EDITOR_NUM',closeEditorAfterCommit);
},this,false,'DLG1.V.R1.EDITOR_NUM__SAVEBUTTON');

$e.add('DLG1.V.R1.EDITOR_NUM__CANCELBUTTON',A5.d.evnts.click,function(e) {
DLG1_DlgObj.editorCancel('editor:EDITOR_NUM');
},this,false,'DLG1.V.R1.EDITOR_NUM__CANCELBUTTON');

DLG1_DlgObj.prepare();DLG1_DlgObj.populate(DLG1_DlgObj.originalValues[0]);
DLG1_DlgObj._fireWatches(1);
DLG1_DlgObj._functions.listControlOrientationChange = function() { var e = {};
e.orientation = DLG1_DlgObj.getOrientation(); 

var lObj = DLG1_DlgObj.getControl('GENERATORSLIST');
if(lObj) {
	if(e.orientation == 'landscape') lObj.selectCurrentLayout('');
	else lObj.selectCurrentLayout('');
	var _r = lObj._selectedRow;
	if(typeof _r != 'undefined') {
		lObj.setValue(_r,false);
		lObj.scrollToItem(_r,{mode: 'into-view',animation: {allow: false,duration: 200},offset: {x: 0,y: 0}});
	}
}
var lObj = DLG1_DlgObj.getControl('GENADMINLIST');
if(lObj) {
	if(e.orientation == 'landscape') lObj.selectCurrentLayout('');
	else lObj.selectCurrentLayout('');
	var _r = lObj._selectedRow;
	if(typeof _r != 'undefined') {
		lObj.setValue(_r,false);
		lObj.scrollToItem(_r,{mode: 'into-view',animation: {allow: false,duration: 200},offset: {x: 0,y: 0}});
	}
}

};
if(!A5.flags.isMobile) $e.add(window,'resize',DLG1_DlgObj._functions.calcOrientation,null,false,'DLG1.DIALOG');
else $e.add(window,'orientationchange',DLG1_DlgObj._orientationChangeHandler,DLG1_DlgObj,true,'DLG1.DIALOG');
DLG1_DlgObj._functions.calcOrientation();










var listObj = DLG1_DlgObj.getControl('GENERATORSLIST');
if(listObj) listObj._state.recordCount = 3;
if(listObj) listObj._state.recordCountFormatted = '3';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = 1;
if(listObj) listObj._state.pageSize = 20;
if(listObj) {var ele = $('DLG1.GENERATORSLIST.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.having = '';
if(listObj) listObj._state.order = 'BusinessName';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.highlight = {  };
if(listObj) listObj._state.whereClause = 'UserType = \'Generator Admin\'  AND  BusinessName <> \'\'';
if(listObj) listObj._state.whereParameters = '|||C|currcom\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data, submode: 'ListViewData'});
			}
		}
		
		
;
if(listObj) listObj._state.pageCount = 1;
DLG1_DlgObj._list_executeEvent('GENERATORSLIST','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();








var listObj = DLG1_DlgObj.getControl('BUSCAT');
if(listObj) listObj._state.recordCount = 2;
if(listObj) listObj._state.recordCountFormatted = '2';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = 1;
if(listObj) listObj._state.pageSize = 20;
if(listObj) {var ele = $('DLG1.BUSCAT.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.having = '';
if(listObj) listObj._state.order = '';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.highlight = {  };
if(listObj) listObj._state.whereClause = '';
if(listObj) listObj._state.whereParameters = '|||C|currcom\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data, submode: 'ListViewData'});
			}
		}
		
		
;
if(listObj) listObj._state.pageCount = 1;
DLG1_DlgObj._list_executeEvent('BUSCAT','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();





































var listObj = DLG1_DlgObj.getControl('GENADMINLIST');
if(listObj) listObj._state.recordCount = 4;
if(listObj) listObj._state.recordCountFormatted = '4';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = 1;
if(listObj) listObj._state.pageSize = 20;
if(listObj) {var ele = $('DLG1.GENADMINLIST.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;};
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.having = '';
if(listObj) listObj._state.order = 'fname';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.highlight = {  };
if(listObj) listObj._state.whereClause = 'UserType = \'Generator Admin\'';
if(listObj) listObj._state.whereParameters = '|||C|currcom\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data, submode: 'ListViewData'});
			}
		}
		
		
;
if(listObj) listObj._state.pageCount = 1;
DLG1_DlgObj._list_executeEvent('GENADMINLIST','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();

































































































































setTimeout(function() { },0);
DLG1_DlgObj._listsWithJSFuncDataSource = {};


DLG1_DlgObj._executeEvent('onInitializeComplete');
DLG1_DlgObj.initialized = true;






//fix the ajax url
if (A5.shell) {
   A5.shell.setAjaxURL(DLG1_DlgObj,"replaceMe");
};


DLG1_DlgObj._onRenderComplete = function() { DLG1_DlgObj._runJSOnLoad(); DLG1_DlgObj._findActiveLayoutRule(); }; 

setTimeout(function() { var p = DLG1_DlgObj.panelGet('PANELNAVIGATOR_1'); if(p) {  p.refresh(true); } },100);
setTimeout(function() {
	DLG1_DlgObj._executeEvent('onRenderComplete');
	DLG1_DlgObj.flagRenderComplete = true;
	var _flagPGApp = false;
	if(typeof _phoneGapSettings == 'function') {
		_flagPGApp = true;
		/*
		if(typeof cordova == 'object') {
			DLG1_DlgObj._cordovaReady = true;
		} else {
			DLG1_DlgObj._cordovaReady = false;
		};
		*/
	};



	//alert('is a pg app: ' + _flagPGApp + '  _cordovaReady: ' + DLG1_DlgObj._cordovaReady );
	if(!_flagPGApp) {
		DLG1_DlgObj._restoreFromLocalStorage();
	} else {

		//phonegap app, but phonegap may not yet be loaded
		//alert('register the _restoreFormLocalStorage to fire when phonegap is ready');

		DLG1_DlgObj._delayTillPhoneGapReady(DLG1_DlgObj._restoreFromLocalStorage,DLG1_DlgObj);
	}

 },1);

var o2 = 'portrait';
if(window.innerHeight < window.innerWidth) o2 = 'landscape';
DLG1_DlgObj._screen = {h: window.innerHeight, w: window.innerWidth, o: o2};

DLG1_DlgObj._getOnlineStatus();
try {
window.addEventListener("offline",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
window.addEventListener("online",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
} catch(err){}

DLG1_DlgObj._getOnlineStatus();
try {
window.addEventListener("offline",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
window.addEventListener("online",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
} catch(err){}


setTimeout(function() {$e.execute('device.screen','a5resize')},1);
;
;
DLG1_DlgObj.applyServerSideRules();
setTimeout(function() { },10);;
DLG1_DlgObj._activeLanguage = '<Default>';
</script>
<script>

</script>
</body>
</html>